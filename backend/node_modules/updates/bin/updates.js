#!/usr/bin/env node
import {createRequire} from 'module';const require = createRequire(import.meta.url);
var rp=Object.create;var si=Object.defineProperty;var np=Object.getOwnPropertyDescriptor;var sp=Object.getOwnPropertyNames;var ip=Object.getPrototypeOf,op=Object.prototype.hasOwnProperty;var Oe=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var qr=(t,e)=>()=>(t&&(e=t(t=0)),e);var L=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ap=(t,e)=>{for(var r in e)si(t,r,{get:e[r],enumerable:!0})},lp=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of sp(e))!op.call(t,i)&&i!==r&&si(t,i,{get:()=>e[i],enumerable:!(n=np(e,i))||n.enumerable});return t};var Fe=(t,e,r)=>(r=t!=null?rp(ip(t)):{},lp(e||!t||!t.__esModule?si(r,"default",{value:t,enumerable:!0}):r,t));var Da=L((z_,Ha)=>{"use strict";var oi=Oe("https"),ai=Oe("http"),{URL:Na}=Oe("url"),li=class extends ai.Agent{constructor(e){let{proxy:r,proxyRequestOptions:n,...i}=e;super(i),this.proxy=typeof r=="string"?new Na(r):r,this.proxyRequestOptions=n||{}}createConnection(e,r){let n={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${e.host}:${e.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${e.host}:${e.port}`},agent:!1,timeout:e.timeout||0};if(this.proxy.username||this.proxy.password){let a=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");n.headers["proxy-authorization"]=`Basic ${a}`}this.proxy.protocol==="https:"&&(n.servername=this.proxy.hostname);let i=(this.proxy.protocol==="http:"?ai:oi).request(n);i.once("connect",(a,l,f)=>{i.removeAllListeners(),l.removeAllListeners(),a.statusCode===200?r(null,l):(l.destroy(),r(new Error(`Bad response: ${a.statusCode}`),null))}),i.once("timeout",()=>{i.destroy(new Error("Proxy timeout"))}),i.once("error",a=>{i.removeAllListeners(),r(a,null)}),i.end()}},ui=class extends oi.Agent{constructor(e){let{proxy:r,proxyRequestOptions:n,...i}=e;super(i),this.proxy=typeof r=="string"?new Na(r):r,this.proxyRequestOptions=n||{}}createConnection(e,r){let n={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${e.host}:${e.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${e.host}:${e.port}`},agent:!1,timeout:e.timeout||0};if(this.proxy.username||this.proxy.password){let a=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");n.headers["proxy-authorization"]=`Basic ${a}`}this.proxy.protocol==="https:"&&(n.servername=this.proxy.hostname);let i=(this.proxy.protocol==="http:"?ai:oi).request(n);i.once("connect",(a,l,f)=>{if(i.removeAllListeners(),l.removeAllListeners(),a.statusCode===200){let c=super.createConnection({...e,socket:l});r(null,c)}else l.destroy(),r(new Error(`Bad response: ${a.statusCode}`),null)}),i.once("timeout",()=>{i.destroy(new Error("Proxy timeout"))}),i.once("error",a=>{i.removeAllListeners(),r(a,null)}),i.end()}};Ha.exports={HttpProxyAgent:li,HttpsProxyAgent:ui}});var Ua=L(qa=>{"use strict";var up=Oe("url").parse,cp={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},fp=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function hp(t){var e=typeof t=="string"?up(t):t||{},r=e.protocol,n=e.host,i=e.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),i=parseInt(i)||cp[r]||0,!dp(n,i)))return"";var a=nr("npm_config_"+r+"_proxy")||nr(r+"_proxy")||nr("npm_config_proxy")||nr("all_proxy");return a&&a.indexOf("://")===-1&&(a=r+"://"+a),a}function dp(t,e){var r=(nr("npm_config_no_proxy")||nr("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var i=n.match(/^(.+):(\d+)$/),a=i?i[1]:n,l=i?parseInt(i[2]):0;return l&&l!==e?!0:/^[.*]/.test(a)?(a.charAt(0)==="*"&&(a=a.slice(1)),!fp.call(t,a)):t!==a}):!0}function nr(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}qa.getProxyForUrl=hp});var di=L((J_,ja)=>{"use strict";function bp(t,e){var r=t;e.slice(0,-1).forEach(function(i){r=r[i]||{}});var n=e[e.length-1];return n in r}function ka(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function za(t,e){return e==="constructor"&&typeof t[e]=="function"||e==="__proto__"}ja.exports=function(t,e){e||(e={});var r={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(r.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?r.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(T){r.bools[T]=!0});var n={};function i(T){return n[T].some(function(O){return r.bools[O]})}Object.keys(e.alias||{}).forEach(function(T){n[T]=[].concat(e.alias[T]),n[T].forEach(function(O){n[O]=[T].concat(n[T].filter(function(P){return O!==P}))})}),[].concat(e.string).filter(Boolean).forEach(function(T){r.strings[T]=!0,n[T]&&[].concat(n[T]).forEach(function(O){r.strings[O]=!0})});var a=e.default||{},l={_:[]};function f(T,O){return r.allBools&&/^--[^=]+$/.test(O)||r.strings[T]||r.bools[T]||n[T]}function c(T,O,P){for(var H=T,D=0;D<O.length-1;D++){var M=O[D];if(za(H,M))return;H[M]===void 0&&(H[M]={}),(H[M]===Object.prototype||H[M]===Number.prototype||H[M]===String.prototype)&&(H[M]={}),H[M]===Array.prototype&&(H[M]=[]),H=H[M]}var _=O[O.length-1];za(H,_)||((H===Object.prototype||H===Number.prototype||H===String.prototype)&&(H={}),H===Array.prototype&&(H=[]),H[_]===void 0||r.bools[_]||typeof H[_]=="boolean"?H[_]=P:Array.isArray(H[_])?H[_].push(P):H[_]=[H[_],P])}function h(T,O,P){if(!(P&&r.unknownFn&&!f(T,P)&&r.unknownFn(P)===!1)){var H=!r.strings[T]&&ka(O)?Number(O):O;c(l,T.split("."),H),(n[T]||[]).forEach(function(D){c(l,D.split("."),H)})}}Object.keys(r.bools).forEach(function(T){h(T,a[T]===void 0?!1:a[T])});var b=[];t.indexOf("--")!==-1&&(b=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var g=0;g<t.length;g++){var m=t[g],d,R;if(/^--.+=/.test(m)){var S=m.match(/^--([^=]+)=([\s\S]*)$/);d=S[1];var $=S[2];r.bools[d]&&($=$!=="false"),h(d,$,m)}else if(/^--no-.+/.test(m))d=m.match(/^--no-(.+)/)[1],h(d,!1,m);else if(/^--.+/.test(m))d=m.match(/^--(.+)/)[1],R=t[g+1],R!==void 0&&!/^(-|--)[^-]/.test(R)&&!r.bools[d]&&!r.allBools&&(!n[d]||!i(d))?(h(d,R,m),g+=1):/^(true|false)$/.test(R)?(h(d,R==="true",m),g+=1):h(d,r.strings[d]?"":!0,m);else if(/^-[^-]+/.test(m)){for(var x=m.slice(1,-1).split(""),I=!1,U=0;U<x.length;U++){if(R=m.slice(U+2),R==="-"){h(x[U],R,m);continue}if(/[A-Za-z]/.test(x[U])&&R[0]==="="){h(x[U],R.slice(1),m),I=!0;break}if(/[A-Za-z]/.test(x[U])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(R)){h(x[U],R,m),I=!0;break}if(x[U+1]&&x[U+1].match(/\W/)){h(x[U],m.slice(U+2),m),I=!0;break}else h(x[U],r.strings[x[U]]?"":!0,m)}d=m.slice(-1)[0],!I&&d!=="-"&&(t[g+1]&&!/^(-|--)[^-]/.test(t[g+1])&&!r.bools[d]&&(!n[d]||!i(d))?(h(d,t[g+1],m),g+=1):t[g+1]&&/^(true|false)$/.test(t[g+1])?(h(d,t[g+1]==="true",m),g+=1):h(d,r.strings[d]?"":!0,m))}else if((!r.unknownFn||r.unknownFn(m)!==!1)&&l._.push(r.strings._||!ka(m)?m:Number(m)),e.stopEarly){l._.push.apply(l._,t.slice(g+1));break}}return Object.keys(a).forEach(function(T){bp(l,T.split("."))||(c(l,T.split("."),a[T]),(n[T]||[]).forEach(function(O){c(l,O.split("."),a[T])}))}),e["--"]?l["--"]=b.slice():b.forEach(function(T){l._.push(T)}),l}});var Ya=L((kn,Va)=>{(function(t,e){typeof kn=="object"&&typeof Va<"u"?e(kn):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.WebStreamsPolyfill={}))})(kn,function(t){"use strict";let e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:s=>`Symbol(${s})`;function r(){}function n(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let i=n();function a(s){return typeof s=="object"&&s!==null||typeof s=="function"}let l=r,f=Promise,c=Promise.prototype.then,h=Promise.resolve.bind(f),b=Promise.reject.bind(f);function g(s){return new f(s)}function m(s){return h(s)}function d(s){return b(s)}function R(s,o,u){return c.call(s,o,u)}function S(s,o,u){R(R(s,o,u),void 0,l)}function $(s,o){S(s,o)}function x(s,o){S(s,void 0,o)}function I(s,o,u){return R(s,o,u)}function U(s){R(s,void 0,l)}let T=(()=>{let s=i&&i.queueMicrotask;if(typeof s=="function")return s;let o=m(void 0);return u=>R(o,u)})();function O(s,o,u){if(typeof s!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(s,o,u)}function P(s,o,u){try{return m(O(s,o,u))}catch(p){return d(p)}}let H=16384;class D{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(o){let u=this._back,p=u;u._elements.length===H-1&&(p={_elements:[],_next:void 0}),u._elements.push(o),p!==u&&(this._back=p,u._next=p),++this._size}shift(){let o=this._front,u=o,p=this._cursor,y=p+1,A=o._elements,C=A[p];return y===H&&(u=o._next,y=0),--this._size,this._cursor=y,o!==u&&(this._front=u),A[p]=void 0,C}forEach(o){let u=this._cursor,p=this._front,y=p._elements;for(;(u!==y.length||p._next!==void 0)&&!(u===y.length&&(p=p._next,y=p._elements,u=0,y.length===0));)o(y[u]),++u}peek(){let o=this._front,u=this._cursor;return o._elements[u]}}function M(s,o){s._ownerReadableStream=o,o._reader=s,o._state==="readable"?X(s):o._state==="closed"?E(s):w(s,o._storedError)}function _(s,o){let u=s._ownerReadableStream;return je(u,o)}function j(s){s._ownerReadableStream._state==="readable"?de(s,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Y(s,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),s._ownerReadableStream._reader=void 0,s._ownerReadableStream=void 0}function k(s){return new TypeError("Cannot "+s+" a stream using a released reader")}function X(s){s._closedPromise=g((o,u)=>{s._closedPromise_resolve=o,s._closedPromise_reject=u})}function w(s,o){X(s),de(s,o)}function E(s){X(s),K(s)}function de(s,o){s._closedPromise_reject!==void 0&&(U(s._closedPromise),s._closedPromise_reject(o),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0)}function Y(s,o){w(s,o)}function K(s){s._closedPromise_resolve!==void 0&&(s._closedPromise_resolve(void 0),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0)}let Se=e("[[AbortSteps]]"),ce=e("[[ErrorSteps]]"),Ee=e("[[CancelSteps]]"),Er=e("[[PullSteps]]"),Tt=Number.isFinite||function(s){return typeof s=="number"&&isFinite(s)},rt=Math.trunc||function(s){return s<0?Math.ceil(s):Math.floor(s)};function Q(s){return typeof s=="object"||typeof s=="function"}function xe(s,o){if(s!==void 0&&!Q(s))throw new TypeError(`${o} is not an object.`)}function Ne(s,o){if(typeof s!="function")throw new TypeError(`${o} is not a function.`)}function N(s){return typeof s=="object"&&s!==null||typeof s=="function"}function oe(s,o){if(!N(s))throw new TypeError(`${o} is not an object.`)}function v(s,o,u){if(s===void 0)throw new TypeError(`Parameter ${o} is required in '${u}'.`)}function z(s,o,u){if(s===void 0)throw new TypeError(`${o} is required in '${u}'.`)}function ae(s){return Number(s)}function ye(s){return s===0?0:s}function pe(s){return ye(rt(s))}function jt(s,o){let p=Number.MAX_SAFE_INTEGER,y=Number(s);if(y=ye(y),!Tt(y))throw new TypeError(`${o} is not a finite number`);if(y=pe(y),y<0||y>p)throw new TypeError(`${o} is outside the accepted range of 0 to ${p}, inclusive`);return!Tt(y)||y===0?0:y}function ht(s,o){if(!bt(s))throw new TypeError(`${o} is not a ReadableStream.`)}function Gt(s){return new Ar(s)}function vo(s,o){s._reader._readRequests.push(o)}function Ns(s,o,u){let y=s._reader._readRequests.shift();u?y._closeSteps():y._chunkSteps(o)}function fn(s){return s._reader._readRequests.length}function Oo(s){let o=s._reader;return!(o===void 0||!dt(o))}class Ar{constructor(o){if(v(o,1,"ReadableStreamDefaultReader"),ht(o,"First parameter"),yt(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");M(this,o),this._readRequests=new D}get closed(){return dt(this)?this._closedPromise:d(hn("closed"))}cancel(o=void 0){return dt(this)?this._ownerReadableStream===void 0?d(k("cancel")):_(this,o):d(hn("cancel"))}read(){if(!dt(this))return d(hn("read"));if(this._ownerReadableStream===void 0)return d(k("read from"));let o,u,p=g((A,C)=>{o=A,u=C});return Tr(this,{_chunkSteps:A=>o({value:A,done:!1}),_closeSteps:()=>o({value:void 0,done:!0}),_errorSteps:A=>u(A)}),p}releaseLock(){if(!dt(this))throw hn("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");j(this)}}}Object.defineProperties(Ar.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Ar.prototype,e.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function dt(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_readRequests")?!1:s instanceof Ar}function Tr(s,o){let u=s._ownerReadableStream;u._disturbed=!0,u._state==="closed"?o._closeSteps():u._state==="errored"?o._errorSteps(u._storedError):u._readableStreamController[Er](o)}function hn(s){return new TypeError(`ReadableStreamDefaultReader.prototype.${s} can only be used on a ReadableStreamDefaultReader`)}let $o=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Io{constructor(o,u){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=o,this._preventCancel=u}next(){let o=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?I(this._ongoingPromise,o,o):o(),this._ongoingPromise}return(o){let u=()=>this._returnSteps(o);return this._ongoingPromise?I(this._ongoingPromise,u,u):u()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let o=this._reader;if(o._ownerReadableStream===void 0)return d(k("iterate"));let u,p,y=g((C,B)=>{u=C,p=B});return Tr(o,{_chunkSteps:C=>{this._ongoingPromise=void 0,T(()=>u({value:C,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,j(o),u({value:void 0,done:!0})},_errorSteps:C=>{this._ongoingPromise=void 0,this._isFinished=!0,j(o),p(C)}}),y}_returnSteps(o){if(this._isFinished)return Promise.resolve({value:o,done:!0});this._isFinished=!0;let u=this._reader;if(u._ownerReadableStream===void 0)return d(k("finish iterating"));if(!this._preventCancel){let p=_(u,o);return j(u),I(p,()=>({value:o,done:!0}))}return j(u),m({value:o,done:!0})}}let Lo={next(){return Po(this)?this._asyncIteratorImpl.next():d(No("next"))},return(s){return Po(this)?this._asyncIteratorImpl.return(s):d(No("return"))}};$o!==void 0&&Object.setPrototypeOf(Lo,$o);function Bh(s,o){let u=Gt(s),p=new Io(u,o),y=Object.create(Lo);return y._asyncIteratorImpl=p,y}function Po(s){if(!a(s)||!Object.prototype.hasOwnProperty.call(s,"_asyncIteratorImpl"))return!1;try{return s._asyncIteratorImpl instanceof Io}catch{return!1}}function No(s){return new TypeError(`ReadableStreamAsyncIterator.${s} can only be used on a ReadableSteamAsyncIterator`)}let Ho=Number.isNaN||function(s){return s!==s};function Cr(s){return s.slice()}function Do(s,o,u,p,y){new Uint8Array(s).set(new Uint8Array(u,p,y),o)}function M_(s){return s}function dn(s){return!1}function Bo(s,o,u){if(s.slice)return s.slice(o,u);let p=u-o,y=new ArrayBuffer(p);return Do(y,0,s,o,p),y}function Fh(s){return!(typeof s!="number"||Ho(s)||s<0)}function Fo(s){let o=Bo(s.buffer,s.byteOffset,s.byteOffset+s.byteLength);return new Uint8Array(o)}function Hs(s){let o=s._queue.shift();return s._queueTotalSize-=o.size,s._queueTotalSize<0&&(s._queueTotalSize=0),o.value}function Ds(s,o,u){if(!Fh(u)||u===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");s._queue.push({value:o,size:u}),s._queueTotalSize+=u}function qh(s){return s._queue.peek().value}function pt(s){s._queue=new D,s._queueTotalSize=0}class xr{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Bs(this))throw Ms("view");return this._view}respond(o){if(!Bs(this))throw Ms("respond");if(v(o,1,"respond"),o=jt(o,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");dn(this._view.buffer),yn(this._associatedReadableByteStreamController,o)}respondWithNewView(o){if(!Bs(this))throw Ms("respondWithNewView");if(v(o,1,"respondWithNewView"),!ArrayBuffer.isView(o))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");dn(o.buffer),_n(this._associatedReadableByteStreamController,o)}}Object.defineProperties(xr.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(xr.prototype,e.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Vt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ct(this))throw Or("byobRequest");return Us(this)}get desiredSize(){if(!Ct(this))throw Or("desiredSize");return Go(this)}close(){if(!Ct(this))throw Or("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let o=this._controlledReadableByteStream._state;if(o!=="readable")throw new TypeError(`The stream (in ${o} state) is not in the readable state and cannot be closed`);vr(this)}enqueue(o){if(!Ct(this))throw Or("enqueue");if(v(o,1,"enqueue"),!ArrayBuffer.isView(o))throw new TypeError("chunk must be an array buffer view");if(o.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(o.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let u=this._controlledReadableByteStream._state;if(u!=="readable")throw new TypeError(`The stream (in ${u} state) is not in the readable state and cannot be enqueued to`);bn(this,o)}error(o=void 0){if(!Ct(this))throw Or("error");ze(this,o)}[Ee](o){qo(this),pt(this);let u=this._cancelAlgorithm(o);return gn(this),u}[Er](o){let u=this._controlledReadableByteStream;if(this._queueTotalSize>0){let y=this._queue.shift();this._queueTotalSize-=y.byteLength,ko(this);let A=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);o._chunkSteps(A);return}let p=this._autoAllocateChunkSize;if(p!==void 0){let y;try{y=new ArrayBuffer(p)}catch(C){o._errorSteps(C);return}let A={buffer:y,bufferByteLength:p,byteOffset:0,byteLength:p,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(A)}vo(u,o),xt(this)}}Object.defineProperties(Vt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Vt.prototype,e.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ct(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledReadableByteStream")?!1:s instanceof Vt}function Bs(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_associatedReadableByteStreamController")?!1:s instanceof xr}function xt(s){if(!kh(s))return;if(s._pulling){s._pullAgain=!0;return}s._pulling=!0;let u=s._pullAlgorithm();S(u,()=>{s._pulling=!1,s._pullAgain&&(s._pullAgain=!1,xt(s))},p=>{ze(s,p)})}function qo(s){qs(s),s._pendingPullIntos=new D}function Fs(s,o){let u=!1;s._state==="closed"&&(u=!0);let p=Uo(o);o.readerType==="default"?Ns(s,p,u):Gh(s,p,u)}function Uo(s){let o=s.bytesFilled,u=s.elementSize;return new s.viewConstructor(s.buffer,s.byteOffset,o/u)}function pn(s,o,u,p){s._queue.push({buffer:o,byteOffset:u,byteLength:p}),s._queueTotalSize+=p}function Mo(s,o){let u=o.elementSize,p=o.bytesFilled-o.bytesFilled%u,y=Math.min(s._queueTotalSize,o.byteLength-o.bytesFilled),A=o.bytesFilled+y,C=A-A%u,B=y,G=!1;C>p&&(B=C-o.bytesFilled,G=!0);let ee=s._queue;for(;B>0;){let te=ee.peek(),re=Math.min(B,te.byteLength),ge=o.byteOffset+o.bytesFilled;Do(o.buffer,ge,te.buffer,te.byteOffset,re),te.byteLength===re?ee.shift():(te.byteOffset+=re,te.byteLength-=re),s._queueTotalSize-=re,Wo(s,re,o),B-=re}return G}function Wo(s,o,u){u.bytesFilled+=o}function ko(s){s._queueTotalSize===0&&s._closeRequested?(gn(s),Br(s._controlledReadableByteStream)):xt(s)}function qs(s){s._byobRequest!==null&&(s._byobRequest._associatedReadableByteStreamController=void 0,s._byobRequest._view=null,s._byobRequest=null)}function zo(s){for(;s._pendingPullIntos.length>0;){if(s._queueTotalSize===0)return;let o=s._pendingPullIntos.peek();Mo(s,o)&&(mn(s),Fs(s._controlledReadableByteStream,o))}}function Uh(s,o,u){let p=s._controlledReadableByteStream,y=1;o.constructor!==DataView&&(y=o.constructor.BYTES_PER_ELEMENT);let A=o.constructor,C=o.buffer,B={buffer:C,bufferByteLength:C.byteLength,byteOffset:o.byteOffset,byteLength:o.byteLength,bytesFilled:0,elementSize:y,viewConstructor:A,readerType:"byob"};if(s._pendingPullIntos.length>0){s._pendingPullIntos.push(B),Qo(p,u);return}if(p._state==="closed"){let G=new A(B.buffer,B.byteOffset,0);u._closeSteps(G);return}if(s._queueTotalSize>0){if(Mo(s,B)){let G=Uo(B);ko(s),u._chunkSteps(G);return}if(s._closeRequested){let G=new TypeError("Insufficient bytes to fill elements in the given buffer");ze(s,G),u._errorSteps(G);return}}s._pendingPullIntos.push(B),Qo(p,u),xt(s)}function Mh(s,o){let u=s._controlledReadableByteStream;if(Ws(u))for(;Ko(u)>0;){let p=mn(s);Fs(u,p)}}function Wh(s,o,u){if(Wo(s,o,u),u.bytesFilled<u.elementSize)return;mn(s);let p=u.bytesFilled%u.elementSize;if(p>0){let y=u.byteOffset+u.bytesFilled,A=Bo(u.buffer,y-p,y);pn(s,A,0,A.byteLength)}u.bytesFilled-=p,Fs(s._controlledReadableByteStream,u),zo(s)}function jo(s,o){let u=s._pendingPullIntos.peek();qs(s),s._controlledReadableByteStream._state==="closed"?Mh(s):Wh(s,o,u),xt(s)}function mn(s){return s._pendingPullIntos.shift()}function kh(s){let o=s._controlledReadableByteStream;return o._state!=="readable"||s._closeRequested||!s._started?!1:!!(Oo(o)&&fn(o)>0||Ws(o)&&Ko(o)>0||Go(s)>0)}function gn(s){s._pullAlgorithm=void 0,s._cancelAlgorithm=void 0}function vr(s){let o=s._controlledReadableByteStream;if(!(s._closeRequested||o._state!=="readable")){if(s._queueTotalSize>0){s._closeRequested=!0;return}if(s._pendingPullIntos.length>0&&s._pendingPullIntos.peek().bytesFilled>0){let p=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ze(s,p),p}gn(s),Br(o)}}function bn(s,o){let u=s._controlledReadableByteStream;if(s._closeRequested||u._state!=="readable")return;let p=o.buffer,y=o.byteOffset,A=o.byteLength,C=p;if(s._pendingPullIntos.length>0){let B=s._pendingPullIntos.peek();dn(B.buffer),B.buffer=B.buffer}if(qs(s),Oo(u))if(fn(u)===0)pn(s,C,y,A);else{s._pendingPullIntos.length>0&&mn(s);let B=new Uint8Array(C,y,A);Ns(u,B,!1)}else Ws(u)?(pn(s,C,y,A),zo(s)):pn(s,C,y,A);xt(s)}function ze(s,o){let u=s._controlledReadableByteStream;u._state==="readable"&&(qo(s),pt(s),gn(s),Ra(u,o))}function Us(s){if(s._byobRequest===null&&s._pendingPullIntos.length>0){let o=s._pendingPullIntos.peek(),u=new Uint8Array(o.buffer,o.byteOffset+o.bytesFilled,o.byteLength-o.bytesFilled),p=Object.create(xr.prototype);jh(p,s,u),s._byobRequest=p}return s._byobRequest}function Go(s){let o=s._controlledReadableByteStream._state;return o==="errored"?null:o==="closed"?0:s._strategyHWM-s._queueTotalSize}function yn(s,o){let u=s._pendingPullIntos.peek();if(s._controlledReadableByteStream._state==="closed"){if(o!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(o===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(u.bytesFilled+o>u.byteLength)throw new RangeError("bytesWritten out of range")}u.buffer=u.buffer,jo(s,o)}function _n(s,o){let u=s._pendingPullIntos.peek();if(s._controlledReadableByteStream._state==="closed"){if(o.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(o.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(u.byteOffset+u.bytesFilled!==o.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(u.bufferByteLength!==o.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(u.bytesFilled+o.byteLength>u.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let y=o.byteLength;u.buffer=o.buffer,jo(s,y)}function Vo(s,o,u,p,y,A,C){o._controlledReadableByteStream=s,o._pullAgain=!1,o._pulling=!1,o._byobRequest=null,o._queue=o._queueTotalSize=void 0,pt(o),o._closeRequested=!1,o._started=!1,o._strategyHWM=A,o._pullAlgorithm=p,o._cancelAlgorithm=y,o._autoAllocateChunkSize=C,o._pendingPullIntos=new D,s._readableStreamController=o;let B=u();S(m(B),()=>{o._started=!0,xt(o)},G=>{ze(o,G)})}function zh(s,o,u){let p=Object.create(Vt.prototype),y=()=>{},A=()=>m(void 0),C=()=>m(void 0);o.start!==void 0&&(y=()=>o.start(p)),o.pull!==void 0&&(A=()=>o.pull(p)),o.cancel!==void 0&&(C=G=>o.cancel(G));let B=o.autoAllocateChunkSize;if(B===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Vo(s,p,y,A,C,u,B)}function jh(s,o,u){s._associatedReadableByteStreamController=o,s._view=u}function Ms(s){return new TypeError(`ReadableStreamBYOBRequest.prototype.${s} can only be used on a ReadableStreamBYOBRequest`)}function Or(s){return new TypeError(`ReadableByteStreamController.prototype.${s} can only be used on a ReadableByteStreamController`)}function Yo(s){return new $r(s)}function Qo(s,o){s._reader._readIntoRequests.push(o)}function Gh(s,o,u){let y=s._reader._readIntoRequests.shift();u?y._closeSteps(o):y._chunkSteps(o)}function Ko(s){return s._reader._readIntoRequests.length}function Ws(s){let o=s._reader;return!(o===void 0||!vt(o))}class $r{constructor(o){if(v(o,1,"ReadableStreamBYOBReader"),ht(o,"First parameter"),yt(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ct(o._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");M(this,o),this._readIntoRequests=new D}get closed(){return vt(this)?this._closedPromise:d(Rn("closed"))}cancel(o=void 0){return vt(this)?this._ownerReadableStream===void 0?d(k("cancel")):_(this,o):d(Rn("cancel"))}read(o){if(!vt(this))return d(Rn("read"));if(!ArrayBuffer.isView(o))return d(new TypeError("view must be an array buffer view"));if(o.byteLength===0)return d(new TypeError("view must have non-zero byteLength"));if(o.buffer.byteLength===0)return d(new TypeError("view's buffer must have non-zero byteLength"));if(dn(o.buffer),this._ownerReadableStream===void 0)return d(k("read from"));let u,p,y=g((C,B)=>{u=C,p=B});return Xo(this,o,{_chunkSteps:C=>u({value:C,done:!1}),_closeSteps:C=>u({value:C,done:!0}),_errorSteps:C=>p(C)}),y}releaseLock(){if(!vt(this))throw Rn("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");j(this)}}}Object.defineProperties($r.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty($r.prototype,e.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function vt(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_readIntoRequests")?!1:s instanceof $r}function Xo(s,o,u){let p=s._ownerReadableStream;p._disturbed=!0,p._state==="errored"?u._errorSteps(p._storedError):Uh(p._readableStreamController,o,u)}function Rn(s){return new TypeError(`ReadableStreamBYOBReader.prototype.${s} can only be used on a ReadableStreamBYOBReader`)}function Ir(s,o){let{highWaterMark:u}=s;if(u===void 0)return o;if(Ho(u)||u<0)throw new RangeError("Invalid highWaterMark");return u}function Sn(s){let{size:o}=s;return o||(()=>1)}function wn(s,o){xe(s,o);let u=s?.highWaterMark,p=s?.size;return{highWaterMark:u===void 0?void 0:ae(u),size:p===void 0?void 0:Vh(p,`${o} has member 'size' that`)}}function Vh(s,o){return Ne(s,o),u=>ae(s(u))}function Yh(s,o){xe(s,o);let u=s?.abort,p=s?.close,y=s?.start,A=s?.type,C=s?.write;return{abort:u===void 0?void 0:Qh(u,s,`${o} has member 'abort' that`),close:p===void 0?void 0:Kh(p,s,`${o} has member 'close' that`),start:y===void 0?void 0:Xh(y,s,`${o} has member 'start' that`),write:C===void 0?void 0:Zh(C,s,`${o} has member 'write' that`),type:A}}function Qh(s,o,u){return Ne(s,u),p=>P(s,o,[p])}function Kh(s,o,u){return Ne(s,u),()=>P(s,o,[])}function Xh(s,o,u){return Ne(s,u),p=>O(s,o,[p])}function Zh(s,o,u){return Ne(s,u),(p,y)=>P(s,o,[p,y])}function Zo(s,o){if(!Yt(s))throw new TypeError(`${o} is not a WritableStream.`)}function Jh(s){if(typeof s!="object"||s===null)return!1;try{return typeof s.aborted=="boolean"}catch{return!1}}let ed=typeof AbortController=="function";function td(){if(ed)return new AbortController}class Lr{constructor(o={},u={}){o===void 0?o=null:oe(o,"First parameter");let p=wn(u,"Second parameter"),y=Yh(o,"First parameter");if(ea(this),y.type!==void 0)throw new RangeError("Invalid type is specified");let C=Sn(p),B=Ir(p,1);md(this,y,B,C)}get locked(){if(!Yt(this))throw xn("locked");return Qt(this)}abort(o=void 0){return Yt(this)?Qt(this)?d(new TypeError("Cannot abort a stream that already has a writer")):En(this,o):d(xn("abort"))}close(){return Yt(this)?Qt(this)?d(new TypeError("Cannot close a stream that already has a writer")):Ke(this)?d(new TypeError("Cannot close an already-closing stream")):ta(this):d(xn("close"))}getWriter(){if(!Yt(this))throw xn("getWriter");return Jo(this)}}Object.defineProperties(Lr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Lr.prototype,e.toStringTag,{value:"WritableStream",configurable:!0});function Jo(s){return new Pr(s)}function rd(s,o,u,p,y=1,A=()=>1){let C=Object.create(Lr.prototype);ea(C);let B=Object.create(Kt.prototype);return aa(C,B,s,o,u,p,y,A),C}function ea(s){s._state="writable",s._storedError=void 0,s._writer=void 0,s._writableStreamController=void 0,s._writeRequests=new D,s._inFlightWriteRequest=void 0,s._closeRequest=void 0,s._inFlightCloseRequest=void 0,s._pendingAbortRequest=void 0,s._backpressure=!1}function Yt(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_writableStreamController")?!1:s instanceof Lr}function Qt(s){return s._writer!==void 0}function En(s,o){var u;if(s._state==="closed"||s._state==="errored")return m(void 0);s._writableStreamController._abortReason=o,(u=s._writableStreamController._abortController)===null||u===void 0||u.abort();let p=s._state;if(p==="closed"||p==="errored")return m(void 0);if(s._pendingAbortRequest!==void 0)return s._pendingAbortRequest._promise;let y=!1;p==="erroring"&&(y=!0,o=void 0);let A=g((C,B)=>{s._pendingAbortRequest={_promise:void 0,_resolve:C,_reject:B,_reason:o,_wasAlreadyErroring:y}});return s._pendingAbortRequest._promise=A,y||zs(s,o),A}function ta(s){let o=s._state;if(o==="closed"||o==="errored")return d(new TypeError(`The stream (in ${o} state) is not in the writable state and cannot be closed`));let u=g((y,A)=>{let C={_resolve:y,_reject:A};s._closeRequest=C}),p=s._writer;return p!==void 0&&s._backpressure&&o==="writable"&&Js(p),gd(s._writableStreamController),u}function nd(s){return g((u,p)=>{let y={_resolve:u,_reject:p};s._writeRequests.push(y)})}function ks(s,o){if(s._state==="writable"){zs(s,o);return}js(s)}function zs(s,o){let u=s._writableStreamController;s._state="erroring",s._storedError=o;let p=s._writer;p!==void 0&&na(p,o),!ld(s)&&u._started&&js(s)}function js(s){s._state="errored",s._writableStreamController[ce]();let o=s._storedError;if(s._writeRequests.forEach(y=>{y._reject(o)}),s._writeRequests=new D,s._pendingAbortRequest===void 0){An(s);return}let u=s._pendingAbortRequest;if(s._pendingAbortRequest=void 0,u._wasAlreadyErroring){u._reject(o),An(s);return}let p=s._writableStreamController[Se](u._reason);S(p,()=>{u._resolve(),An(s)},y=>{u._reject(y),An(s)})}function sd(s){s._inFlightWriteRequest._resolve(void 0),s._inFlightWriteRequest=void 0}function id(s,o){s._inFlightWriteRequest._reject(o),s._inFlightWriteRequest=void 0,ks(s,o)}function od(s){s._inFlightCloseRequest._resolve(void 0),s._inFlightCloseRequest=void 0,s._state==="erroring"&&(s._storedError=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._resolve(),s._pendingAbortRequest=void 0)),s._state="closed";let u=s._writer;u!==void 0&&fa(u)}function ad(s,o){s._inFlightCloseRequest._reject(o),s._inFlightCloseRequest=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._reject(o),s._pendingAbortRequest=void 0),ks(s,o)}function Ke(s){return!(s._closeRequest===void 0&&s._inFlightCloseRequest===void 0)}function ld(s){return!(s._inFlightWriteRequest===void 0&&s._inFlightCloseRequest===void 0)}function ud(s){s._inFlightCloseRequest=s._closeRequest,s._closeRequest=void 0}function cd(s){s._inFlightWriteRequest=s._writeRequests.shift()}function An(s){s._closeRequest!==void 0&&(s._closeRequest._reject(s._storedError),s._closeRequest=void 0);let o=s._writer;o!==void 0&&Xs(o,s._storedError)}function Gs(s,o){let u=s._writer;u!==void 0&&o!==s._backpressure&&(o?Ed(u):Js(u)),s._backpressure=o}class Pr{constructor(o){if(v(o,1,"WritableStreamDefaultWriter"),Zo(o,"First parameter"),Qt(o))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=o,o._writer=this;let u=o._state;if(u==="writable")!Ke(o)&&o._backpressure?On(this):ha(this),vn(this);else if(u==="erroring")Zs(this,o._storedError),vn(this);else if(u==="closed")ha(this),Sd(this);else{let p=o._storedError;Zs(this,p),ca(this,p)}}get closed(){return Ot(this)?this._closedPromise:d($t("closed"))}get desiredSize(){if(!Ot(this))throw $t("desiredSize");if(this._ownerWritableStream===void 0)throw Nr("desiredSize");return pd(this)}get ready(){return Ot(this)?this._readyPromise:d($t("ready"))}abort(o=void 0){return Ot(this)?this._ownerWritableStream===void 0?d(Nr("abort")):fd(this,o):d($t("abort"))}close(){if(!Ot(this))return d($t("close"));let o=this._ownerWritableStream;return o===void 0?d(Nr("close")):Ke(o)?d(new TypeError("Cannot close an already-closing stream")):ra(this)}releaseLock(){if(!Ot(this))throw $t("releaseLock");this._ownerWritableStream!==void 0&&sa(this)}write(o=void 0){return Ot(this)?this._ownerWritableStream===void 0?d(Nr("write to")):ia(this,o):d($t("write"))}}Object.defineProperties(Pr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Pr.prototype,e.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Ot(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_ownerWritableStream")?!1:s instanceof Pr}function fd(s,o){let u=s._ownerWritableStream;return En(u,o)}function ra(s){let o=s._ownerWritableStream;return ta(o)}function hd(s){let o=s._ownerWritableStream,u=o._state;return Ke(o)||u==="closed"?m(void 0):u==="errored"?d(o._storedError):ra(s)}function dd(s,o){s._closedPromiseState==="pending"?Xs(s,o):wd(s,o)}function na(s,o){s._readyPromiseState==="pending"?da(s,o):Ad(s,o)}function pd(s){let o=s._ownerWritableStream,u=o._state;return u==="errored"||u==="erroring"?null:u==="closed"?0:la(o._writableStreamController)}function sa(s){let o=s._ownerWritableStream,u=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");na(s,u),dd(s,u),o._writer=void 0,s._ownerWritableStream=void 0}function ia(s,o){let u=s._ownerWritableStream,p=u._writableStreamController,y=bd(p,o);if(u!==s._ownerWritableStream)return d(Nr("write to"));let A=u._state;if(A==="errored")return d(u._storedError);if(Ke(u)||A==="closed")return d(new TypeError("The stream is closing or closed and cannot be written to"));if(A==="erroring")return d(u._storedError);let C=nd(u);return yd(p,o,y),C}let oa={};class Kt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Vs(this))throw Ks("abortReason");return this._abortReason}get signal(){if(!Vs(this))throw Ks("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(o=void 0){if(!Vs(this))throw Ks("error");this._controlledWritableStream._state==="writable"&&ua(this,o)}[Se](o){let u=this._abortAlgorithm(o);return Tn(this),u}[ce](){pt(this)}}Object.defineProperties(Kt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Kt.prototype,e.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Vs(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledWritableStream")?!1:s instanceof Kt}function aa(s,o,u,p,y,A,C,B){o._controlledWritableStream=s,s._writableStreamController=o,o._queue=void 0,o._queueTotalSize=void 0,pt(o),o._abortReason=void 0,o._abortController=td(),o._started=!1,o._strategySizeAlgorithm=B,o._strategyHWM=C,o._writeAlgorithm=p,o._closeAlgorithm=y,o._abortAlgorithm=A;let G=Qs(o);Gs(s,G);let ee=u(),te=m(ee);S(te,()=>{o._started=!0,Cn(o)},re=>{o._started=!0,ks(s,re)})}function md(s,o,u,p){let y=Object.create(Kt.prototype),A=()=>{},C=()=>m(void 0),B=()=>m(void 0),G=()=>m(void 0);o.start!==void 0&&(A=()=>o.start(y)),o.write!==void 0&&(C=ee=>o.write(ee,y)),o.close!==void 0&&(B=()=>o.close()),o.abort!==void 0&&(G=ee=>o.abort(ee)),aa(s,y,A,C,B,G,u,p)}function Tn(s){s._writeAlgorithm=void 0,s._closeAlgorithm=void 0,s._abortAlgorithm=void 0,s._strategySizeAlgorithm=void 0}function gd(s){Ds(s,oa,0),Cn(s)}function bd(s,o){try{return s._strategySizeAlgorithm(o)}catch(u){return Ys(s,u),1}}function la(s){return s._strategyHWM-s._queueTotalSize}function yd(s,o,u){try{Ds(s,o,u)}catch(y){Ys(s,y);return}let p=s._controlledWritableStream;if(!Ke(p)&&p._state==="writable"){let y=Qs(s);Gs(p,y)}Cn(s)}function Cn(s){let o=s._controlledWritableStream;if(!s._started||o._inFlightWriteRequest!==void 0)return;if(o._state==="erroring"){js(o);return}if(s._queue.length===0)return;let p=qh(s);p===oa?_d(s):Rd(s,p)}function Ys(s,o){s._controlledWritableStream._state==="writable"&&ua(s,o)}function _d(s){let o=s._controlledWritableStream;ud(o),Hs(s);let u=s._closeAlgorithm();Tn(s),S(u,()=>{od(o)},p=>{ad(o,p)})}function Rd(s,o){let u=s._controlledWritableStream;cd(u);let p=s._writeAlgorithm(o);S(p,()=>{sd(u);let y=u._state;if(Hs(s),!Ke(u)&&y==="writable"){let A=Qs(s);Gs(u,A)}Cn(s)},y=>{u._state==="writable"&&Tn(s),id(u,y)})}function Qs(s){return la(s)<=0}function ua(s,o){let u=s._controlledWritableStream;Tn(s),zs(u,o)}function xn(s){return new TypeError(`WritableStream.prototype.${s} can only be used on a WritableStream`)}function Ks(s){return new TypeError(`WritableStreamDefaultController.prototype.${s} can only be used on a WritableStreamDefaultController`)}function $t(s){return new TypeError(`WritableStreamDefaultWriter.prototype.${s} can only be used on a WritableStreamDefaultWriter`)}function Nr(s){return new TypeError("Cannot "+s+" a stream using a released writer")}function vn(s){s._closedPromise=g((o,u)=>{s._closedPromise_resolve=o,s._closedPromise_reject=u,s._closedPromiseState="pending"})}function ca(s,o){vn(s),Xs(s,o)}function Sd(s){vn(s),fa(s)}function Xs(s,o){s._closedPromise_reject!==void 0&&(U(s._closedPromise),s._closedPromise_reject(o),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0,s._closedPromiseState="rejected")}function wd(s,o){ca(s,o)}function fa(s){s._closedPromise_resolve!==void 0&&(s._closedPromise_resolve(void 0),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0,s._closedPromiseState="resolved")}function On(s){s._readyPromise=g((o,u)=>{s._readyPromise_resolve=o,s._readyPromise_reject=u}),s._readyPromiseState="pending"}function Zs(s,o){On(s),da(s,o)}function ha(s){On(s),Js(s)}function da(s,o){s._readyPromise_reject!==void 0&&(U(s._readyPromise),s._readyPromise_reject(o),s._readyPromise_resolve=void 0,s._readyPromise_reject=void 0,s._readyPromiseState="rejected")}function Ed(s){On(s)}function Ad(s,o){Zs(s,o)}function Js(s){s._readyPromise_resolve!==void 0&&(s._readyPromise_resolve(void 0),s._readyPromise_resolve=void 0,s._readyPromise_reject=void 0,s._readyPromiseState="fulfilled")}let pa=typeof DOMException<"u"?DOMException:void 0;function Td(s){if(!(typeof s=="function"||typeof s=="object"))return!1;try{return new s,!0}catch{return!1}}function Cd(){let s=function(u,p){this.message=u||"",this.name=p||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return s.prototype=Object.create(Error.prototype),Object.defineProperty(s.prototype,"constructor",{value:s,writable:!0,configurable:!0}),s}let xd=Td(pa)?pa:Cd();function ma(s,o,u,p,y,A){let C=Gt(s),B=Jo(o);s._disturbed=!0;let G=!1,ee=m(void 0);return g((te,re)=>{let ge;if(A!==void 0){if(ge=()=>{let W=new xd("Aborted","AbortError"),Z=[];p||Z.push(()=>o._state==="writable"?En(o,W):m(void 0)),y||Z.push(()=>s._state==="readable"?je(s,W):m(void 0)),ve(()=>Promise.all(Z.map(le=>le())),!0,W)},A.aborted){ge();return}A.addEventListener("abort",ge)}function Ge(){return g((W,Z)=>{function le(He){He?W():R(Jt(),le,Z)}le(!1)})}function Jt(){return G?m(!0):R(B._readyPromise,()=>g((W,Z)=>{Tr(C,{_chunkSteps:le=>{ee=R(ia(B,le),void 0,r),W(!1)},_closeSteps:()=>W(!0),_errorSteps:Z})}))}if(nt(s,C._closedPromise,W=>{p?Be(!0,W):ve(()=>En(o,W),!0,W)}),nt(o,B._closedPromise,W=>{y?Be(!0,W):ve(()=>je(s,W),!0,W)}),Ae(s,C._closedPromise,()=>{u?Be():ve(()=>hd(B))}),Ke(o)||o._state==="closed"){let W=new TypeError("the destination writable stream closed before all data could be piped to it");y?Be(!0,W):ve(()=>je(s,W),!0,W)}U(Ge());function _t(){let W=ee;return R(ee,()=>W!==ee?_t():void 0)}function nt(W,Z,le){W._state==="errored"?le(W._storedError):x(Z,le)}function Ae(W,Z,le){W._state==="closed"?le():$(Z,le)}function ve(W,Z,le){if(G)return;G=!0,o._state==="writable"&&!Ke(o)?$(_t(),He):He();function He(){S(W(),()=>st(Z,le),er=>st(!0,er))}}function Be(W,Z){G||(G=!0,o._state==="writable"&&!Ke(o)?$(_t(),()=>st(W,Z)):st(W,Z))}function st(W,Z){sa(B),j(C),A!==void 0&&A.removeEventListener("abort",ge),W?re(Z):te(void 0)}})}class Xt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!$n(this))throw Pn("desiredSize");return ei(this)}close(){if(!$n(this))throw Pn("close");if(!Zt(this))throw new TypeError("The stream is not in a state that permits close");Dr(this)}enqueue(o=void 0){if(!$n(this))throw Pn("enqueue");if(!Zt(this))throw new TypeError("The stream is not in a state that permits enqueue");return Ln(this,o)}error(o=void 0){if(!$n(this))throw Pn("error");mt(this,o)}[Ee](o){pt(this);let u=this._cancelAlgorithm(o);return In(this),u}[Er](o){let u=this._controlledReadableStream;if(this._queue.length>0){let p=Hs(this);this._closeRequested&&this._queue.length===0?(In(this),Br(u)):Hr(this),o._chunkSteps(p)}else vo(u,o),Hr(this)}}Object.defineProperties(Xt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Xt.prototype,e.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function $n(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledReadableStream")?!1:s instanceof Xt}function Hr(s){if(!ga(s))return;if(s._pulling){s._pullAgain=!0;return}s._pulling=!0;let u=s._pullAlgorithm();S(u,()=>{s._pulling=!1,s._pullAgain&&(s._pullAgain=!1,Hr(s))},p=>{mt(s,p)})}function ga(s){let o=s._controlledReadableStream;return!Zt(s)||!s._started?!1:!!(yt(o)&&fn(o)>0||ei(s)>0)}function In(s){s._pullAlgorithm=void 0,s._cancelAlgorithm=void 0,s._strategySizeAlgorithm=void 0}function Dr(s){if(!Zt(s))return;let o=s._controlledReadableStream;s._closeRequested=!0,s._queue.length===0&&(In(s),Br(o))}function Ln(s,o){if(!Zt(s))return;let u=s._controlledReadableStream;if(yt(u)&&fn(u)>0)Ns(u,o,!1);else{let p;try{p=s._strategySizeAlgorithm(o)}catch(y){throw mt(s,y),y}try{Ds(s,o,p)}catch(y){throw mt(s,y),y}}Hr(s)}function mt(s,o){let u=s._controlledReadableStream;u._state==="readable"&&(pt(s),In(s),Ra(u,o))}function ei(s){let o=s._controlledReadableStream._state;return o==="errored"?null:o==="closed"?0:s._strategyHWM-s._queueTotalSize}function vd(s){return!ga(s)}function Zt(s){let o=s._controlledReadableStream._state;return!s._closeRequested&&o==="readable"}function ba(s,o,u,p,y,A,C){o._controlledReadableStream=s,o._queue=void 0,o._queueTotalSize=void 0,pt(o),o._started=!1,o._closeRequested=!1,o._pullAgain=!1,o._pulling=!1,o._strategySizeAlgorithm=C,o._strategyHWM=A,o._pullAlgorithm=p,o._cancelAlgorithm=y,s._readableStreamController=o;let B=u();S(m(B),()=>{o._started=!0,Hr(o)},G=>{mt(o,G)})}function Od(s,o,u,p){let y=Object.create(Xt.prototype),A=()=>{},C=()=>m(void 0),B=()=>m(void 0);o.start!==void 0&&(A=()=>o.start(y)),o.pull!==void 0&&(C=()=>o.pull(y)),o.cancel!==void 0&&(B=G=>o.cancel(G)),ba(s,y,A,C,B,u,p)}function Pn(s){return new TypeError(`ReadableStreamDefaultController.prototype.${s} can only be used on a ReadableStreamDefaultController`)}function $d(s,o){return Ct(s._readableStreamController)?Ld(s):Id(s)}function Id(s,o){let u=Gt(s),p=!1,y=!1,A=!1,C=!1,B,G,ee,te,re,ge=g(Ae=>{re=Ae});function Ge(){return p?(y=!0,m(void 0)):(p=!0,Tr(u,{_chunkSteps:ve=>{T(()=>{y=!1;let Be=ve,st=ve;A||Ln(ee._readableStreamController,Be),C||Ln(te._readableStreamController,st),p=!1,y&&Ge()})},_closeSteps:()=>{p=!1,A||Dr(ee._readableStreamController),C||Dr(te._readableStreamController),(!A||!C)&&re(void 0)},_errorSteps:()=>{p=!1}}),m(void 0))}function Jt(Ae){if(A=!0,B=Ae,C){let ve=Cr([B,G]),Be=je(s,ve);re(Be)}return ge}function _t(Ae){if(C=!0,G=Ae,A){let ve=Cr([B,G]),Be=je(s,ve);re(Be)}return ge}function nt(){}return ee=ti(nt,Ge,Jt),te=ti(nt,Ge,_t),x(u._closedPromise,Ae=>{mt(ee._readableStreamController,Ae),mt(te._readableStreamController,Ae),(!A||!C)&&re(void 0)}),[ee,te]}function Ld(s){let o=Gt(s),u=!1,p=!1,y=!1,A=!1,C=!1,B,G,ee,te,re,ge=g(W=>{re=W});function Ge(W){x(W._closedPromise,Z=>{W===o&&(ze(ee._readableStreamController,Z),ze(te._readableStreamController,Z),(!A||!C)&&re(void 0))})}function Jt(){vt(o)&&(j(o),o=Gt(s),Ge(o)),Tr(o,{_chunkSteps:Z=>{T(()=>{p=!1,y=!1;let le=Z,He=Z;if(!A&&!C)try{He=Fo(Z)}catch(er){ze(ee._readableStreamController,er),ze(te._readableStreamController,er),re(je(s,er));return}A||bn(ee._readableStreamController,le),C||bn(te._readableStreamController,He),u=!1,p?nt():y&&Ae()})},_closeSteps:()=>{u=!1,A||vr(ee._readableStreamController),C||vr(te._readableStreamController),ee._readableStreamController._pendingPullIntos.length>0&&yn(ee._readableStreamController,0),te._readableStreamController._pendingPullIntos.length>0&&yn(te._readableStreamController,0),(!A||!C)&&re(void 0)},_errorSteps:()=>{u=!1}})}function _t(W,Z){dt(o)&&(j(o),o=Yo(s),Ge(o));let le=Z?te:ee,He=Z?ee:te;Xo(o,W,{_chunkSteps:tr=>{T(()=>{p=!1,y=!1;let rr=Z?C:A;if(Z?A:C)rr||_n(le._readableStreamController,tr);else{let Pa;try{Pa=Fo(tr)}catch(ni){ze(le._readableStreamController,ni),ze(He._readableStreamController,ni),re(je(s,ni));return}rr||_n(le._readableStreamController,tr),bn(He._readableStreamController,Pa)}u=!1,p?nt():y&&Ae()})},_closeSteps:tr=>{u=!1;let rr=Z?C:A,Wn=Z?A:C;rr||vr(le._readableStreamController),Wn||vr(He._readableStreamController),tr!==void 0&&(rr||_n(le._readableStreamController,tr),!Wn&&He._readableStreamController._pendingPullIntos.length>0&&yn(He._readableStreamController,0)),(!rr||!Wn)&&re(void 0)},_errorSteps:()=>{u=!1}})}function nt(){if(u)return p=!0,m(void 0);u=!0;let W=Us(ee._readableStreamController);return W===null?Jt():_t(W._view,!1),m(void 0)}function Ae(){if(u)return y=!0,m(void 0);u=!0;let W=Us(te._readableStreamController);return W===null?Jt():_t(W._view,!0),m(void 0)}function ve(W){if(A=!0,B=W,C){let Z=Cr([B,G]),le=je(s,Z);re(le)}return ge}function Be(W){if(C=!0,G=W,A){let Z=Cr([B,G]),le=je(s,Z);re(le)}return ge}function st(){}return ee=_a(st,nt,ve),te=_a(st,Ae,Be),Ge(o),[ee,te]}function Pd(s,o){xe(s,o);let u=s,p=u?.autoAllocateChunkSize,y=u?.cancel,A=u?.pull,C=u?.start,B=u?.type;return{autoAllocateChunkSize:p===void 0?void 0:jt(p,`${o} has member 'autoAllocateChunkSize' that`),cancel:y===void 0?void 0:Nd(y,u,`${o} has member 'cancel' that`),pull:A===void 0?void 0:Hd(A,u,`${o} has member 'pull' that`),start:C===void 0?void 0:Dd(C,u,`${o} has member 'start' that`),type:B===void 0?void 0:Bd(B,`${o} has member 'type' that`)}}function Nd(s,o,u){return Ne(s,u),p=>P(s,o,[p])}function Hd(s,o,u){return Ne(s,u),p=>P(s,o,[p])}function Dd(s,o,u){return Ne(s,u),p=>O(s,o,[p])}function Bd(s,o){if(s=`${s}`,s!=="bytes")throw new TypeError(`${o} '${s}' is not a valid enumeration value for ReadableStreamType`);return s}function Fd(s,o){xe(s,o);let u=s?.mode;return{mode:u===void 0?void 0:qd(u,`${o} has member 'mode' that`)}}function qd(s,o){if(s=`${s}`,s!=="byob")throw new TypeError(`${o} '${s}' is not a valid enumeration value for ReadableStreamReaderMode`);return s}function Ud(s,o){return xe(s,o),{preventCancel:!!s?.preventCancel}}function ya(s,o){xe(s,o);let u=s?.preventAbort,p=s?.preventCancel,y=s?.preventClose,A=s?.signal;return A!==void 0&&Md(A,`${o} has member 'signal' that`),{preventAbort:!!u,preventCancel:!!p,preventClose:!!y,signal:A}}function Md(s,o){if(!Jh(s))throw new TypeError(`${o} is not an AbortSignal.`)}function Wd(s,o){xe(s,o);let u=s?.readable;z(u,"readable","ReadableWritablePair"),ht(u,`${o} has member 'readable' that`);let p=s?.writable;return z(p,"writable","ReadableWritablePair"),Zo(p,`${o} has member 'writable' that`),{readable:u,writable:p}}class gt{constructor(o={},u={}){o===void 0?o=null:oe(o,"First parameter");let p=wn(u,"Second parameter"),y=Pd(o,"First parameter");if(ri(this),y.type==="bytes"){if(p.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let A=Ir(p,0);zh(this,y,A)}else{let A=Sn(p),C=Ir(p,1);Od(this,y,C,A)}}get locked(){if(!bt(this))throw It("locked");return yt(this)}cancel(o=void 0){return bt(this)?yt(this)?d(new TypeError("Cannot cancel a stream that already has a reader")):je(this,o):d(It("cancel"))}getReader(o=void 0){if(!bt(this))throw It("getReader");return Fd(o,"First parameter").mode===void 0?Gt(this):Yo(this)}pipeThrough(o,u={}){if(!bt(this))throw It("pipeThrough");v(o,1,"pipeThrough");let p=Wd(o,"First parameter"),y=ya(u,"Second parameter");if(yt(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Qt(p.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let A=ma(this,p.writable,y.preventClose,y.preventAbort,y.preventCancel,y.signal);return U(A),p.readable}pipeTo(o,u={}){if(!bt(this))return d(It("pipeTo"));if(o===void 0)return d("Parameter 1 is required in 'pipeTo'.");if(!Yt(o))return d(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let p;try{p=ya(u,"Second parameter")}catch(y){return d(y)}return yt(this)?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Qt(o)?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ma(this,o,p.preventClose,p.preventAbort,p.preventCancel,p.signal)}tee(){if(!bt(this))throw It("tee");let o=$d(this);return Cr(o)}values(o=void 0){if(!bt(this))throw It("values");let u=Ud(o,"First parameter");return Bh(this,u.preventCancel)}}Object.defineProperties(gt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(gt.prototype,e.toStringTag,{value:"ReadableStream",configurable:!0}),typeof e.asyncIterator=="symbol"&&Object.defineProperty(gt.prototype,e.asyncIterator,{value:gt.prototype.values,writable:!0,configurable:!0});function ti(s,o,u,p=1,y=()=>1){let A=Object.create(gt.prototype);ri(A);let C=Object.create(Xt.prototype);return ba(A,C,s,o,u,p,y),A}function _a(s,o,u){let p=Object.create(gt.prototype);ri(p);let y=Object.create(Vt.prototype);return Vo(p,y,s,o,u,0,void 0),p}function ri(s){s._state="readable",s._reader=void 0,s._storedError=void 0,s._disturbed=!1}function bt(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_readableStreamController")?!1:s instanceof gt}function yt(s){return s._reader!==void 0}function je(s,o){if(s._disturbed=!0,s._state==="closed")return m(void 0);if(s._state==="errored")return d(s._storedError);Br(s);let u=s._reader;u!==void 0&&vt(u)&&(u._readIntoRequests.forEach(y=>{y._closeSteps(void 0)}),u._readIntoRequests=new D);let p=s._readableStreamController[Ee](o);return I(p,r)}function Br(s){s._state="closed";let o=s._reader;o!==void 0&&(K(o),dt(o)&&(o._readRequests.forEach(u=>{u._closeSteps()}),o._readRequests=new D))}function Ra(s,o){s._state="errored",s._storedError=o;let u=s._reader;u!==void 0&&(de(u,o),dt(u)?(u._readRequests.forEach(p=>{p._errorSteps(o)}),u._readRequests=new D):(u._readIntoRequests.forEach(p=>{p._errorSteps(o)}),u._readIntoRequests=new D))}function It(s){return new TypeError(`ReadableStream.prototype.${s} can only be used on a ReadableStream`)}function Sa(s,o){xe(s,o);let u=s?.highWaterMark;return z(u,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ae(u)}}let wa=s=>s.byteLength;try{Object.defineProperty(wa,"name",{value:"size",configurable:!0})}catch{}class Nn{constructor(o){v(o,1,"ByteLengthQueuingStrategy"),o=Sa(o,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!Aa(this))throw Ea("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Aa(this))throw Ea("size");return wa}}Object.defineProperties(Nn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Nn.prototype,e.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Ea(s){return new TypeError(`ByteLengthQueuingStrategy.prototype.${s} can only be used on a ByteLengthQueuingStrategy`)}function Aa(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_byteLengthQueuingStrategyHighWaterMark")?!1:s instanceof Nn}let Ta=()=>1;try{Object.defineProperty(Ta,"name",{value:"size",configurable:!0})}catch{}class Hn{constructor(o){v(o,1,"CountQueuingStrategy"),o=Sa(o,"First parameter"),this._countQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!xa(this))throw Ca("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!xa(this))throw Ca("size");return Ta}}Object.defineProperties(Hn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Hn.prototype,e.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Ca(s){return new TypeError(`CountQueuingStrategy.prototype.${s} can only be used on a CountQueuingStrategy`)}function xa(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_countQueuingStrategyHighWaterMark")?!1:s instanceof Hn}function kd(s,o){xe(s,o);let u=s?.flush,p=s?.readableType,y=s?.start,A=s?.transform,C=s?.writableType;return{flush:u===void 0?void 0:zd(u,s,`${o} has member 'flush' that`),readableType:p,start:y===void 0?void 0:jd(y,s,`${o} has member 'start' that`),transform:A===void 0?void 0:Gd(A,s,`${o} has member 'transform' that`),writableType:C}}function zd(s,o,u){return Ne(s,u),p=>P(s,o,[p])}function jd(s,o,u){return Ne(s,u),p=>O(s,o,[p])}function Gd(s,o,u){return Ne(s,u),(p,y)=>P(s,o,[p,y])}class Dn{constructor(o={},u={},p={}){o===void 0&&(o=null);let y=wn(u,"Second parameter"),A=wn(p,"Third parameter"),C=kd(o,"First parameter");if(C.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(C.writableType!==void 0)throw new RangeError("Invalid writableType specified");let B=Ir(A,0),G=Sn(A),ee=Ir(y,1),te=Sn(y),re,ge=g(Ge=>{re=Ge});Vd(this,ge,ee,te,B,G),Qd(this,C),C.start!==void 0?re(C.start(this._transformStreamController)):re(void 0)}get readable(){if(!va(this))throw La("readable");return this._readable}get writable(){if(!va(this))throw La("writable");return this._writable}}Object.defineProperties(Dn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Dn.prototype,e.toStringTag,{value:"TransformStream",configurable:!0});function Vd(s,o,u,p,y,A){function C(){return o}function B(ge){return Zd(s,ge)}function G(ge){return Jd(s,ge)}function ee(){return ep(s)}s._writable=rd(C,B,ee,G,u,p);function te(){return tp(s)}function re(ge){return Fn(s,ge),m(void 0)}s._readable=ti(C,te,re,y,A),s._backpressure=void 0,s._backpressureChangePromise=void 0,s._backpressureChangePromise_resolve=void 0,qn(s,!0),s._transformStreamController=void 0}function va(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_transformStreamController")?!1:s instanceof Dn}function Bn(s,o){mt(s._readable._readableStreamController,o),Fn(s,o)}function Fn(s,o){Oa(s._transformStreamController),Ys(s._writable._writableStreamController,o),s._backpressure&&qn(s,!1)}function qn(s,o){s._backpressureChangePromise!==void 0&&s._backpressureChangePromise_resolve(),s._backpressureChangePromise=g(u=>{s._backpressureChangePromise_resolve=u}),s._backpressure=o}class Fr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Un(this))throw Mn("desiredSize");let o=this._controlledTransformStream._readable._readableStreamController;return ei(o)}enqueue(o=void 0){if(!Un(this))throw Mn("enqueue");$a(this,o)}error(o=void 0){if(!Un(this))throw Mn("error");Kd(this,o)}terminate(){if(!Un(this))throw Mn("terminate");Xd(this)}}Object.defineProperties(Fr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Fr.prototype,e.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Un(s){return!a(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledTransformStream")?!1:s instanceof Fr}function Yd(s,o,u,p){o._controlledTransformStream=s,s._transformStreamController=o,o._transformAlgorithm=u,o._flushAlgorithm=p}function Qd(s,o){let u=Object.create(Fr.prototype),p=A=>{try{return $a(u,A),m(void 0)}catch(C){return d(C)}},y=()=>m(void 0);o.transform!==void 0&&(p=A=>o.transform(A,u)),o.flush!==void 0&&(y=()=>o.flush(u)),Yd(s,u,p,y)}function Oa(s){s._transformAlgorithm=void 0,s._flushAlgorithm=void 0}function $a(s,o){let u=s._controlledTransformStream,p=u._readable._readableStreamController;if(!Zt(p))throw new TypeError("Readable side is not in a state that permits enqueue");try{Ln(p,o)}catch(A){throw Fn(u,A),u._readable._storedError}vd(p)!==u._backpressure&&qn(u,!0)}function Kd(s,o){Bn(s._controlledTransformStream,o)}function Ia(s,o){let u=s._transformAlgorithm(o);return I(u,void 0,p=>{throw Bn(s._controlledTransformStream,p),p})}function Xd(s){let o=s._controlledTransformStream,u=o._readable._readableStreamController;Dr(u);let p=new TypeError("TransformStream terminated");Fn(o,p)}function Zd(s,o){let u=s._transformStreamController;if(s._backpressure){let p=s._backpressureChangePromise;return I(p,()=>{let y=s._writable;if(y._state==="erroring")throw y._storedError;return Ia(u,o)})}return Ia(u,o)}function Jd(s,o){return Bn(s,o),m(void 0)}function ep(s){let o=s._readable,u=s._transformStreamController,p=u._flushAlgorithm();return Oa(u),I(p,()=>{if(o._state==="errored")throw o._storedError;Dr(o._readableStreamController)},y=>{throw Bn(s,y),o._storedError})}function tp(s){return qn(s,!1),s._backpressureChangePromise}function Mn(s){return new TypeError(`TransformStreamDefaultController.prototype.${s} can only be used on a TransformStreamDefaultController`)}function La(s){return new TypeError(`TransformStream.prototype.${s} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=Nn,t.CountQueuingStrategy=Hn,t.ReadableByteStreamController=Vt,t.ReadableStream=gt,t.ReadableStreamBYOBReader=$r,t.ReadableStreamBYOBRequest=xr,t.ReadableStreamDefaultController=Xt,t.ReadableStreamDefaultReader=Ar,t.TransformStream=Dn,t.TransformStreamDefaultController=Fr,t.WritableStream=Lr,t.WritableStreamDefaultController=Kt,t.WritableStreamDefaultWriter=Pr,Object.defineProperty(t,"__esModule",{value:!0})})});var Qa=L(()=>{if(!globalThis.ReadableStream)try{let t=Oe("node:process"),{emitWarning:e}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,Oe("node:stream/web")),t.emitWarning=e}catch(r){throw t.emitWarning=e,r}}catch{Object.assign(globalThis,Ya())}try{let{Blob:t}=Oe("buffer");t&&!t.prototype.stream&&(t.prototype.stream=function(r){let n=0,i=this;return new ReadableStream({type:"bytes",async pull(a){let f=await i.slice(n,Math.min(i.size,n+65536)).arrayBuffer();n+=f.byteLength,a.enqueue(new Uint8Array(f)),n===i.size&&a.close()}})})}catch{}});async function*pi(t,e=!0){for(let r of t)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(e){let n=r.byteOffset,i=r.byteOffset+r.byteLength;for(;n!==i;){let a=Math.min(i-n,Ka),l=r.buffer.slice(n,n+a);n+=l.byteLength,yield new Uint8Array(l)}}else yield r;else{let n=0,i=r;for(;n!==i.size;){let l=await i.slice(n,Math.min(i.size,n+Ka)).arrayBuffer();n+=l.byteLength,yield new Uint8Array(l)}}}var nR,Ka,Xa,_p,it,Mr=qr(()=>{nR=Fe(Qa(),1);Ka=65536;Xa=class mi{#e=[];#r="";#t=0;#u="transparent";constructor(e=[],r={}){if(typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof e[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&typeof r!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");r===null&&(r={});let n=new TextEncoder;for(let a of e){let l;ArrayBuffer.isView(a)?l=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)):a instanceof ArrayBuffer?l=new Uint8Array(a.slice(0)):a instanceof mi?l=a:l=n.encode(`${a}`),this.#t+=ArrayBuffer.isView(l)?l.byteLength:l.size,this.#e.push(l)}this.#u=`${r.endings===void 0?"transparent":r.endings}`;let i=r.type===void 0?"":String(r.type);this.#r=/^[\x20-\x7E]*$/.test(i)?i:""}get size(){return this.#t}get type(){return this.#r}async text(){let e=new TextDecoder,r="";for await(let n of pi(this.#e,!1))r+=e.decode(n,{stream:!0});return r+=e.decode(),r}async arrayBuffer(){let e=new Uint8Array(this.size),r=0;for await(let n of pi(this.#e,!1))e.set(n,r),r+=n.length;return e.buffer}stream(){let e=pi(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(r){let n=await e.next();n.done?r.close():r.enqueue(n.value)},async cancel(){await e.return()}})}slice(e=0,r=this.size,n=""){let{size:i}=this,a=e<0?Math.max(i+e,0):Math.min(e,i),l=r<0?Math.max(i+r,0):Math.min(r,i),f=Math.max(l-a,0),c=this.#e,h=[],b=0;for(let m of c){if(b>=f)break;let d=ArrayBuffer.isView(m)?m.byteLength:m.size;if(a&&d<=a)a-=d,l-=d;else{let R;ArrayBuffer.isView(m)?(R=m.subarray(a,Math.min(d,l)),b+=R.byteLength):(R=m.slice(a,Math.min(d,l)),b+=R.size),l-=d,h.push(R),a=0}}let g=new mi([],{type:String(n).toLowerCase()});return g.#t=f,g.#e=h,g}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&typeof e=="object"&&typeof e.constructor=="function"&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(Xa.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});_p=Xa,it=_p});var Rp,Sp,sr,gi=qr(()=>{Mr();Rp=class extends it{#e=0;#r="";constructor(e,r,n={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,n),n===null&&(n={});let i=n.lastModified===void 0?Date.now():Number(n.lastModified);Number.isNaN(i)||(this.#e=i),this.#r=String(r)}get name(){return this.#r}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof it&&/^(File)$/.test(e[Symbol.toStringTag])}},Sp=Rp,sr=Sp});function el(t,e=it){var r=`${Za()}${Za()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),n=[],i=`--${r}\r
Content-Disposition: form-data; name="`;return t.forEach((a,l)=>typeof a=="string"?n.push(i+bi(l)+`"\r
\r
${a.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):n.push(i+bi(l)+`"; filename="${bi(a.name,1)}"\r
Content-Type: ${a.type||"application/octet-stream"}\r
\r
`,a,`\r
`)),n.push(`--${r}--`),new e(n,{type:"multipart/form-data; boundary="+r})}var Wr,wp,Ep,Za,Ap,Ja,bi,Lt,Pt,zn=qr(()=>{Mr();gi();({toStringTag:Wr,iterator:wp,hasInstance:Ep}=Symbol),Za=Math.random,Ap="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Ja=(t,e,r)=>(t+="",/^(Blob|File)$/.test(e&&e[Wr])?[(r=r!==void 0?r+"":e[Wr]=="File"?e.name:"blob",t),e.name!==r||e[Wr]=="blob"?new sr([e],r,e):e]:[t,e+""]),bi=(t,e)=>(e?t:t.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),Lt=(t,e,r)=>{if(e.length<r)throw new TypeError(`Failed to execute '${t}' on 'FormData': ${r} arguments required, but only ${e.length} present.`)},Pt=class{#e=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Wr](){return"FormData"}[wp](){return this.entries()}static[Ep](e){return e&&typeof e=="object"&&e[Wr]==="FormData"&&!Ap.some(r=>typeof e[r]!="function")}append(...e){Lt("append",arguments,2),this.#e.push(Ja(...e))}delete(e){Lt("delete",arguments,1),e+="",this.#e=this.#e.filter(([r])=>r!==e)}get(e){Lt("get",arguments,1),e+="";for(var r=this.#e,n=r.length,i=0;i<n;i++)if(r[i][0]===e)return r[i][1];return null}getAll(e,r){return Lt("getAll",arguments,1),r=[],e+="",this.#e.forEach(n=>n[0]===e&&r.push(n[1])),r}has(e){return Lt("has",arguments,1),e+="",this.#e.some(r=>r[0]===e)}forEach(e,r){Lt("forEach",arguments,1);for(var[n,i]of this)e.call(r,i,n,this)}set(...e){Lt("set",arguments,2);var r=[],n=!0;e=Ja(...e),this.#e.forEach(i=>{i[0]===e[0]?n&&(n=!r.push(e)):r.push(i)}),n&&r.push(e),this.#e=r}*entries(){yield*this.#e}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}}});var il=L((gR,sl)=>{if(!globalThis.DOMException)try{let{MessageChannel:t}=Oe("worker_threads"),e=new t().port1,r=new ArrayBuffer;e.postMessage(r,[r,r])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}sl.exports=globalThis.DOMException});import{statSync as yR,createReadStream as Tp,promises as Cp}from"node:fs";var al,xp,ol,_i=qr(()=>{al=Fe(il(),1);gi();Mr();({stat:xp}=Cp),ol=class t{#e;#r;constructor(e){this.#e=e.path,this.#r=e.start,this.size=e.size,this.lastModified=e.lastModified}slice(e,r){return new t({path:this.#e,lastModified:this.lastModified,size:r-e,start:this.#r+e})}async*stream(){let{mtimeMs:e}=await xp(this.#e);if(e>this.lastModified)throw new al.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*Tp(this.#e,{start:this.#r,end:this.#r+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var ul={};ap(ul,{toFormData:()=>Np});function Pp(t){let e=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!e)return;let r=e[2]||e[3]||"",n=r.slice(r.lastIndexOf("\\")+1);return n=n.replace(/%22/g,'"'),n=n.replace(/&#(\d{4});/g,(i,a)=>String.fromCharCode(a)),n}async function Np(t,e){if(!/multipart/i.test(e))throw new TypeError("Failed to fetch");let r=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");let n=new Ri(r[1]||r[2]),i,a,l,f,c,h,b=[],g=new Pt,m=x=>{l+=$.decode(x,{stream:!0})},d=x=>{b.push(x)},R=()=>{let x=new sr(b,h,{type:c});g.append(f,x)},S=()=>{g.append(f,l)},$=new TextDecoder("utf-8");$.decode(),n.onPartBegin=function(){n.onPartData=m,n.onPartEnd=S,i="",a="",l="",f="",c="",h=null,b.length=0},n.onHeaderField=function(x){i+=$.decode(x,{stream:!0})},n.onHeaderValue=function(x){a+=$.decode(x,{stream:!0})},n.onHeaderEnd=function(){if(a+=$.decode(),i=i.toLowerCase(),i==="content-disposition"){let x=a.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);x&&(f=x[2]||x[3]||""),h=Pp(a),h&&(n.onPartData=d,n.onPartEnd=R)}else i==="content-type"&&(c=a);a="",i=""};for await(let x of t)n.write(x);return n.end(),g}var Xe,ue,ll,Rt,Gn,Vn,vp,zr,Op,$p,Ip,Lp,Nt,Ri,cl=qr(()=>{_i();zn();Xe=0,ue={START_BOUNDARY:Xe++,HEADER_FIELD_START:Xe++,HEADER_FIELD:Xe++,HEADER_VALUE_START:Xe++,HEADER_VALUE:Xe++,HEADER_VALUE_ALMOST_DONE:Xe++,HEADERS_ALMOST_DONE:Xe++,PART_DATA_START:Xe++,PART_DATA:Xe++,END:Xe++},ll=1,Rt={PART_BOUNDARY:ll,LAST_BOUNDARY:ll*=2},Gn=10,Vn=13,vp=32,zr=45,Op=58,$p=97,Ip=122,Lp=t=>t|32,Nt=()=>{},Ri=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=Nt,this.onHeaderField=Nt,this.onHeadersEnd=Nt,this.onHeaderValue=Nt,this.onPartBegin=Nt,this.onPartData=Nt,this.onPartEnd=Nt,this.boundaryChars={},e=`\r
--`+e;let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n),this.boundaryChars[r[n]]=!0;this.boundary=r,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=ue.START_BOUNDARY}write(e){let r=0,n=e.length,i=this.index,{lookbehind:a,boundary:l,boundaryChars:f,index:c,state:h,flags:b}=this,g=this.boundary.length,m=g-1,d=e.length,R,S,$=T=>{this[T+"Mark"]=r},x=T=>{delete this[T+"Mark"]},I=(T,O,P,H)=>{(O===void 0||O!==P)&&this[T](H&&H.subarray(O,P))},U=(T,O)=>{let P=T+"Mark";P in this&&(O?(I(T,this[P],r,e),delete this[P]):(I(T,this[P],e.length,e),this[P]=0))};for(r=0;r<n;r++)switch(R=e[r],h){case ue.START_BOUNDARY:if(c===l.length-2){if(R===zr)b|=Rt.LAST_BOUNDARY;else if(R!==Vn)return;c++;break}else if(c-1===l.length-2){if(b&Rt.LAST_BOUNDARY&&R===zr)h=ue.END,b=0;else if(!(b&Rt.LAST_BOUNDARY)&&R===Gn)c=0,I("onPartBegin"),h=ue.HEADER_FIELD_START;else return;break}R!==l[c+2]&&(c=-2),R===l[c+2]&&c++;break;case ue.HEADER_FIELD_START:h=ue.HEADER_FIELD,$("onHeaderField"),c=0;case ue.HEADER_FIELD:if(R===Vn){x("onHeaderField"),h=ue.HEADERS_ALMOST_DONE;break}if(c++,R===zr)break;if(R===Op){if(c===1)return;U("onHeaderField",!0),h=ue.HEADER_VALUE_START;break}if(S=Lp(R),S<$p||S>Ip)return;break;case ue.HEADER_VALUE_START:if(R===vp)break;$("onHeaderValue"),h=ue.HEADER_VALUE;case ue.HEADER_VALUE:R===Vn&&(U("onHeaderValue",!0),I("onHeaderEnd"),h=ue.HEADER_VALUE_ALMOST_DONE);break;case ue.HEADER_VALUE_ALMOST_DONE:if(R!==Gn)return;h=ue.HEADER_FIELD_START;break;case ue.HEADERS_ALMOST_DONE:if(R!==Gn)return;I("onHeadersEnd"),h=ue.PART_DATA_START;break;case ue.PART_DATA_START:h=ue.PART_DATA,$("onPartData");case ue.PART_DATA:if(i=c,c===0){for(r+=m;r<d&&!(e[r]in f);)r+=g;r-=m,R=e[r]}if(c<l.length)l[c]===R?(c===0&&U("onPartData",!0),c++):c=0;else if(c===l.length)c++,R===Vn?b|=Rt.PART_BOUNDARY:R===zr?b|=Rt.LAST_BOUNDARY:c=0;else if(c-1===l.length)if(b&Rt.PART_BOUNDARY){if(c=0,R===Gn){b&=~Rt.PART_BOUNDARY,I("onPartEnd"),I("onPartBegin"),h=ue.HEADER_FIELD_START;break}}else b&Rt.LAST_BOUNDARY&&R===zr?(I("onPartEnd"),h=ue.END,b=0):c=0;if(c>0)a[c-1]=R;else if(i>0){let T=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);I("onPartData",0,i,T),i=0,$("onPartData"),r--}break;case ue.END:break;default:throw new Error(`Unexpected state entered: ${h}`)}U("onHeaderField"),U("onHeaderValue"),U("onPartData"),this.index=c,this.state=h,this.flags=b}end(){if(this.state===ue.HEADER_FIELD_START&&this.index===0||this.state===ue.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==ue.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var vl=L((wS,xl)=>{function Yp(t){return Buffer.from(t,"base64").toString("utf8")}function Qp(t){return Buffer.from(t,"utf8").toString("base64")}xl.exports={decodeBase64:Yp,encodeBase64:Qp}});var Ll=L(Dt=>{Dt.parse=Dt.decode=Kp;Dt.stringify=Dt.encode=Ol;Dt.safe=ur;Dt.unsafe=ts;var Ai=typeof process<"u"&&process.platform==="win32"?`\r
`:`
`;function Ol(t,e){var r=[],n="";typeof e=="string"?e={section:e,whitespace:!1}:(e=e||{},e.whitespace=e.whitespace===!0);var i=e.whitespace?" = ":"=";return Object.keys(t).forEach(function(a,l,f){var c=t[a];c&&Array.isArray(c)?c.forEach(function(h){n+=ur(a+"[]")+i+ur(h)+`
`}):c&&typeof c=="object"?r.push(a):n+=ur(a)+i+ur(c)+Ai}),e.section&&n.length&&(n="["+ur(e.section)+"]"+Ai+n),r.forEach(function(a,l,f){var c=$l(a).join("\\."),h=(e.section?e.section+".":"")+c,b=Ol(t[a],{section:h,whitespace:e.whitespace});n.length&&b.length&&(n+=Ai),n+=b}),n}function $l(t){return t.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(function(e){return e.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")})}function Kp(t){var e={},r=e,n=null,i=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,a=t.split(/[\r\n]+/g);return a.forEach(function(l,f,c){if(!(!l||l.match(/^\s*[;#]/))){var h=l.match(i);if(h){if(h[1]!==void 0){if(n=ts(h[1]),n==="__proto__"){r={};return}r=e[n]=e[n]||{};return}var b=ts(h[2]);if(b!=="__proto__"){var g=h[3]?ts(h[4]):!0;switch(g){case"true":case"false":case"null":g=JSON.parse(g)}if(b.length>2&&b.slice(-2)==="[]"){if(b=b.substring(0,b.length-2),b==="__proto__")return;r[b]?Array.isArray(r[b])||(r[b]=[r[b]]):r[b]=[]}Array.isArray(r[b])?r[b].push(g):r[b]=g}}}}),Object.keys(e).filter(function(l,f,c){if(!e[l]||typeof e[l]!="object"||Array.isArray(e[l]))return!1;var h=$l(l),b=e,g=h.pop(),m=g.replace(/\\\./g,".");return h.forEach(function(d,R,S){d!=="__proto__"&&((!b[d]||typeof b[d]!="object")&&(b[d]={}),b=b[d])}),b===e&&m===g?!1:(b[m]=e[l],!0)}).forEach(function(l,f,c){delete e[l]}),e}function Il(t){return t.charAt(0)==='"'&&t.slice(-1)==='"'||t.charAt(0)==="'"&&t.slice(-1)==="'"}function ur(t){return typeof t!="string"||t.match(/[=\r\n]/)||t.match(/^\[/)||t.length>1&&Il(t)||t!==t.trim()?JSON.stringify(t):t.replace(/;/g,"\\;").replace(/#/g,"\\#")}function ts(t,e){if(t=(t||"").trim(),Il(t)){t.charAt(0)==="'"&&(t=t.substr(1,t.length-2));try{t=JSON.parse(t)}catch{}}else{for(var r=!1,n="",i=0,a=t.length;i<a;i++){var l=t.charAt(i);if(r)"\\;#".indexOf(l)!==-1?n+=l:n+="\\"+l,r=!1;else{if(";#".indexOf(l)!==-1)break;l==="\\"?r=!0:n+=l}}return r&&(n+="\\"),n.trim()}return t}});var Hl=L((AS,Nl)=>{"use strict";var Ti=1,Pl=2;function Xp(){return""}function Zp(t,e,r){return t.slice(e,r).replace(/\S/g," ")}Nl.exports=function(t,e){e=e||{};for(var r,n,i=!1,a=!1,l=0,f="",c=e.whitespace===!1?Xp:Zp,h=0;h<t.length;h++){if(r=t[h],n=t[h+1],!a&&r==='"'){var b=t[h-1]==="\\"&&t[h-2]!=="\\";b||(i=!i)}if(!i){if(!a&&r+n==="//")f+=t.slice(l,h),l=h,a=Ti,h++;else if(a===Ti&&r+n===`\r
`){h++,a=!1,f+=c(t,l,h),l=h;continue}else if(a===Ti&&r===`
`)a=!1,f+=c(t,l,h),l=h;else if(!a&&r+n==="/*"){f+=t.slice(l,h),l=h,a=Pl,h++;continue}else if(a===Pl&&r+n==="*/"){h++,a=!1,f+=c(t,l,h+1),l=h+1;continue}}}return f+(a?c(t.substr(l)):t.substr(l))}});var Bl=L(cr=>{"use strict";var Dl=Oe("fs"),Jp=Ll(),Gr=Oe("path"),em=Hl(),tm=cr.parse=function(t){return/^\s*{/.test(t)?JSON.parse(em(t)):Jp.parse(t)},rm=cr.file=function(){var t=[].slice.call(arguments).filter(function(i){return i!=null});for(var e in t)if(typeof t[e]!="string")return;var r=Gr.join.apply(null,t),n;try{return Dl.readFileSync(r,"utf-8")}catch{return}},TS=cr.json=function(){var t=rm.apply(null,arguments);return t?tm(t):null},CS=cr.env=function(t,e){e=e||process.env;var r={},n=t.length;for(var i in e)if(i.toLowerCase().indexOf(t.toLowerCase())===0){for(var a=i.substring(n).split("__"),l;(l=a.indexOf(""))>-1;)a.splice(l,1);var f=r;a.forEach(function(h,b){!h||typeof f!="object"||(b===a.length-1&&(f[h]=e[i]),f[h]===void 0&&(f[h]={}),f=f[h])})}return r},xS=cr.find=function(){var t=Gr.join.apply(null,[].slice.call(arguments));function e(r,n){var i=Gr.join(r,n);try{return Dl.statSync(i),i}catch{if(Gr.dirname(r)!==r)return e(Gr.dirname(r),n)}}return e(process.cwd(),t)}});var kl=L((OS,Wl)=>{"use strict";function ql(t){return t instanceof Buffer||t instanceof Date||t instanceof RegExp}function Ul(t){if(t instanceof Buffer){var e=Buffer.alloc?Buffer.alloc(t.length):new Buffer(t.length);return t.copy(e),e}else{if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);throw new Error("Unexpected situation")}}function Ml(t){var e=[];return t.forEach(function(r,n){typeof r=="object"&&r!==null?Array.isArray(r)?e[n]=Ml(r):ql(r)?e[n]=Ul(r):e[n]=Ci({},r):e[n]=r}),e}function Fl(t,e){return e==="__proto__"?void 0:t[e]}var Ci=Wl.exports=function(){if(arguments.length<1||typeof arguments[0]!="object")return!1;if(arguments.length<2)return arguments[0];var t=arguments[0],e=Array.prototype.slice.call(arguments,1),r,n,i;return e.forEach(function(a){typeof a!="object"||a===null||Array.isArray(a)||Object.keys(a).forEach(function(l){if(n=Fl(t,l),r=Fl(a,l),r!==t)if(typeof r!="object"||r===null){t[l]=r;return}else if(Array.isArray(r)){t[l]=Ml(r);return}else if(ql(r)){t[l]=Ul(r);return}else if(typeof n!="object"||n===null||Array.isArray(n)){t[l]=Ci({},r);return}else{t[l]=Ci(n,r);return}})}),t}});var xi=L(($S,Gl)=>{var Vr=Bl(),fr=Oe("path").join,nm=kl(),zl="/etc",jl=process.platform==="win32",Yr=jl?process.env.USERPROFILE:process.env.HOME;Gl.exports=function(t,e,r,n){if(typeof t!="string")throw new Error("rc(name): name *must* be string");r||(r=di()(process.argv.slice(2))),e=(typeof e=="string"?Vr.json(e):e)||{},n=n||Vr.parse;var i=Vr.env(t+"_"),a=[e],l=[];function f(c){if(!(l.indexOf(c)>=0)){var h=Vr.file(c);h&&(a.push(n(h)),l.push(c))}}return jl||[fr(zl,t,"config"),fr(zl,t+"rc")].forEach(f),Yr&&[fr(Yr,".config",t,"config"),fr(Yr,".config",t),fr(Yr,"."+t,"config"),fr(Yr,"."+t+"rc")].forEach(f),f(Vr.find("."+t+"rc")),i.config&&f(i.config),r.config&&f(r.config),nm.apply(null,a.concat([i,r,l.length?{configs:l,config:l[l.length-1]}:void 0]))}});var eu=L((IS,Jl)=>{var vi=Oe("url"),Xl=vl(),sm=Xl.decodeBase64,im=Xl.encodeBase64,Vl=":_authToken",Yl=":_auth",Ql=":username",Kl=":_password";Jl.exports=function(){var t,e;return arguments.length>=2?(t=arguments[0],e=arguments[1]):typeof arguments[0]=="string"?t=arguments[0]:e=arguments[0],e=e||{},e.npmrc=e.npmrc||xi()("npm",{registry:"https://registry.npmjs.org/"},{config:process.env.npm_config_userconfig||process.env.NPM_CONFIG_USERCONFIG}),t=t||e.npmrc.registry,Zl(t,e)||om(e.npmrc)};function Zl(t,e){for(var r=vi.parse(t,!1,!0),n;n!=="/"&&r.pathname!==n;){n=r.pathname||"/";var i="//"+r.host+n.replace(/\/$/,""),a=lm(i,e.npmrc);if(a)return a;if(!e.recursive)return/\/$/.test(t)?void 0:Zl(vi.resolve(t,"."),e);r.pathname=vi.resolve(am(n),"..")||"/"}}function om(t){if(t._auth){var e=rs(t._auth);return{token:e,type:"Basic"}}}function am(t){return t[t.length-1]==="/"?t:t+"/"}function lm(t,e){var r=um(e[t+Vl]||e[t+"/"+Vl]);if(r)return r;var n=e[t+Ql]||e[t+"/"+Ql],i=e[t+Kl]||e[t+"/"+Kl],a=cm(n,i);if(a)return a;var l=fm(e[t+Yl]||e[t+"/"+Yl]);if(l)return l}function rs(t){return t.replace(/^\$\{?([^}]*)\}?$/,function(e,r){return process.env[r]})}function um(t){if(t){var e=rs(t);return{token:e,type:"Bearer"}}}function cm(t,e){if(!(!t||!e)){var r=sm(rs(e)),n=im(t+":"+r);return{token:n,type:"Basic",password:r,username:t}}}function fm(t){if(t){var e=rs(t);return{token:e,type:"Basic"}}}});var Qr=L((LS,tu)=>{var hm="2.0.0",dm=Number.MAX_SAFE_INTEGER||9007199254740991,pm=16;tu.exports={SEMVER_SPEC_VERSION:hm,MAX_LENGTH:256,MAX_SAFE_INTEGER:dm,MAX_SAFE_COMPONENT_LENGTH:pm}});var Kr=L((PS,ru)=>{var mm=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};ru.exports=mm});var Bt=L((wt,nu)=>{var{MAX_SAFE_COMPONENT_LENGTH:Oi}=Qr(),gm=Kr();wt=nu.exports={};var bm=wt.re=[],F=wt.src=[],q=wt.t={},ym=0,V=(t,e,r)=>{let n=ym++;gm(t,n,e),q[t]=n,F[n]=e,bm[n]=new RegExp(e,r?"g":void 0)};V("NUMERICIDENTIFIER","0|[1-9]\\d*");V("NUMERICIDENTIFIERLOOSE","[0-9]+");V("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");V("MAINVERSION",`(${F[q.NUMERICIDENTIFIER]})\\.(${F[q.NUMERICIDENTIFIER]})\\.(${F[q.NUMERICIDENTIFIER]})`);V("MAINVERSIONLOOSE",`(${F[q.NUMERICIDENTIFIERLOOSE]})\\.(${F[q.NUMERICIDENTIFIERLOOSE]})\\.(${F[q.NUMERICIDENTIFIERLOOSE]})`);V("PRERELEASEIDENTIFIER",`(?:${F[q.NUMERICIDENTIFIER]}|${F[q.NONNUMERICIDENTIFIER]})`);V("PRERELEASEIDENTIFIERLOOSE",`(?:${F[q.NUMERICIDENTIFIERLOOSE]}|${F[q.NONNUMERICIDENTIFIER]})`);V("PRERELEASE",`(?:-(${F[q.PRERELEASEIDENTIFIER]}(?:\\.${F[q.PRERELEASEIDENTIFIER]})*))`);V("PRERELEASELOOSE",`(?:-?(${F[q.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${F[q.PRERELEASEIDENTIFIERLOOSE]})*))`);V("BUILDIDENTIFIER","[0-9A-Za-z-]+");V("BUILD",`(?:\\+(${F[q.BUILDIDENTIFIER]}(?:\\.${F[q.BUILDIDENTIFIER]})*))`);V("FULLPLAIN",`v?${F[q.MAINVERSION]}${F[q.PRERELEASE]}?${F[q.BUILD]}?`);V("FULL",`^${F[q.FULLPLAIN]}$`);V("LOOSEPLAIN",`[v=\\s]*${F[q.MAINVERSIONLOOSE]}${F[q.PRERELEASELOOSE]}?${F[q.BUILD]}?`);V("LOOSE",`^${F[q.LOOSEPLAIN]}$`);V("GTLT","((?:<|>)?=?)");V("XRANGEIDENTIFIERLOOSE",`${F[q.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);V("XRANGEIDENTIFIER",`${F[q.NUMERICIDENTIFIER]}|x|X|\\*`);V("XRANGEPLAIN",`[v=\\s]*(${F[q.XRANGEIDENTIFIER]})(?:\\.(${F[q.XRANGEIDENTIFIER]})(?:\\.(${F[q.XRANGEIDENTIFIER]})(?:${F[q.PRERELEASE]})?${F[q.BUILD]}?)?)?`);V("XRANGEPLAINLOOSE",`[v=\\s]*(${F[q.XRANGEIDENTIFIERLOOSE]})(?:\\.(${F[q.XRANGEIDENTIFIERLOOSE]})(?:\\.(${F[q.XRANGEIDENTIFIERLOOSE]})(?:${F[q.PRERELEASELOOSE]})?${F[q.BUILD]}?)?)?`);V("XRANGE",`^${F[q.GTLT]}\\s*${F[q.XRANGEPLAIN]}$`);V("XRANGELOOSE",`^${F[q.GTLT]}\\s*${F[q.XRANGEPLAINLOOSE]}$`);V("COERCE",`(^|[^\\d])(\\d{1,${Oi}})(?:\\.(\\d{1,${Oi}}))?(?:\\.(\\d{1,${Oi}}))?(?:$|[^\\d])`);V("COERCERTL",F[q.COERCE],!0);V("LONETILDE","(?:~>?)");V("TILDETRIM",`(\\s*)${F[q.LONETILDE]}\\s+`,!0);wt.tildeTrimReplace="$1~";V("TILDE",`^${F[q.LONETILDE]}${F[q.XRANGEPLAIN]}$`);V("TILDELOOSE",`^${F[q.LONETILDE]}${F[q.XRANGEPLAINLOOSE]}$`);V("LONECARET","(?:\\^)");V("CARETTRIM",`(\\s*)${F[q.LONECARET]}\\s+`,!0);wt.caretTrimReplace="$1^";V("CARET",`^${F[q.LONECARET]}${F[q.XRANGEPLAIN]}$`);V("CARETLOOSE",`^${F[q.LONECARET]}${F[q.XRANGEPLAINLOOSE]}$`);V("COMPARATORLOOSE",`^${F[q.GTLT]}\\s*(${F[q.LOOSEPLAIN]})$|^$`);V("COMPARATOR",`^${F[q.GTLT]}\\s*(${F[q.FULLPLAIN]})$|^$`);V("COMPARATORTRIM",`(\\s*)${F[q.GTLT]}\\s*(${F[q.LOOSEPLAIN]}|${F[q.XRANGEPLAIN]})`,!0);wt.comparatorTrimReplace="$1$2$3";V("HYPHENRANGE",`^\\s*(${F[q.XRANGEPLAIN]})\\s+-\\s+(${F[q.XRANGEPLAIN]})\\s*$`);V("HYPHENRANGELOOSE",`^\\s*(${F[q.XRANGEPLAINLOOSE]})\\s+-\\s+(${F[q.XRANGEPLAINLOOSE]})\\s*$`);V("STAR","(<|>)?=?\\s*\\*");V("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");V("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Xr=L((NS,su)=>{var _m=["includePrerelease","loose","rtl"],Rm=t=>t?typeof t!="object"?{loose:!0}:_m.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};su.exports=Rm});var $i=L((HS,au)=>{var iu=/^[0-9]+$/,ou=(t,e)=>{let r=iu.test(t),n=iu.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Sm=(t,e)=>ou(e,t);au.exports={compareIdentifiers:ou,rcompareIdentifiers:Sm}});var we=L((DS,fu)=>{var ns=Kr(),{MAX_LENGTH:lu,MAX_SAFE_INTEGER:ss}=Qr(),{re:uu,t:cu}=Bt(),wm=Xr(),{compareIdentifiers:hr}=$i(),Ii=class t{constructor(e,r){if(r=wm(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>lu)throw new TypeError(`version is longer than ${lu} characters`);ns("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?uu[cu.LOOSE]:uu[cu.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ss||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ss||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ss||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let a=+i;if(a>=0&&a<ss)return a}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ns("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),hr(this.major,e.major)||hr(this.minor,e.minor)||hr(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(ns("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return hr(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(ns("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return hr(n,i)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(hr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};fu.exports=Ii});var Ft=L((BS,mu)=>{var{MAX_LENGTH:Em}=Qr(),{re:hu,t:du}=Bt(),pu=we(),Am=Xr(),Tm=(t,e)=>{if(e=Am(e),t instanceof pu)return t;if(typeof t!="string"||t.length>Em||!(e.loose?hu[du.LOOSE]:hu[du.FULL]).test(t))return null;try{return new pu(t,e)}catch{return null}};mu.exports=Tm});var bu=L((FS,gu)=>{var Cm=Ft(),xm=(t,e)=>{let r=Cm(t,e);return r?r.version:null};gu.exports=xm});var _u=L((qS,yu)=>{var vm=Ft(),Om=(t,e)=>{let r=vm(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};yu.exports=Om});var wu=L((US,Su)=>{var Ru=we(),$m=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new Ru(t instanceof Ru?t.version:t,r).inc(e,n).version}catch{return null}};Su.exports=$m});var Me=L((MS,Au)=>{var Eu=we(),Im=(t,e,r)=>new Eu(t,r).compare(new Eu(e,r));Au.exports=Im});var is=L((WS,Tu)=>{var Lm=Me(),Pm=(t,e,r)=>Lm(t,e,r)===0;Tu.exports=Pm});var vu=L((kS,xu)=>{var Cu=Ft(),Nm=is(),Hm=(t,e)=>{if(Nm(t,e))return null;{let r=Cu(t),n=Cu(e),i=r.prerelease.length||n.prerelease.length,a=i?"pre":"",l=i?"prerelease":"";for(let f in r)if((f==="major"||f==="minor"||f==="patch")&&r[f]!==n[f])return a+f;return l}};xu.exports=Hm});var $u=L((zS,Ou)=>{var Dm=we(),Bm=(t,e)=>new Dm(t,e).major;Ou.exports=Bm});var Lu=L((jS,Iu)=>{var Fm=we(),qm=(t,e)=>new Fm(t,e).minor;Iu.exports=qm});var Nu=L((GS,Pu)=>{var Um=we(),Mm=(t,e)=>new Um(t,e).patch;Pu.exports=Mm});var Du=L((VS,Hu)=>{var Wm=Ft(),km=(t,e)=>{let r=Wm(t,e);return r&&r.prerelease.length?r.prerelease:null};Hu.exports=km});var Fu=L((YS,Bu)=>{var zm=Me(),jm=(t,e,r)=>zm(e,t,r);Bu.exports=jm});var Uu=L((QS,qu)=>{var Gm=Me(),Vm=(t,e)=>Gm(t,e,!0);qu.exports=Vm});var os=L((KS,Wu)=>{var Mu=we(),Ym=(t,e,r)=>{let n=new Mu(t,r),i=new Mu(e,r);return n.compare(i)||n.compareBuild(i)};Wu.exports=Ym});var zu=L((XS,ku)=>{var Qm=os(),Km=(t,e)=>t.sort((r,n)=>Qm(r,n,e));ku.exports=Km});var Gu=L((ZS,ju)=>{var Xm=os(),Zm=(t,e)=>t.sort((r,n)=>Xm(n,r,e));ju.exports=Zm});var Zr=L((JS,Vu)=>{var Jm=Me(),eg=(t,e,r)=>Jm(t,e,r)>0;Vu.exports=eg});var as=L((ew,Yu)=>{var tg=Me(),rg=(t,e,r)=>tg(t,e,r)<0;Yu.exports=rg});var Li=L((tw,Qu)=>{var ng=Me(),sg=(t,e,r)=>ng(t,e,r)!==0;Qu.exports=sg});var ls=L((rw,Ku)=>{var ig=Me(),og=(t,e,r)=>ig(t,e,r)>=0;Ku.exports=og});var us=L((nw,Xu)=>{var ag=Me(),lg=(t,e,r)=>ag(t,e,r)<=0;Xu.exports=lg});var Pi=L((sw,Zu)=>{var ug=is(),cg=Li(),fg=Zr(),hg=ls(),dg=as(),pg=us(),mg=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return ug(t,r,n);case"!=":return cg(t,r,n);case">":return fg(t,r,n);case">=":return hg(t,r,n);case"<":return dg(t,r,n);case"<=":return pg(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Zu.exports=mg});var ec=L((iw,Ju)=>{var gg=we(),bg=Ft(),{re:cs,t:fs}=Bt(),yg=(t,e)=>{if(t instanceof gg)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(cs[fs.COERCE]);else{let n;for(;(n=cs[fs.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),cs[fs.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;cs[fs.COERCERTL].lastIndex=-1}return r===null?null:bg(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};Ju.exports=yg});var rc=L((ow,tc)=>{"use strict";tc.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var sc=L((aw,nc)=>{"use strict";nc.exports=ne;ne.Node=qt;ne.create=ne;function ne(t){var e=this;if(e instanceof ne||(e=new ne),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}ne.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};ne.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};ne.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};ne.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Rg(this,arguments[t]);return this.length};ne.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Sg(this,arguments[t]);return this.length};ne.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};ne.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};ne.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};ne.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};ne.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};ne.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};ne.prototype.map=function(t,e){e=e||this;for(var r=new ne,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};ne.prototype.mapReverse=function(t,e){e=e||this;for(var r=new ne,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};ne.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};ne.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};ne.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};ne.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};ne.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ne;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};ne.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ne;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};ne.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var a=[],n=0;i&&n<e;n++)a.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=_g(this,i,r[n]);return a};ne.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function _g(t,e,r){var n=e===t.head?new qt(r,null,e,t):new qt(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Rg(t,e){t.tail=new qt(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Sg(t,e){t.head=new qt(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function qt(t,e,r,n){if(!(this instanceof qt))return new qt(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{rc()(ne)}catch{}});var uc=L((lw,lc)=>{"use strict";var wg=sc(),Ut=Symbol("max"),lt=Symbol("length"),dr=Symbol("lengthCalculator"),en=Symbol("allowStale"),Mt=Symbol("maxAge"),at=Symbol("dispose"),ic=Symbol("noDisposeOnSet"),Re=Symbol("lruList"),Ye=Symbol("cache"),ac=Symbol("updateAgeOnGet"),Ni=()=>1,Di=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Ut]=e.max||1/0,n=e.length||Ni;if(this[dr]=typeof n!="function"?Ni:n,this[en]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Mt]=e.maxAge||0,this[at]=e.dispose,this[ic]=e.noDisposeOnSet||!1,this[ac]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Ut]=e||1/0,Jr(this)}get max(){return this[Ut]}set allowStale(e){this[en]=!!e}get allowStale(){return this[en]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Mt]=e,Jr(this)}get maxAge(){return this[Mt]}set lengthCalculator(e){typeof e!="function"&&(e=Ni),e!==this[dr]&&(this[dr]=e,this[lt]=0,this[Re].forEach(r=>{r.length=this[dr](r.value,r.key),this[lt]+=r.length})),Jr(this)}get lengthCalculator(){return this[dr]}get length(){return this[lt]}get itemCount(){return this[Re].length}rforEach(e,r){r=r||this;for(let n=this[Re].tail;n!==null;){let i=n.prev;oc(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Re].head;n!==null;){let i=n.next;oc(this,e,n,r),n=i}}keys(){return this[Re].toArray().map(e=>e.key)}values(){return this[Re].toArray().map(e=>e.value)}reset(){this[at]&&this[Re]&&this[Re].length&&this[Re].forEach(e=>this[at](e.key,e.value)),this[Ye]=new Map,this[Re]=new wg,this[lt]=0}dump(){return this[Re].map(e=>hs(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Re]}set(e,r,n){if(n=n||this[Mt],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,a=this[dr](r,e);if(this[Ye].has(e)){if(a>this[Ut])return pr(this,this[Ye].get(e)),!1;let c=this[Ye].get(e).value;return this[at]&&(this[ic]||this[at](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[lt]+=a-c.length,c.length=a,this.get(e),Jr(this),!0}let l=new Bi(e,r,a,i,n);return l.length>this[Ut]?(this[at]&&this[at](e,r),!1):(this[lt]+=l.length,this[Re].unshift(l),this[Ye].set(e,this[Re].head),Jr(this),!0)}has(e){if(!this[Ye].has(e))return!1;let r=this[Ye].get(e).value;return!hs(this,r)}get(e){return Hi(this,e,!0)}peek(e){return Hi(this,e,!1)}pop(){let e=this[Re].tail;return e?(pr(this,e),e.value):null}del(e){pr(this,this[Ye].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],a=i.e||0;if(a===0)this.set(i.k,i.v);else{let l=a-r;l>0&&this.set(i.k,i.v,l)}}}prune(){this[Ye].forEach((e,r)=>Hi(this,r,!1))}},Hi=(t,e,r)=>{let n=t[Ye].get(e);if(n){let i=n.value;if(hs(t,i)){if(pr(t,n),!t[en])return}else r&&(t[ac]&&(n.value.now=Date.now()),t[Re].unshiftNode(n));return i.value}},hs=(t,e)=>{if(!e||!e.maxAge&&!t[Mt])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Mt]&&r>t[Mt]},Jr=t=>{if(t[lt]>t[Ut])for(let e=t[Re].tail;t[lt]>t[Ut]&&e!==null;){let r=e.prev;pr(t,e),e=r}},pr=(t,e)=>{if(e){let r=e.value;t[at]&&t[at](r.key,r.value),t[lt]-=r.length,t[Ye].delete(r.key),t[Re].removeNode(e)}},Bi=class{constructor(e,r,n,i,a){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=a||0}},oc=(t,e,r,n)=>{let i=r.value;hs(t,i)&&(pr(t,r),t[en]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};lc.exports=Di});var We=L((uw,dc)=>{var Fi=class t{constructor(e,r){if(r=Ag(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof qi)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!fc(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Og(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=cc.get(n);if(i)return i;let a=this.options.loose,l=a?Le[Te.HYPHENRANGELOOSE]:Le[Te.HYPHENRANGE];e=e.replace(l,qg(this.options.includePrerelease)),fe("hyphen replace",e),e=e.replace(Le[Te.COMPARATORTRIM],Cg),fe("comparator trim",e),e=e.replace(Le[Te.TILDETRIM],xg),e=e.replace(Le[Te.CARETTRIM],vg),e=e.split(/\s+/).join(" ");let f=e.split(" ").map(g=>$g(g,this.options)).join(" ").split(/\s+/).map(g=>Fg(g,this.options));a&&(f=f.filter(g=>(fe("loose invalid filter",g,this.options),!!g.match(Le[Te.COMPARATORLOOSE])))),fe("range list",f);let c=new Map,h=f.map(g=>new qi(g,this.options));for(let g of h){if(fc(g))return[g];c.set(g.value,g)}c.size>1&&c.has("")&&c.delete("");let b=[...c.values()];return cc.set(n,b),b}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>hc(n,r)&&e.set.some(i=>hc(i,r)&&n.every(a=>i.every(l=>a.intersects(l,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Tg(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Ug(this.set[r],e,this.options))return!0;return!1}};dc.exports=Fi;var Eg=uc(),cc=new Eg({max:1e3}),Ag=Xr(),qi=tn(),fe=Kr(),Tg=we(),{re:Le,t:Te,comparatorTrimReplace:Cg,tildeTrimReplace:xg,caretTrimReplace:vg}=Bt(),fc=t=>t.value==="<0.0.0-0",Og=t=>t.value==="",hc=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(a=>i.intersects(a,e)),i=n.pop();return r},$g=(t,e)=>(fe("comp",t,e),t=Pg(t,e),fe("caret",t),t=Ig(t,e),fe("tildes",t),t=Hg(t,e),fe("xrange",t),t=Bg(t,e),fe("stars",t),t),Ce=t=>!t||t.toLowerCase()==="x"||t==="*",Ig=(t,e)=>t.trim().split(/\s+/).map(r=>Lg(r,e)).join(" "),Lg=(t,e)=>{let r=e.loose?Le[Te.TILDELOOSE]:Le[Te.TILDE];return t.replace(r,(n,i,a,l,f)=>{fe("tilde",t,n,i,a,l,f);let c;return Ce(i)?c="":Ce(a)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Ce(l)?c=`>=${i}.${a}.0 <${i}.${+a+1}.0-0`:f?(fe("replaceTilde pr",f),c=`>=${i}.${a}.${l}-${f} <${i}.${+a+1}.0-0`):c=`>=${i}.${a}.${l} <${i}.${+a+1}.0-0`,fe("tilde return",c),c})},Pg=(t,e)=>t.trim().split(/\s+/).map(r=>Ng(r,e)).join(" "),Ng=(t,e)=>{fe("caret",t,e);let r=e.loose?Le[Te.CARETLOOSE]:Le[Te.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,a,l,f,c)=>{fe("caret",t,i,a,l,f,c);let h;return Ce(a)?h="":Ce(l)?h=`>=${a}.0.0${n} <${+a+1}.0.0-0`:Ce(f)?a==="0"?h=`>=${a}.${l}.0${n} <${a}.${+l+1}.0-0`:h=`>=${a}.${l}.0${n} <${+a+1}.0.0-0`:c?(fe("replaceCaret pr",c),a==="0"?l==="0"?h=`>=${a}.${l}.${f}-${c} <${a}.${l}.${+f+1}-0`:h=`>=${a}.${l}.${f}-${c} <${a}.${+l+1}.0-0`:h=`>=${a}.${l}.${f}-${c} <${+a+1}.0.0-0`):(fe("no pr"),a==="0"?l==="0"?h=`>=${a}.${l}.${f}${n} <${a}.${l}.${+f+1}-0`:h=`>=${a}.${l}.${f}${n} <${a}.${+l+1}.0-0`:h=`>=${a}.${l}.${f} <${+a+1}.0.0-0`),fe("caret return",h),h})},Hg=(t,e)=>(fe("replaceXRanges",t,e),t.split(/\s+/).map(r=>Dg(r,e)).join(" ")),Dg=(t,e)=>{t=t.trim();let r=e.loose?Le[Te.XRANGELOOSE]:Le[Te.XRANGE];return t.replace(r,(n,i,a,l,f,c)=>{fe("xRange",t,n,i,a,l,f,c);let h=Ce(a),b=h||Ce(l),g=b||Ce(f),m=g;return i==="="&&m&&(i=""),c=e.includePrerelease?"-0":"",h?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&m?(b&&(l=0),f=0,i===">"?(i=">=",b?(a=+a+1,l=0,f=0):(l=+l+1,f=0)):i==="<="&&(i="<",b?a=+a+1:l=+l+1),i==="<"&&(c="-0"),n=`${i+a}.${l}.${f}${c}`):b?n=`>=${a}.0.0${c} <${+a+1}.0.0-0`:g&&(n=`>=${a}.${l}.0${c} <${a}.${+l+1}.0-0`),fe("xRange return",n),n})},Bg=(t,e)=>(fe("replaceStars",t,e),t.trim().replace(Le[Te.STAR],"")),Fg=(t,e)=>(fe("replaceGTE0",t,e),t.trim().replace(Le[e.includePrerelease?Te.GTE0PRE:Te.GTE0],"")),qg=t=>(e,r,n,i,a,l,f,c,h,b,g,m,d)=>(Ce(n)?r="":Ce(i)?r=`>=${n}.0.0${t?"-0":""}`:Ce(a)?r=`>=${n}.${i}.0${t?"-0":""}`:l?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Ce(h)?c="":Ce(b)?c=`<${+h+1}.0.0-0`:Ce(g)?c=`<${h}.${+b+1}.0-0`:m?c=`<=${h}.${b}.${g}-${m}`:t?c=`<${h}.${b}.${+g+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),Ug=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(fe(t[n].semver),t[n].semver!==qi.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var tn=L((cw,yc)=>{var rn=Symbol("SemVer ANY"),Wi=class t{static get ANY(){return rn}constructor(e,r){if(r=Mg(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}Mi("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===rn?this.value="":this.value=this.operator+this.semver.version,Mi("comp",this)}parse(e){let r=this.options.loose?pc[mc.COMPARATORLOOSE]:pc[mc.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new gc(n[2],this.options.loose):this.semver=rn}toString(){return this.value}test(e){if(Mi("Comparator.test",e,this.options.loose),this.semver===rn||e===rn)return!0;if(typeof e=="string")try{e=new gc(e,this.options)}catch{return!1}return Ui(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new bc(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new bc(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),a=this.semver.version===e.semver.version,l=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),f=Ui(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=Ui(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||a&&l||f||c}};yc.exports=Wi;var Mg=Xr(),{re:pc,t:mc}=Bt(),Ui=Pi(),Mi=Kr(),gc=we(),bc=We()});var nn=L((fw,_c)=>{var Wg=We(),kg=(t,e,r)=>{try{e=new Wg(e,r)}catch{return!1}return e.test(t)};_c.exports=kg});var Sc=L((hw,Rc)=>{var zg=We(),jg=(t,e)=>new zg(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Rc.exports=jg});var Ec=L((dw,wc)=>{var Gg=we(),Vg=We(),Yg=(t,e,r)=>{let n=null,i=null,a=null;try{a=new Vg(e,r)}catch{return null}return t.forEach(l=>{a.test(l)&&(!n||i.compare(l)===-1)&&(n=l,i=new Gg(n,r))}),n};wc.exports=Yg});var Tc=L((pw,Ac)=>{var Qg=we(),Kg=We(),Xg=(t,e,r)=>{let n=null,i=null,a=null;try{a=new Kg(e,r)}catch{return null}return t.forEach(l=>{a.test(l)&&(!n||i.compare(l)===1)&&(n=l,i=new Qg(n,r))}),n};Ac.exports=Xg});var vc=L((mw,xc)=>{var ki=we(),Zg=We(),Cc=Zr(),Jg=(t,e)=>{t=new Zg(t,e);let r=new ki("0.0.0");if(t.test(r)||(r=new ki("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],a=null;i.forEach(l=>{let f=new ki(l.semver.version);switch(l.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!a||Cc(f,a))&&(a=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),a&&(!r||Cc(r,a))&&(r=a)}return r&&t.test(r)?r:null};xc.exports=Jg});var $c=L((gw,Oc)=>{var eb=We(),tb=(t,e)=>{try{return new eb(t,e).range||"*"}catch{return null}};Oc.exports=tb});var ds=L((bw,Nc)=>{var rb=we(),Pc=tn(),{ANY:nb}=Pc,sb=We(),ib=nn(),Ic=Zr(),Lc=as(),ob=us(),ab=ls(),lb=(t,e,r,n)=>{t=new rb(t,n),e=new sb(e,n);let i,a,l,f,c;switch(r){case">":i=Ic,a=ob,l=Lc,f=">",c=">=";break;case"<":i=Lc,a=ab,l=Ic,f="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ib(t,e,n))return!1;for(let h=0;h<e.set.length;++h){let b=e.set[h],g=null,m=null;if(b.forEach(d=>{d.semver===nb&&(d=new Pc(">=0.0.0")),g=g||d,m=m||d,i(d.semver,g.semver,n)?g=d:l(d.semver,m.semver,n)&&(m=d)}),g.operator===f||g.operator===c||(!m.operator||m.operator===f)&&a(t,m.semver))return!1;if(m.operator===c&&l(t,m.semver))return!1}return!0};Nc.exports=lb});var Dc=L((yw,Hc)=>{var ub=ds(),cb=(t,e,r)=>ub(t,e,">",r);Hc.exports=cb});var Fc=L((_w,Bc)=>{var fb=ds(),hb=(t,e,r)=>fb(t,e,"<",r);Bc.exports=hb});var Mc=L((Rw,Uc)=>{var qc=We(),db=(t,e,r)=>(t=new qc(t,r),e=new qc(e,r),t.intersects(e));Uc.exports=db});var kc=L((Sw,Wc)=>{var pb=nn(),mb=Me();Wc.exports=(t,e,r)=>{let n=[],i=null,a=null,l=t.sort((b,g)=>mb(b,g,r));for(let b of l)pb(b,e,r)?(a=b,i||(i=b)):(a&&n.push([i,a]),a=null,i=null);i&&n.push([i,null]);let f=[];for(let[b,g]of n)b===g?f.push(b):!g&&b===l[0]?f.push("*"):g?b===l[0]?f.push(`<=${g}`):f.push(`${b} - ${g}`):f.push(`>=${b}`);let c=f.join(" || "),h=typeof e.raw=="string"?e.raw:String(e);return c.length<h.length?c:e}});var Yc=L((ww,Vc)=>{var zc=We(),ps=tn(),{ANY:zi}=ps,sn=nn(),ji=Me(),gb=(t,e,r={})=>{if(t===e)return!0;t=new zc(t,r),e=new zc(e,r);let n=!1;e:for(let i of t.set){for(let a of e.set){let l=bb(i,a,r);if(n=n||l!==null,l)continue e}if(n)return!1}return!0},bb=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===zi){if(e.length===1&&e[0].semver===zi)return!0;r.includePrerelease?t=[new ps(">=0.0.0-0")]:t=[new ps(">=0.0.0")]}if(e.length===1&&e[0].semver===zi){if(r.includePrerelease)return!0;e=[new ps(">=0.0.0")]}let n=new Set,i,a;for(let d of t)d.operator===">"||d.operator===">="?i=jc(i,d,r):d.operator==="<"||d.operator==="<="?a=Gc(a,d,r):n.add(d.semver);if(n.size>1)return null;let l;if(i&&a){if(l=ji(i.semver,a.semver,r),l>0)return null;if(l===0&&(i.operator!==">="||a.operator!=="<="))return null}for(let d of n){if(i&&!sn(d,String(i),r)||a&&!sn(d,String(a),r))return null;for(let R of e)if(!sn(d,String(R),r))return!1;return!0}let f,c,h,b,g=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,m=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;g&&g.prerelease.length===1&&a.operator==="<"&&g.prerelease[0]===0&&(g=!1);for(let d of e){if(b=b||d.operator===">"||d.operator===">=",h=h||d.operator==="<"||d.operator==="<=",i){if(m&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===m.major&&d.semver.minor===m.minor&&d.semver.patch===m.patch&&(m=!1),d.operator===">"||d.operator===">="){if(f=jc(i,d,r),f===d&&f!==i)return!1}else if(i.operator===">="&&!sn(i.semver,String(d),r))return!1}if(a){if(g&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===g.major&&d.semver.minor===g.minor&&d.semver.patch===g.patch&&(g=!1),d.operator==="<"||d.operator==="<="){if(c=Gc(a,d,r),c===d&&c!==a)return!1}else if(a.operator==="<="&&!sn(a.semver,String(d),r))return!1}if(!d.operator&&(a||i)&&l!==0)return!1}return!(i&&h&&!a&&l!==0||a&&b&&!i&&l!==0||m||g)},jc=(t,e,r)=>{if(!t)return e;let n=ji(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Gc=(t,e,r)=>{if(!t)return e;let n=ji(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};Vc.exports=gb});var Xc=L((Ew,Kc)=>{var Gi=Bt(),yb=Qr(),_b=we(),Qc=$i(),Rb=Ft(),Sb=bu(),wb=_u(),Eb=wu(),Ab=vu(),Tb=$u(),Cb=Lu(),xb=Nu(),vb=Du(),Ob=Me(),$b=Fu(),Ib=Uu(),Lb=os(),Pb=zu(),Nb=Gu(),Hb=Zr(),Db=as(),Bb=is(),Fb=Li(),qb=ls(),Ub=us(),Mb=Pi(),Wb=ec(),kb=tn(),zb=We(),jb=nn(),Gb=Sc(),Vb=Ec(),Yb=Tc(),Qb=vc(),Kb=$c(),Xb=ds(),Zb=Dc(),Jb=Fc(),ey=Mc(),ty=kc(),ry=Yc();Kc.exports={parse:Rb,valid:Sb,clean:wb,inc:Eb,diff:Ab,major:Tb,minor:Cb,patch:xb,prerelease:vb,compare:Ob,rcompare:$b,compareLoose:Ib,compareBuild:Lb,sort:Pb,rsort:Nb,gt:Hb,lt:Db,eq:Bb,neq:Fb,gte:qb,lte:Ub,cmp:Mb,coerce:Wb,Comparator:kb,Range:zb,satisfies:jb,toComparators:Gb,maxSatisfying:Vb,minSatisfying:Yb,minVersion:Qb,validRange:Kb,outside:Xb,gtr:Zb,ltr:Jb,intersects:ey,simplifyRange:ty,subset:ry,SemVer:_b,re:Gi.re,src:Gi.src,tokens:Gi.t,SEMVER_SPEC_VERSION:yb.SEMVER_SPEC_VERSION,compareIdentifiers:Qc.compareIdentifiers,rcompareIdentifiers:Qc.rcompareIdentifiers}});var rf=L((Aw,tf)=>{tf.exports=function(t,e){e||(e={});var r=e.hsep===void 0?"  ":e.hsep,n=e.align||[],i=e.stringLength||function(c){return String(c).length},a=Jc(t,function(c,h){return ef(h,function(b,g){var m=Zc(b);(!c[g]||m>c[g])&&(c[g]=m)}),c},[]),l=ms(t,function(c){return ms(c,function(h,b){var g=String(h);if(n[b]==="."){var m=Zc(g),d=a[b]+(/\./.test(g)?1:2)-(i(g)-m);return g+Array(d).join(" ")}else return g})}),f=Jc(l,function(c,h){return ef(h,function(b,g){var m=i(b);(!c[g]||m>c[g])&&(c[g]=m)}),c},[]);return ms(l,function(c){return ms(c,function(h,b){var g=f[b]-i(h)||0,m=Array(Math.max(g+1,1)).join(" ");return n[b]==="r"||n[b]==="."?m+h:n[b]==="c"?Array(Math.ceil(g/2+1)).join(" ")+h+Array(Math.floor(g/2+1)).join(" "):h+m}).join(r).replace(/\s+$/,"")}).join(`
`)};function Zc(t){var e=/\.[^.]*$/.exec(t);return e?e.index+1:t.length}function Jc(t,e,r){if(t.reduce)return t.reduce(e,r);for(var n=0,i=arguments.length>=3?r:t[n++];n<t.length;n++)e(i,t[n],n);return i}function ef(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e.call(t,t[r],r)}function ms(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e.call(t,t[n],n));return r}});var lf=L(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.LRUCache=void 0;var on=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,sf=new Set,Vi=typeof process=="object"&&process?process:{},of=(t,e,r,n)=>{typeof Vi.emitWarning=="function"?Vi.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)},gs=globalThis.AbortController,nf=globalThis.AbortSignal;if(typeof gs>"u"){nf=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,i){this._onabort.push(i)}},gs=class{constructor(){e()}signal=new nf;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let i of this.signal._onabort)i(n);this.signal.onabort?.(n)}}};let t=Vi.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,of("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var ny=t=>!sf.has(t),xw=Symbol("type"),Et=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),af=t=>Et(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?mr:null:null,mr=class extends Array{constructor(e){super(e),this.fill(0)}},Yi=class t{heap;length;static#e=!1;static create(e){let r=af(e);if(!r)return[];t.#e=!0;let n=new t(e,r);return t.#e=!1,n}constructor(e,r){if(!t.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},Qi=class t{#e;#r;#t;#u;#w;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#a;#m;#s;#i;#n;#c;#d;#f;#l;#b;#h;#E;#A;#y;#_;#C;#p;static unsafeExposeInternals(e){return{starts:e.#A,ttls:e.#y,sizes:e.#E,keyMap:e.#s,keyList:e.#i,valList:e.#n,next:e.#c,prev:e.#d,get head(){return e.#f},get tail(){return e.#l},free:e.#b,isBackgroundFetch:r=>e.#o(r),backgroundFetch:(r,n,i,a)=>e.#L(r,n,i,a),moveToTail:r=>e.#O(r),indexes:r=>e.#R(r),rindexes:r=>e.#S(r),isStale:r=>e.#g(r)}}get max(){return this.#e}get maxSize(){return this.#r}get calculatedSize(){return this.#m}get size(){return this.#a}get fetchMethod(){return this.#w}get dispose(){return this.#t}get disposeAfter(){return this.#u}constructor(e){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:a,updateAgeOnGet:l,updateAgeOnHas:f,allowStale:c,dispose:h,disposeAfter:b,noDisposeOnSet:g,noUpdateTTL:m,maxSize:d=0,maxEntrySize:R=0,sizeCalculation:S,fetchMethod:$,noDeleteOnFetchRejection:x,noDeleteOnStaleGet:I,allowStaleOnFetchRejection:U,allowStaleOnFetchAbort:T,ignoreFetchAbort:O}=e;if(r!==0&&!Et(r))throw new TypeError("max option must be a nonnegative integer");let P=r?af(r):Array;if(!P)throw new Error("invalid max value: "+r);if(this.#e=r,this.#r=d,this.maxEntrySize=R||this.#r,this.sizeCalculation=S,this.sizeCalculation){if(!this.#r&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if($!==void 0&&typeof $!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#w=$,this.#C=!!$,this.#s=new Map,this.#i=new Array(r).fill(void 0),this.#n=new Array(r).fill(void 0),this.#c=new P(r),this.#d=new P(r),this.#f=0,this.#l=0,this.#b=Yi.create(r),this.#a=0,this.#m=0,typeof h=="function"&&(this.#t=h),typeof b=="function"?(this.#u=b,this.#h=[]):(this.#u=void 0,this.#h=void 0),this.#_=!!this.#t,this.#p=!!this.#u,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!m,this.noDeleteOnFetchRejection=!!x,this.allowStaleOnFetchRejection=!!U,this.allowStaleOnFetchAbort=!!T,this.ignoreFetchAbort=!!O,this.maxEntrySize!==0){if(this.#r!==0&&!Et(this.#r))throw new TypeError("maxSize must be a positive integer if specified");if(!Et(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#F()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!I,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!f,this.ttlResolution=Et(i)||i===0?i:1,this.ttlAutopurge=!!a,this.ttl=n||0,this.ttl){if(!Et(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#P()}if(this.#e===0&&this.ttl===0&&this.#r===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#r){let H="LRU_CACHE_UNBOUNDED";ny(H)&&(sf.add(H),of("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",H,t))}}getRemainingTTL(e){return this.#s.has(e)?1/0:0}#P(){let e=new mr(this.#e),r=new mr(this.#e);this.#y=e,this.#A=r,this.#N=(a,l,f=on.now())=>{if(r[a]=l!==0?f:0,e[a]=l,l!==0&&this.ttlAutopurge){let c=setTimeout(()=>{this.#g(a)&&this.delete(this.#i[a])},l+1);c.unref&&c.unref()}},this.#x=a=>{r[a]=e[a]!==0?on.now():0},this.#T=(a,l)=>{if(e[l]){let f=e[l],c=r[l];a.ttl=f,a.start=c,a.now=n||i();let h=a.now-c;a.remainingTTL=f-h}};let n=0,i=()=>{let a=on.now();if(this.ttlResolution>0){n=a;let l=setTimeout(()=>n=0,this.ttlResolution);l.unref&&l.unref()}return a};this.getRemainingTTL=a=>{let l=this.#s.get(a);if(l===void 0)return 0;let f=e[l],c=r[l];if(f===0||c===0)return 1/0;let h=(n||i())-c;return f-h},this.#g=a=>e[a]!==0&&r[a]!==0&&(n||i())-r[a]>e[a]}#x=()=>{};#T=()=>{};#N=()=>{};#g=()=>!1;#F(){let e=new mr(this.#e);this.#m=0,this.#E=e,this.#v=r=>{this.#m-=e[r],e[r]=0},this.#H=(r,n,i,a)=>{if(this.#o(n))return 0;if(!Et(i))if(a){if(typeof a!="function")throw new TypeError("sizeCalculation must be a function");if(i=a(n,r),!Et(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#$=(r,n,i)=>{if(e[r]=n,this.#r){let a=this.#r-e[r];for(;this.#m>a;)this.#I(!0)}this.#m+=e[r],i&&(i.entrySize=n,i.totalCalculatedSize=this.#m)}}#v=e=>{};#$=(e,r,n)=>{};#H=(e,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#R({allowStale:e=this.allowStale}={}){if(this.#a)for(let r=this.#l;!(!this.#D(r)||((e||!this.#g(r))&&(yield r),r===this.#f));)r=this.#d[r]}*#S({allowStale:e=this.allowStale}={}){if(this.#a)for(let r=this.#f;!(!this.#D(r)||((e||!this.#g(r))&&(yield r),r===this.#l));)r=this.#c[r]}#D(e){return e!==void 0&&this.#s.get(this.#i[e])===e}*entries(){for(let e of this.#R())this.#n[e]!==void 0&&this.#i[e]!==void 0&&!this.#o(this.#n[e])&&(yield[this.#i[e],this.#n[e]])}*rentries(){for(let e of this.#S())this.#n[e]!==void 0&&this.#i[e]!==void 0&&!this.#o(this.#n[e])&&(yield[this.#i[e],this.#n[e]])}*keys(){for(let e of this.#R()){let r=this.#i[e];r!==void 0&&!this.#o(this.#n[e])&&(yield r)}}*rkeys(){for(let e of this.#S()){let r=this.#i[e];r!==void 0&&!this.#o(this.#n[e])&&(yield r)}}*values(){for(let e of this.#R())this.#n[e]!==void 0&&!this.#o(this.#n[e])&&(yield this.#n[e])}*rvalues(){for(let e of this.#S())this.#n[e]!==void 0&&!this.#o(this.#n[e])&&(yield this.#n[e])}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let n of this.#R()){let i=this.#n[n],a=this.#o(i)?i.__staleWhileFetching:i;if(a!==void 0&&e(a,this.#i[n],this))return this.get(this.#i[n],r)}}forEach(e,r=this){for(let n of this.#R()){let i=this.#n[n],a=this.#o(i)?i.__staleWhileFetching:i;a!==void 0&&e.call(r,a,this.#i[n],this)}}rforEach(e,r=this){for(let n of this.#S()){let i=this.#n[n],a=this.#o(i)?i.__staleWhileFetching:i;a!==void 0&&e.call(r,a,this.#i[n],this)}}purgeStale(){let e=!1;for(let r of this.#S({allowStale:!0}))this.#g(r)&&(this.delete(this.#i[r]),e=!0);return e}dump(){let e=[];for(let r of this.#R({allowStale:!0})){let n=this.#i[r],i=this.#n[r],a=this.#o(i)?i.__staleWhileFetching:i;if(a===void 0||n===void 0)continue;let l={value:a};if(this.#y&&this.#A){l.ttl=this.#y[r];let f=on.now()-this.#A[r];l.start=Math.floor(Date.now()-f)}this.#E&&(l.size=this.#E[r]),e.unshift([n,l])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=on.now()-i}this.set(r,n.value,n)}}set(e,r,n={}){if(r===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:a,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:f=this.sizeCalculation,status:c}=n,{noUpdateTTL:h=this.noUpdateTTL}=n,b=this.#H(e,r,n.size||0,f);if(this.maxEntrySize&&b>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(e),this;let g=this.#a===0?void 0:this.#s.get(e);if(g===void 0)g=this.#a===0?this.#l:this.#b.length!==0?this.#b.pop():this.#a===this.#e?this.#I(!1):this.#a,this.#i[g]=e,this.#n[g]=r,this.#s.set(e,g),this.#c[this.#l]=g,this.#d[g]=this.#l,this.#l=g,this.#a++,this.#$(g,b,c),c&&(c.set="add"),h=!1;else{this.#O(g);let m=this.#n[g];if(r!==m){if(this.#C&&this.#o(m)){m.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:d}=m;d!==void 0&&!l&&(this.#_&&this.#t?.(d,e,"set"),this.#p&&this.#h?.push([d,e,"set"]))}else l||(this.#_&&this.#t?.(m,e,"set"),this.#p&&this.#h?.push([m,e,"set"]));if(this.#v(g),this.#$(g,b,c),this.#n[g]=r,c){c.set="replace";let d=m&&this.#o(m)?m.__staleWhileFetching:m;d!==void 0&&(c.oldValue=d)}}else c&&(c.set="update")}if(i!==0&&!this.#y&&this.#P(),this.#y&&(h||this.#N(g,i,a),c&&this.#T(c,g)),!l&&this.#p&&this.#h){let m=this.#h,d;for(;d=m?.shift();)this.#u?.(...d)}return this}pop(){try{for(;this.#a;){let e=this.#n[this.#f];if(this.#I(!0),this.#o(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#p&&this.#h){let e=this.#h,r;for(;r=e?.shift();)this.#u?.(...r)}}}#I(e){let r=this.#f,n=this.#i[r],i=this.#n[r];return this.#C&&this.#o(i)?i.__abortController.abort(new Error("evicted")):(this.#_||this.#p)&&(this.#_&&this.#t?.(i,n,"evict"),this.#p&&this.#h?.push([i,n,"evict"])),this.#v(r),e&&(this.#i[r]=void 0,this.#n[r]=void 0,this.#b.push(r)),this.#a===1?(this.#f=this.#l=0,this.#b.length=0):this.#f=this.#c[r],this.#s.delete(n),this.#a--,r}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,a=this.#s.get(e);if(a!==void 0){let l=this.#n[a];if(this.#o(l)&&l.__staleWhileFetching===void 0)return!1;if(this.#g(a))i&&(i.has="stale",this.#T(i,a));else return n&&this.#x(a),i&&(i.has="hit",this.#T(i,a)),!0}else i&&(i.has="miss");return!1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,i=this.#s.get(e);if(i!==void 0&&(n||!this.#g(i))){let a=this.#n[i];return this.#o(a)?a.__staleWhileFetching:a}}#L(e,r,n,i){let a=r===void 0?void 0:this.#n[r];if(this.#o(a))return a;let l=new gs,{signal:f}=n;f?.addEventListener("abort",()=>l.abort(f.reason),{signal:l.signal});let c={signal:l.signal,options:n,context:i},h=(S,$=!1)=>{let{aborted:x}=l.signal,I=n.ignoreFetchAbort&&S!==void 0;if(n.status&&(x&&!$?(n.status.fetchAborted=!0,n.status.fetchError=l.signal.reason,I&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),x&&!I&&!$)return g(l.signal.reason);let U=d;return this.#n[r]===d&&(S===void 0?U.__staleWhileFetching?this.#n[r]=U.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,S,c.options))),S},b=S=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=S),g(S)),g=S=>{let{aborted:$}=l.signal,x=$&&n.allowStaleOnFetchAbort,I=x||n.allowStaleOnFetchRejection,U=I||n.noDeleteOnFetchRejection,T=d;if(this.#n[r]===d&&(!U||T.__staleWhileFetching===void 0?this.delete(e):x||(this.#n[r]=T.__staleWhileFetching)),I)return n.status&&T.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),T.__staleWhileFetching;if(T.__returned===T)throw S},m=(S,$)=>{let x=this.#w?.(e,a,c);x&&x instanceof Promise&&x.then(I=>S(I===void 0?void 0:I),$),l.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(S(void 0),n.allowStaleOnFetchAbort&&(S=I=>h(I,!0)))})};n.status&&(n.status.fetchDispatched=!0);let d=new Promise(m).then(h,b),R=Object.assign(d,{__abortController:l,__staleWhileFetching:a,__returned:void 0});return r===void 0?(this.set(e,R,{...c.options,status:void 0}),r=this.#s.get(e)):this.#n[r]=R,R}#o(e){if(!this.#C)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof gs}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:f=this.noDisposeOnSet,size:c=0,sizeCalculation:h=this.sizeCalculation,noUpdateTTL:b=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:m=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:R=this.allowStaleOnFetchAbort,context:S,forceRefresh:$=!1,status:x,signal:I}=r;if(!this.#C)return x&&(x.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:a,status:x});let U={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:a,ttl:l,noDisposeOnSet:f,size:c,sizeCalculation:h,noUpdateTTL:b,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:m,allowStaleOnFetchAbort:R,ignoreFetchAbort:d,status:x,signal:I},T=this.#s.get(e);if(T===void 0){x&&(x.fetch="miss");let O=this.#L(e,T,U,S);return O.__returned=O}else{let O=this.#n[T];if(this.#o(O)){let _=n&&O.__staleWhileFetching!==void 0;return x&&(x.fetch="inflight",_&&(x.returnedStale=!0)),_?O.__staleWhileFetching:O.__returned=O}let P=this.#g(T);if(!$&&!P)return x&&(x.fetch="hit"),this.#O(T),i&&this.#x(T),x&&this.#T(x,T),O;let H=this.#L(e,T,U,S),M=H.__staleWhileFetching!==void 0&&n;return x&&(x.fetch=P?"stale":"refresh",M&&P&&(x.returnedStale=!0)),M?H.__staleWhileFetching:H.__returned=H}}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,status:l}=r,f=this.#s.get(e);if(f!==void 0){let c=this.#n[f],h=this.#o(c);return l&&this.#T(l,f),this.#g(f)?(l&&(l.get="stale"),h?(l&&n&&c.__staleWhileFetching!==void 0&&(l.returnedStale=!0),n?c.__staleWhileFetching:void 0):(a||this.delete(e),l&&n&&(l.returnedStale=!0),n?c:void 0)):(l&&(l.get="hit"),h?c.__staleWhileFetching:(this.#O(f),i&&this.#x(f),c))}else l&&(l.get="miss")}#B(e,r){this.#d[r]=e,this.#c[e]=r}#O(e){e!==this.#l&&(e===this.#f?this.#f=this.#c[e]:this.#B(this.#d[e],this.#c[e]),this.#B(this.#l,e),this.#l=e)}delete(e){let r=!1;if(this.#a!==0){let n=this.#s.get(e);if(n!==void 0)if(r=!0,this.#a===1)this.clear();else{this.#v(n);let i=this.#n[n];this.#o(i)?i.__abortController.abort(new Error("deleted")):(this.#_||this.#p)&&(this.#_&&this.#t?.(i,e,"delete"),this.#p&&this.#h?.push([i,e,"delete"])),this.#s.delete(e),this.#i[n]=void 0,this.#n[n]=void 0,n===this.#l?this.#l=this.#d[n]:n===this.#f?this.#f=this.#c[n]:(this.#c[this.#d[n]]=this.#c[n],this.#d[this.#c[n]]=this.#d[n]),this.#a--,this.#b.push(n)}}if(this.#p&&this.#h?.length){let n=this.#h,i;for(;i=n?.shift();)this.#u?.(...i)}return r}clear(){for(let e of this.#S({allowStale:!0})){let r=this.#n[e];if(this.#o(r))r.__abortController.abort(new Error("deleted"));else{let n=this.#i[e];this.#_&&this.#t?.(r,n,"delete"),this.#p&&this.#h?.push([r,n,"delete"])}}if(this.#s.clear(),this.#n.fill(void 0),this.#i.fill(void 0),this.#y&&this.#A&&(this.#y.fill(0),this.#A.fill(0)),this.#E&&this.#E.fill(0),this.#f=0,this.#l=0,this.#b.length=0,this.#m=0,this.#a=0,this.#p&&this.#h){let e=this.#h,r;for(;r=e?.shift();)this.#u?.(...r)}}};bs.LRUCache=Qi});var ff=L((Ow,cf)=>{"use strict";var se=(...t)=>t.every(e=>e)?t.join(""):"",be=t=>t?encodeURIComponent(t):"",uf=t=>t.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-"),sy={sshtemplate:({domain:t,user:e,project:r,committish:n})=>`git@${t}:${e}/${r}.git${se("#",n)}`,sshurltemplate:({domain:t,user:e,project:r,committish:n})=>`git+ssh://git@${t}/${e}/${r}.git${se("#",n)}`,edittemplate:({domain:t,user:e,project:r,committish:n,editpath:i,path:a})=>`https://${t}/${e}/${r}${se("/",i,"/",be(n||"HEAD"),"/",a)}`,browsetemplate:({domain:t,user:e,project:r,committish:n,treepath:i})=>`https://${t}/${e}/${r}${se("/",i,"/",be(n))}`,browsetreetemplate:({domain:t,user:e,project:r,committish:n,treepath:i,path:a,fragment:l,hashformat:f})=>`https://${t}/${e}/${r}/${i}/${be(n||"HEAD")}/${a}${se("#",f(l||""))}`,browseblobtemplate:({domain:t,user:e,project:r,committish:n,blobpath:i,path:a,fragment:l,hashformat:f})=>`https://${t}/${e}/${r}/${i}/${be(n||"HEAD")}/${a}${se("#",f(l||""))}`,docstemplate:({domain:t,user:e,project:r,treepath:n,committish:i})=>`https://${t}/${e}/${r}${se("/",n,"/",be(i))}#readme`,httpstemplate:({auth:t,domain:e,user:r,project:n,committish:i})=>`git+https://${se(t,"@")}${e}/${r}/${n}.git${se("#",i)}`,filetemplate:({domain:t,user:e,project:r,committish:n,path:i})=>`https://${t}/${e}/${r}/raw/${be(n||"HEAD")}/${i}`,shortcuttemplate:({type:t,user:e,project:r,committish:n})=>`${t}:${e}/${r}${se("#",n)}`,pathtemplate:({user:t,project:e,committish:r})=>`${t}/${e}${se("#",r)}`,bugstemplate:({domain:t,user:e,project:r})=>`https://${t}/${e}/${r}/issues`,hashformat:uf},At={};At.github={protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",blobpath:"blob",editpath:"edit",filetemplate:({auth:t,user:e,project:r,committish:n,path:i})=>`https://${se(t,"@")}raw.githubusercontent.com/${e}/${r}/${be(n||"HEAD")}/${i}`,gittemplate:({auth:t,domain:e,user:r,project:n,committish:i})=>`git://${se(t,"@")}${e}/${r}/${n}.git${se("#",i)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://codeload.${t}/${e}/${r}/tar.gz/${be(n||"HEAD")}`,extract:t=>{let[,e,r,n,i]=t.pathname.split("/",5);if(!(n&&n!=="tree")&&(n||(i=t.hash.slice(1)),r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!e||!r)))return{user:e,project:r,committish:i}}};At.bitbucket={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",blobpath:"src",editpath:"?mode=edit",edittemplate:({domain:t,user:e,project:r,committish:n,treepath:i,path:a,editpath:l})=>`https://${t}/${e}/${r}${se("/",i,"/",be(n||"HEAD"),"/",a,l)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}/get/${be(n||"HEAD")}.tar.gz`,extract:t=>{let[,e,r,n]=t.pathname.split("/",4);if(!["get"].includes(n)&&(r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!e||!r)))return{user:e,project:r,committish:t.hash.slice(1)}}};At.gitlab={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",blobpath:"tree",editpath:"-/edit",httpstemplate:({auth:t,domain:e,user:r,project:n,committish:i})=>`git+https://${se(t,"@")}${e}/${r}/${n}.git${se("#",i)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}/repository/archive.tar.gz?ref=${be(n||"HEAD")}`,extract:t=>{let e=t.pathname.slice(1);if(e.includes("/-/")||e.includes("/archive.tar.gz"))return;let r=e.split("/"),n=r.pop();n.endsWith(".git")&&(n=n.slice(0,-4));let i=r.join("/");if(!(!i||!n))return{user:i,project:n,committish:t.hash.slice(1)}}};At.gist={protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",editpath:"edit",sshtemplate:({domain:t,project:e,committish:r})=>`git@${t}:${e}.git${se("#",r)}`,sshurltemplate:({domain:t,project:e,committish:r})=>`git+ssh://git@${t}/${e}.git${se("#",r)}`,edittemplate:({domain:t,user:e,project:r,committish:n,editpath:i})=>`https://${t}/${e}/${r}${se("/",be(n))}/${i}`,browsetemplate:({domain:t,project:e,committish:r})=>`https://${t}/${e}${se("/",be(r))}`,browsetreetemplate:({domain:t,project:e,committish:r,path:n,hashformat:i})=>`https://${t}/${e}${se("/",be(r))}${se("#",i(n))}`,browseblobtemplate:({domain:t,project:e,committish:r,path:n,hashformat:i})=>`https://${t}/${e}${se("/",be(r))}${se("#",i(n))}`,docstemplate:({domain:t,project:e,committish:r})=>`https://${t}/${e}${se("/",be(r))}`,httpstemplate:({domain:t,project:e,committish:r})=>`git+https://${t}/${e}.git${se("#",r)}`,filetemplate:({user:t,project:e,committish:r,path:n})=>`https://gist.githubusercontent.com/${t}/${e}/raw${se("/",be(r))}/${n}`,shortcuttemplate:({type:t,project:e,committish:r})=>`${t}:${e}${se("#",r)}`,pathtemplate:({project:t,committish:e})=>`${t}${se("#",e)}`,bugstemplate:({domain:t,project:e})=>`https://${t}/${e}`,gittemplate:({domain:t,project:e,committish:r})=>`git://${t}/${e}.git${se("#",r)}`,tarballtemplate:({project:t,committish:e})=>`https://codeload.github.com/gist/${t}/tar.gz/${be(e||"HEAD")}`,extract:t=>{let[,e,r,n]=t.pathname.split("/",4);if(n!=="raw"){if(!r){if(!e)return;r=e,e=null}return r.endsWith(".git")&&(r=r.slice(0,-4)),{user:e,project:r,committish:t.hash.slice(1)}}},hashformat:function(t){return t&&"file-"+uf(t)}};At.sourcehut={protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",blobpath:"tree",filetemplate:({domain:t,user:e,project:r,committish:n,path:i})=>`https://${t}/${e}/${r}/blob/${be(n)||"HEAD"}/${i}`,httpstemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}.git${se("#",n)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}/archive/${be(n)||"HEAD"}.tar.gz`,bugstemplate:({user:t,project:e})=>null,extract:t=>{let[,e,r,n]=t.pathname.split("/",4);if(!["archive"].includes(n)&&(r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!e||!r)))return{user:e,project:r,committish:t.hash.slice(1)}}};for(let[t,e]of Object.entries(At))At[t]=Object.assign({},sy,e);cf.exports=At});var Xi=L(($w,df)=>{var iy=Oe("url"),Ki=(t,e,r)=>{let n=t.indexOf(r);return t.lastIndexOf(e,n>-1?n:1/0)},hf=t=>{try{return new iy.URL(t)}catch{}},oy=(t,e)=>{let r=t.indexOf(":"),n=t.slice(0,r+1);if(Object.prototype.hasOwnProperty.call(e,n))return t;let i=t.indexOf("@");return i>-1?i>r?`git+ssh://${t}`:t:t.indexOf("//")===r+1?t:`${t.slice(0,r+1)}//${t.slice(r+1)}`},ay=t=>{let e=Ki(t,"@","#"),r=Ki(t,":","#");return r>e&&(t=t.slice(0,r)+"/"+t.slice(r+1)),Ki(t,":","#")===-1&&t.indexOf("//")===-1&&(t=`git+ssh://${t}`),t};df.exports=(t,e)=>{let r=e?oy(t,e):t;return hf(r)||hf(ay(r))}});var mf=L((Iw,pf)=>{"use strict";var ly=Xi(),uy=t=>{let e=t.indexOf("#"),r=t.indexOf("/"),n=t.indexOf("/",r+1),i=t.indexOf(":"),a=/\s/.exec(t),l=t.indexOf("@"),f=!a||e>-1&&a.index>e,c=l===-1||e>-1&&l>e,h=i===-1||e>-1&&i>e,b=n===-1||e>-1&&n>e,g=r>0,m=e>-1?t[e-1]!=="/":!t.endsWith("/"),d=!t.startsWith(".");return f&&g&&m&&d&&c&&h&&b};pf.exports=(t,e,{gitHosts:r,protocols:n})=>{if(!t)return;let i=uy(t)?`github:${t}`:t,a=ly(i,n);if(!a)return;let l=r.byShortcut[a.protocol],f=r.byDomain[a.hostname.startsWith("www.")?a.hostname.slice(4):a.hostname],c=l||f;if(!c)return;let h=r[l||f],b=null;n[a.protocol]?.auth&&(a.username||a.password)&&(b=`${a.username}${a.password?":"+a.password:""}`);let g=null,m=null,d=null,R=null;try{if(l){let S=a.pathname.startsWith("/")?a.pathname.slice(1):a.pathname,$=S.indexOf("@");$>-1&&(S=S.slice($+1));let x=S.lastIndexOf("/");x>-1?(m=decodeURIComponent(S.slice(0,x)),m||(m=null),d=decodeURIComponent(S.slice(x+1))):d=decodeURIComponent(S),d.endsWith(".git")&&(d=d.slice(0,-4)),a.hash&&(g=decodeURIComponent(a.hash.slice(1))),R="shortcut"}else{if(!h.protocols.includes(a.protocol))return;let S=h.extract(a);if(!S)return;m=S.user&&decodeURIComponent(S.user),d=decodeURIComponent(S.project),g=decodeURIComponent(S.committish),R=n[a.protocol]?.name||a.protocol.slice(0,-1)}}catch(S){if(S instanceof URIError)return;throw S}return[c,m,b,d,g,R,e]}});var bf=L((Lw,gf)=>{"use strict";var{LRUCache:cy}=lf(),fy=ff(),hy=mf(),dy=Xi(),Zi=new cy({max:1e3}),ys=class t{constructor(e,r,n,i,a,l,f={}){Object.assign(this,t.#e[e],{type:e,user:r,auth:n,project:i,committish:a,default:l,opts:f})}static#e={byShortcut:{},byDomain:{}};static#r={"git+ssh:":{name:"sshurl"},"ssh:":{name:"sshurl"},"git+https:":{name:"https",auth:!0},"git:":{auth:!0},"http:":{auth:!0},"https:":{auth:!0},"git+http:":{auth:!0}};static addHost(e,r){t.#e[e]=r,t.#e.byDomain[r.domain]=e,t.#e.byShortcut[`${e}:`]=e,t.#r[`${e}:`]={name:e}}static fromUrl(e,r){if(typeof e!="string")return;let n=e+JSON.stringify(r||{});if(!Zi.has(n)){let i=hy(e,r,{gitHosts:t.#e,protocols:t.#r});Zi.set(n,i?new t(...i):void 0)}return Zi.get(n)}static parseUrl(e){return dy(e)}#t(e,r){if(typeof e!="function")return null;let n={...this,...this.opts,...r};n.path||(n.path=""),n.path.startsWith("/")&&(n.path=n.path.slice(1)),n.noCommittish&&(n.committish=null);let i=e(n);return n.noGitPlus&&i.startsWith("git+")?i.slice(4):i}hash(){return this.committish?`#${this.committish}`:""}ssh(e){return this.#t(this.sshtemplate,e)}sshurl(e){return this.#t(this.sshurltemplate,e)}browse(e,...r){return typeof e!="string"?this.#t(this.browsetemplate,e):typeof r[0]!="string"?this.#t(this.browsetreetemplate,{...r[0],path:e}):this.#t(this.browsetreetemplate,{...r[1],fragment:r[0],path:e})}browseFile(e,...r){return typeof r[0]!="string"?this.#t(this.browseblobtemplate,{...r[0],path:e}):this.#t(this.browseblobtemplate,{...r[1],fragment:r[0],path:e})}docs(e){return this.#t(this.docstemplate,e)}bugs(e){return this.#t(this.bugstemplate,e)}https(e){return this.#t(this.httpstemplate,e)}git(e){return this.#t(this.gittemplate,e)}shortcut(e){return this.#t(this.shortcuttemplate,e)}path(e){return this.#t(this.pathtemplate,e)}tarball(e){return this.#t(this.tarballtemplate,{...e,noCommittish:!1})}file(e,r){return this.#t(this.filetemplate,{...r,path:e})}edit(e,r){return this.#t(this.edittemplate,{...r,path:e})}getDefaultRepresentation(){return this.default}toString(e){return this.default&&typeof this[this.default]=="function"?this[this.default](e):this.sshurl(e)}};for(let[t,e]of Object.entries(fy))ys.addHost(t,e);gf.exports=ys});var an=L((zw,If)=>{"use strict";var Je="\\\\/",xf=`[^${Je}]`,ut="\\.",Ty="\\+",Cy="\\?",ws="\\/",xy="(?=.)",vf="[^/]",oo=`(?:${ws}|$)`,Of=`(?:^|${ws})`,ao=`${ut}{1,2}${oo}`,vy=`(?!${ut})`,Oy=`(?!${Of}${ao})`,$y=`(?!${ut}{0,1}${oo})`,Iy=`(?!${ao})`,Ly=`[^.${ws}]`,Py=`${vf}*?`,Ny="/",$f={DOT_LITERAL:ut,PLUS_LITERAL:Ty,QMARK_LITERAL:Cy,SLASH_LITERAL:ws,ONE_CHAR:xy,QMARK:vf,END_ANCHOR:oo,DOTS_SLASH:ao,NO_DOT:vy,NO_DOTS:Oy,NO_DOT_SLASH:$y,NO_DOTS_SLASH:Iy,QMARK_NO_DOT:Ly,STAR:Py,START_ANCHOR:Of,SEP:Ny},Hy={...$f,SLASH_LITERAL:`[${Je}]`,QMARK:xf,STAR:`${xf}*?`,DOTS_SLASH:`${ut}{1,2}(?:[${Je}]|$)`,NO_DOT:`(?!${ut})`,NO_DOTS:`(?!(?:^|[${Je}])${ut}{1,2}(?:[${Je}]|$))`,NO_DOT_SLASH:`(?!${ut}{0,1}(?:[${Je}]|$))`,NO_DOTS_SLASH:`(?!${ut}{1,2}(?:[${Je}]|$))`,QMARK_NO_DOT:`[^.${Je}]`,START_ANCHOR:`(?:^|[${Je}])`,END_ANCHOR:`(?:[${Je}]|$)`,SEP:"\\"},Dy={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};If.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Dy,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?Hy:$f}}});var Es=L(Pe=>{"use strict";var{REGEX_BACKSLASH:By,REGEX_REMOVE_BACKSLASH:Fy,REGEX_SPECIAL_CHARS:qy,REGEX_SPECIAL_CHARS_GLOBAL:Uy}=an();Pe.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);Pe.hasRegexChars=t=>qy.test(t);Pe.isRegexChar=t=>t.length===1&&Pe.hasRegexChars(t);Pe.escapeRegex=t=>t.replace(Uy,"\\$1");Pe.toPosixSlashes=t=>t.replace(By,"/");Pe.removeBackslashes=t=>t.replace(Fy,e=>e==="\\"?"":e);Pe.supportsLookbehinds=()=>{if(typeof process<"u"){let t=process.version.slice(1).split(".").map(Number);if(t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10)return!0}return!1};Pe.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?Pe.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};Pe.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};Pe.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",a=`${n}(?:${t})${i}`;return e.negated===!0&&(a=`(?:^(?!${a}).*$)`),a};Pe.basename=(t,{windows:e}={})=>{let r=t.split(e?/[\\/]/:"/"),n=r[r.length-1];return n===""?r[r.length-2]:n}});var qf=L((Gw,Ff)=>{"use strict";var Lf=Es(),{CHAR_ASTERISK:lo,CHAR_AT:My,CHAR_BACKWARD_SLASH:ln,CHAR_COMMA:Wy,CHAR_DOT:uo,CHAR_EXCLAMATION_MARK:co,CHAR_FORWARD_SLASH:Bf,CHAR_LEFT_CURLY_BRACE:fo,CHAR_LEFT_PARENTHESES:ho,CHAR_LEFT_SQUARE_BRACKET:ky,CHAR_PLUS:zy,CHAR_QUESTION_MARK:Pf,CHAR_RIGHT_CURLY_BRACE:jy,CHAR_RIGHT_PARENTHESES:Nf,CHAR_RIGHT_SQUARE_BRACKET:Gy}=an(),Hf=t=>t===Bf||t===ln,Df=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},Vy=(t,e)=>{let r=e||{},n=t.length-1,i=r.parts===!0||r.scanToEnd===!0,a=[],l=[],f=[],c=t,h=-1,b=0,g=0,m=!1,d=!1,R=!1,S=!1,$=!1,x=!1,I=!1,U=!1,T=!1,O=!1,P=0,H,D,M={value:"",depth:0,isGlob:!1},_=()=>h>=n,j=()=>c.charCodeAt(h+1),k=()=>(H=D,c.charCodeAt(++h));for(;h<n;){D=k();let Y;if(D===ln){I=M.backslashes=!0,D=k(),D===fo&&(x=!0);continue}if(x===!0||D===fo){for(P++;_()!==!0&&(D=k());){if(D===ln){I=M.backslashes=!0,k();continue}if(D===fo){P++;continue}if(x!==!0&&D===uo&&(D=k())===uo){if(m=M.isBrace=!0,R=M.isGlob=!0,O=!0,i===!0)continue;break}if(x!==!0&&D===Wy){if(m=M.isBrace=!0,R=M.isGlob=!0,O=!0,i===!0)continue;break}if(D===jy&&(P--,P===0)){x=!1,m=M.isBrace=!0,O=!0;break}}if(i===!0)continue;break}if(D===Bf){if(a.push(h),l.push(M),M={value:"",depth:0,isGlob:!1},O===!0)continue;if(H===uo&&h===b+1){b+=2;continue}g=h+1;continue}if(r.noext!==!0&&(D===zy||D===My||D===lo||D===Pf||D===co)===!0&&j()===ho){if(R=M.isGlob=!0,S=M.isExtglob=!0,O=!0,D===co&&h===b&&(T=!0),i===!0){for(;_()!==!0&&(D=k());){if(D===ln){I=M.backslashes=!0,D=k();continue}if(D===Nf){R=M.isGlob=!0,O=!0;break}}continue}break}if(D===lo){if(H===lo&&($=M.isGlobstar=!0),R=M.isGlob=!0,O=!0,i===!0)continue;break}if(D===Pf){if(R=M.isGlob=!0,O=!0,i===!0)continue;break}if(D===ky){for(;_()!==!0&&(Y=k());){if(Y===ln){I=M.backslashes=!0,k();continue}if(Y===Gy){d=M.isBracket=!0,R=M.isGlob=!0,O=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&D===co&&h===b){U=M.negated=!0,b++;continue}if(r.noparen!==!0&&D===ho){if(R=M.isGlob=!0,i===!0){for(;_()!==!0&&(D=k());){if(D===ho){I=M.backslashes=!0,D=k();continue}if(D===Nf){O=!0;break}}continue}break}if(R===!0){if(O=!0,i===!0)continue;break}}r.noext===!0&&(S=!1,R=!1);let X=c,w="",E="";b>0&&(w=c.slice(0,b),c=c.slice(b),g-=b),X&&R===!0&&g>0?(X=c.slice(0,g),E=c.slice(g)):R===!0?(X="",E=c):X=c,X&&X!==""&&X!=="/"&&X!==c&&Hf(X.charCodeAt(X.length-1))&&(X=X.slice(0,-1)),r.unescape===!0&&(E&&(E=Lf.removeBackslashes(E)),X&&I===!0&&(X=Lf.removeBackslashes(X)));let de={prefix:w,input:t,start:b,base:X,glob:E,isBrace:m,isBracket:d,isGlob:R,isExtglob:S,isGlobstar:$,negated:U,negatedExtglob:T};if(r.tokens===!0&&(de.maxDepth=0,Hf(D)||l.push(M),de.tokens=l),r.parts===!0||r.tokens===!0){let Y;for(let K=0;K<a.length;K++){let Se=Y?Y+1:b,ce=a[K],Ee=t.slice(Se,ce);r.tokens&&(K===0&&b!==0?(l[K].isPrefix=!0,l[K].value=w):l[K].value=Ee,Df(l[K]),de.maxDepth+=l[K].depth),(K!==0||Ee!=="")&&f.push(Ee),Y=ce}if(Y&&Y+1<t.length){let K=t.slice(Y+1);f.push(K),r.tokens&&(l[l.length-1].value=K,Df(l[l.length-1]),de.maxDepth+=l[l.length-1].depth)}de.slashes=a,de.parts=f}return de};Ff.exports=Vy});var Wf=L((Vw,Mf)=>{"use strict";var As=an(),Qe=Es(),{MAX_LENGTH:Ts,POSIX_REGEX_SOURCE:Yy,REGEX_NON_SPECIAL_CHARS:Qy,REGEX_SPECIAL_CHARS_BACKREF:Ky,REPLACEMENTS:Uf}=As,Xy=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(i=>Qe.escapeRegex(i)).join("..")}return r},yr=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,po=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=Uf[t]||t;let r={...e},n=typeof r.maxLength=="number"?Math.min(Ts,r.maxLength):Ts,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let a={type:"bos",value:"",output:r.prepend||""},l=[a],f=r.capture?"":"?:",c=As.globChars(r.windows),h=As.extglobChars(c),{DOT_LITERAL:b,PLUS_LITERAL:g,SLASH_LITERAL:m,ONE_CHAR:d,DOTS_SLASH:R,NO_DOT:S,NO_DOT_SLASH:$,NO_DOTS_SLASH:x,QMARK:I,QMARK_NO_DOT:U,STAR:T,START_ANCHOR:O}=c,P=N=>`(${f}(?:(?!${O}${N.dot?R:b}).)*?)`,H=r.dot?"":S,D=r.dot?I:U,M=r.bash===!0?P(r):T;r.capture&&(M=`(${M})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let _={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:l};t=Qe.removePrefix(t,_),i=t.length;let j=[],k=[],X=[],w=a,E,de=()=>_.index===i-1,Y=_.peek=(N=1)=>t[_.index+N],K=_.advance=()=>t[++_.index]||"",Se=()=>t.slice(_.index+1),ce=(N="",oe=0)=>{_.consumed+=N,_.index+=oe},Ee=N=>{_.output+=N.output!=null?N.output:N.value,ce(N.value)},Er=()=>{let N=1;for(;Y()==="!"&&(Y(2)!=="("||Y(3)==="?");)K(),_.start++,N++;return N%2===0?!1:(_.negated=!0,_.start++,!0)},Tt=N=>{_[N]++,X.push(N)},rt=N=>{_[N]--,X.pop()},Q=N=>{if(w.type==="globstar"){let oe=_.braces>0&&(N.type==="comma"||N.type==="brace"),v=N.extglob===!0||j.length&&(N.type==="pipe"||N.type==="paren");N.type!=="slash"&&N.type!=="paren"&&!oe&&!v&&(_.output=_.output.slice(0,-w.output.length),w.type="star",w.value="*",w.output=M,_.output+=w.output)}if(j.length&&N.type!=="paren"&&(j[j.length-1].inner+=N.value),(N.value||N.output)&&Ee(N),w&&w.type==="text"&&N.type==="text"){w.value+=N.value,w.output=(w.output||"")+N.value;return}N.prev=w,l.push(N),w=N},xe=(N,oe)=>{let v={...h[oe],conditions:1,inner:""};v.prev=w,v.parens=_.parens,v.output=_.output;let z=(r.capture?"(":"")+v.open;Tt("parens"),Q({type:N,value:oe,output:_.output?"":d}),Q({type:"paren",extglob:!0,value:K(),output:z}),j.push(v)},Ne=N=>{let oe=N.close+(r.capture?")":""),v;if(N.type==="negate"){let z=M;if(N.inner&&N.inner.length>1&&N.inner.includes("/")&&(z=P(r)),(z!==M||de()||/^\)+$/.test(Se()))&&(oe=N.close=`)$))${z}`),N.inner.includes("*")&&(v=Se())&&/^\.[^\\/.]+$/.test(v)){let ae=po(v,{...e,fastpaths:!1}).output;oe=N.close=`)${ae})${z})`}N.prev.type==="bos"&&(_.negatedExtglob=!0)}Q({type:"paren",extglob:!0,value:E,output:oe}),rt("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let N=!1,oe=t.replace(Ky,(v,z,ae,ye,pe,jt)=>ye==="\\"?(N=!0,v):ye==="?"?z?z+ye+(pe?I.repeat(pe.length):""):jt===0?D+(pe?I.repeat(pe.length):""):I.repeat(ae.length):ye==="."?b.repeat(ae.length):ye==="*"?z?z+ye+(pe?M:""):M:z?v:`\\${v}`);return N===!0&&(r.unescape===!0?oe=oe.replace(/\\/g,""):oe=oe.replace(/\\+/g,v=>v.length%2===0?"\\\\":v?"\\":"")),oe===t&&r.contains===!0?(_.output=t,_):(_.output=Qe.wrapOutput(oe,_,e),_)}for(;!de();){if(E=K(),E==="\0")continue;if(E==="\\"){let v=Y();if(v==="/"&&r.bash!==!0||v==="."||v===";")continue;if(!v){E+="\\",Q({type:"text",value:E});continue}let z=/^\\+/.exec(Se()),ae=0;if(z&&z[0].length>2&&(ae=z[0].length,_.index+=ae,ae%2!==0&&(E+="\\")),r.unescape===!0?E=K():E+=K(),_.brackets===0){Q({type:"text",value:E});continue}}if(_.brackets>0&&(E!=="]"||w.value==="["||w.value==="[^")){if(r.posix!==!1&&E===":"){let v=w.value.slice(1);if(v.includes("[")&&(w.posix=!0,v.includes(":"))){let z=w.value.lastIndexOf("["),ae=w.value.slice(0,z),ye=w.value.slice(z+2),pe=Yy[ye];if(pe){w.value=ae+pe,_.backtrack=!0,K(),!a.output&&l.indexOf(w)===1&&(a.output=d);continue}}}(E==="["&&Y()!==":"||E==="-"&&Y()==="]")&&(E=`\\${E}`),E==="]"&&(w.value==="["||w.value==="[^")&&(E=`\\${E}`),r.posix===!0&&E==="!"&&w.value==="["&&(E="^"),w.value+=E,Ee({value:E});continue}if(_.quotes===1&&E!=='"'){E=Qe.escapeRegex(E),w.value+=E,Ee({value:E});continue}if(E==='"'){_.quotes=_.quotes===1?0:1,r.keepQuotes===!0&&Q({type:"text",value:E});continue}if(E==="("){Tt("parens"),Q({type:"paren",value:E});continue}if(E===")"){if(_.parens===0&&r.strictBrackets===!0)throw new SyntaxError(yr("opening","("));let v=j[j.length-1];if(v&&_.parens===v.parens+1){Ne(j.pop());continue}Q({type:"paren",value:E,output:_.parens?")":"\\)"}),rt("parens");continue}if(E==="["){if(r.nobracket===!0||!Se().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(yr("closing","]"));E=`\\${E}`}else Tt("brackets");Q({type:"bracket",value:E});continue}if(E==="]"){if(r.nobracket===!0||w&&w.type==="bracket"&&w.value.length===1){Q({type:"text",value:E,output:`\\${E}`});continue}if(_.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(yr("opening","["));Q({type:"text",value:E,output:`\\${E}`});continue}rt("brackets");let v=w.value.slice(1);if(w.posix!==!0&&v[0]==="^"&&!v.includes("/")&&(E=`/${E}`),w.value+=E,Ee({value:E}),r.literalBrackets===!1||Qe.hasRegexChars(v))continue;let z=Qe.escapeRegex(w.value);if(_.output=_.output.slice(0,-w.value.length),r.literalBrackets===!0){_.output+=z,w.value=z;continue}w.value=`(${f}${z}|${w.value})`,_.output+=w.value;continue}if(E==="{"&&r.nobrace!==!0){Tt("braces");let v={type:"brace",value:E,output:"(",outputIndex:_.output.length,tokensIndex:_.tokens.length};k.push(v),Q(v);continue}if(E==="}"){let v=k[k.length-1];if(r.nobrace===!0||!v){Q({type:"text",value:E,output:E});continue}let z=")";if(v.dots===!0){let ae=l.slice(),ye=[];for(let pe=ae.length-1;pe>=0&&(l.pop(),ae[pe].type!=="brace");pe--)ae[pe].type!=="dots"&&ye.unshift(ae[pe].value);z=Xy(ye,r),_.backtrack=!0}if(v.comma!==!0&&v.dots!==!0){let ae=_.output.slice(0,v.outputIndex),ye=_.tokens.slice(v.tokensIndex);v.value=v.output="\\{",E=z="\\}",_.output=ae;for(let pe of ye)_.output+=pe.output||pe.value}Q({type:"brace",value:E,output:z}),rt("braces"),k.pop();continue}if(E==="|"){j.length>0&&j[j.length-1].conditions++,Q({type:"text",value:E});continue}if(E===","){let v=E,z=k[k.length-1];z&&X[X.length-1]==="braces"&&(z.comma=!0,v="|"),Q({type:"comma",value:E,output:v});continue}if(E==="/"){if(w.type==="dot"&&_.index===_.start+1){_.start=_.index+1,_.consumed="",_.output="",l.pop(),w=a;continue}Q({type:"slash",value:E,output:m});continue}if(E==="."){if(_.braces>0&&w.type==="dot"){w.value==="."&&(w.output=b);let v=k[k.length-1];w.type="dots",w.output+=E,w.value+=E,v.dots=!0;continue}if(_.braces+_.parens===0&&w.type!=="bos"&&w.type!=="slash"){Q({type:"text",value:E,output:b});continue}Q({type:"dot",value:E,output:b});continue}if(E==="?"){if(!(w&&w.value==="(")&&r.noextglob!==!0&&Y()==="("&&Y(2)!=="?"){xe("qmark",E);continue}if(w&&w.type==="paren"){let z=Y(),ae=E;if(z==="<"&&!Qe.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(w.value==="("&&!/[!=<:]/.test(z)||z==="<"&&!/<([!=]|\w+>)/.test(Se()))&&(ae=`\\${E}`),Q({type:"text",value:E,output:ae});continue}if(r.dot!==!0&&(w.type==="slash"||w.type==="bos")){Q({type:"qmark",value:E,output:U});continue}Q({type:"qmark",value:E,output:I});continue}if(E==="!"){if(r.noextglob!==!0&&Y()==="("&&(Y(2)!=="?"||!/[!=<:]/.test(Y(3)))){xe("negate",E);continue}if(r.nonegate!==!0&&_.index===0){Er();continue}}if(E==="+"){if(r.noextglob!==!0&&Y()==="("&&Y(2)!=="?"){xe("plus",E);continue}if(w&&w.value==="("||r.regex===!1){Q({type:"plus",value:E,output:g});continue}if(w&&(w.type==="bracket"||w.type==="paren"||w.type==="brace")||_.parens>0){Q({type:"plus",value:E});continue}Q({type:"plus",value:g});continue}if(E==="@"){if(r.noextglob!==!0&&Y()==="("&&Y(2)!=="?"){Q({type:"at",extglob:!0,value:E,output:""});continue}Q({type:"text",value:E});continue}if(E!=="*"){(E==="$"||E==="^")&&(E=`\\${E}`);let v=Qy.exec(Se());v&&(E+=v[0],_.index+=v[0].length),Q({type:"text",value:E});continue}if(w&&(w.type==="globstar"||w.star===!0)){w.type="star",w.star=!0,w.value+=E,w.output=M,_.backtrack=!0,_.globstar=!0,ce(E);continue}let N=Se();if(r.noextglob!==!0&&/^\([^?]/.test(N)){xe("star",E);continue}if(w.type==="star"){if(r.noglobstar===!0){ce(E);continue}let v=w.prev,z=v.prev,ae=v.type==="slash"||v.type==="bos",ye=z&&(z.type==="star"||z.type==="globstar");if(r.bash===!0&&(!ae||N[0]&&N[0]!=="/")){Q({type:"star",value:E,output:""});continue}let pe=_.braces>0&&(v.type==="comma"||v.type==="brace"),jt=j.length&&(v.type==="pipe"||v.type==="paren");if(!ae&&v.type!=="paren"&&!pe&&!jt){Q({type:"star",value:E,output:""});continue}for(;N.slice(0,3)==="/**";){let ht=t[_.index+4];if(ht&&ht!=="/")break;N=N.slice(3),ce("/**",3)}if(v.type==="bos"&&de()){w.type="globstar",w.value+=E,w.output=P(r),_.output=w.output,_.globstar=!0,ce(E);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&!ye&&de()){_.output=_.output.slice(0,-(v.output+w.output).length),v.output=`(?:${v.output}`,w.type="globstar",w.output=P(r)+(r.strictSlashes?")":"|$)"),w.value+=E,_.globstar=!0,_.output+=v.output+w.output,ce(E);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&N[0]==="/"){let ht=N[1]!==void 0?"|$":"";_.output=_.output.slice(0,-(v.output+w.output).length),v.output=`(?:${v.output}`,w.type="globstar",w.output=`${P(r)}${m}|${m}${ht})`,w.value+=E,_.output+=v.output+w.output,_.globstar=!0,ce(E+K()),Q({type:"slash",value:"/",output:""});continue}if(v.type==="bos"&&N[0]==="/"){w.type="globstar",w.value+=E,w.output=`(?:^|${m}|${P(r)}${m})`,_.output=w.output,_.globstar=!0,ce(E+K()),Q({type:"slash",value:"/",output:""});continue}_.output=_.output.slice(0,-w.output.length),w.type="globstar",w.output=P(r),w.value+=E,_.output+=w.output,_.globstar=!0,ce(E);continue}let oe={type:"star",value:E,output:M};if(r.bash===!0){oe.output=".*?",(w.type==="bos"||w.type==="slash")&&(oe.output=H+oe.output),Q(oe);continue}if(w&&(w.type==="bracket"||w.type==="paren")&&r.regex===!0){oe.output=E,Q(oe);continue}(_.index===_.start||w.type==="slash"||w.type==="dot")&&(w.type==="dot"?(_.output+=$,w.output+=$):r.dot===!0?(_.output+=x,w.output+=x):(_.output+=H,w.output+=H),Y()!=="*"&&(_.output+=d,w.output+=d)),Q(oe)}for(;_.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(yr("closing","]"));_.output=Qe.escapeLast(_.output,"["),rt("brackets")}for(;_.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(yr("closing",")"));_.output=Qe.escapeLast(_.output,"("),rt("parens")}for(;_.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(yr("closing","}"));_.output=Qe.escapeLast(_.output,"{"),rt("braces")}if(r.strictSlashes!==!0&&(w.type==="star"||w.type==="bracket")&&Q({type:"maybe_slash",value:"",output:`${m}?`}),_.backtrack===!0){_.output="";for(let N of _.tokens)_.output+=N.output!=null?N.output:N.value,N.suffix&&(_.output+=N.suffix)}return _};po.fastpaths=(t,e)=>{let r={...e},n=typeof r.maxLength=="number"?Math.min(Ts,r.maxLength):Ts,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);t=Uf[t]||t;let{DOT_LITERAL:a,SLASH_LITERAL:l,ONE_CHAR:f,DOTS_SLASH:c,NO_DOT:h,NO_DOTS:b,NO_DOTS_SLASH:g,STAR:m,START_ANCHOR:d}=As.globChars(r.windows),R=r.dot?b:h,S=r.dot?g:h,$=r.capture?"":"?:",x={negated:!1,prefix:""},I=r.bash===!0?".*?":m;r.capture&&(I=`(${I})`);let U=H=>H.noglobstar===!0?I:`(${$}(?:(?!${d}${H.dot?c:a}).)*?)`,T=H=>{switch(H){case"*":return`${R}${f}${I}`;case".*":return`${a}${f}${I}`;case"*.*":return`${R}${I}${a}${f}${I}`;case"*/*":return`${R}${I}${l}${f}${S}${I}`;case"**":return R+U(r);case"**/*":return`(?:${R}${U(r)}${l})?${S}${f}${I}`;case"**/*.*":return`(?:${R}${U(r)}${l})?${S}${I}${a}${f}${I}`;case"**/.*":return`(?:${R}${U(r)}${l})?${a}${f}${I}`;default:{let D=/^(.*?)\.(\w+)$/.exec(H);if(!D)return;let M=T(D[1]);return M?M+a+D[2]:void 0}}},O=Qe.removePrefix(t,x),P=T(O);return P&&r.strictSlashes!==!0&&(P+=`${l}?`),P};Mf.exports=po});var jf=L((Yw,zf)=>{"use strict";var Zy=qf(),mo=Wf(),kf=Es(),Jy=an(),e_=t=>t&&typeof t=="object"&&!Array.isArray(t),me=(t,e,r=!1)=>{if(Array.isArray(t)){let b=t.map(m=>me(m,e,r));return m=>{for(let d of b){let R=d(m);if(R)return R}return!1}}let n=e_(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},a=i.windows,l=n?me.compileRe(t,e):me.makeRe(t,e,!1,!0),f=l.state;delete l.state;let c=()=>!1;if(i.ignore){let b={...e,ignore:null,onMatch:null,onResult:null};c=me(i.ignore,b,r)}let h=(b,g=!1)=>{let{isMatch:m,match:d,output:R}=me.test(b,l,e,{glob:t,posix:a}),S={glob:t,state:f,regex:l,posix:a,input:b,output:R,match:d,isMatch:m};return typeof i.onResult=="function"&&i.onResult(S),m===!1?(S.isMatch=!1,g?S:!1):c(b)?(typeof i.onIgnore=="function"&&i.onIgnore(S),S.isMatch=!1,g?S:!1):(typeof i.onMatch=="function"&&i.onMatch(S),g?S:!0)};return r&&(h.state=f),h};me.test=(t,e,r,{glob:n,posix:i}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let a=r||{},l=a.format||(i?kf.toPosixSlashes:null),f=t===n,c=f&&l?l(t):t;return f===!1&&(c=l?l(t):t,f=c===n),(f===!1||a.capture===!0)&&(a.matchBase===!0||a.basename===!0?f=me.matchBase(t,e,r,i):f=e.exec(c)),{isMatch:!!f,match:f,output:c}};me.matchBase=(t,e,r)=>(e instanceof RegExp?e:me.makeRe(e,r)).test(kf.basename(t));me.isMatch=(t,e,r)=>me(e,r)(t);me.parse=(t,e)=>Array.isArray(t)?t.map(r=>me.parse(r,e)):mo(t,{...e,fastpaths:!1});me.scan=(t,e)=>Zy(t,e);me.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let i=e||{},a=i.contains?"":"^",l=i.contains?"":"$",f=`${a}(?:${t.output})${l}`;t&&t.negated===!0&&(f=`^(?!${f}).*$`);let c=me.toRegex(f,e);return n===!0&&(c.state=t),c};me.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(i.output=mo.fastpaths(t,e)),i.output||(i=mo(t,e)),me.compileRe(i,e,r,n)};me.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};me.constants=Jy;zf.exports=me});var Gf=L((Qw,et)=>{"use strict";var t_=Oe("os"),ct=jf(),r_=t_.platform()==="win32";function n_(t,e,r=!1){return e&&(e.windows===null||e.windows===void 0)&&(e={...e,windows:r_}),ct(t,e,r)}et.exports=n_;et.exports.test=ct.test;et.exports.matchBase=ct.matchBase;et.exports.isMatch=ct.isMatch;et.exports.parse=ct.parse;et.exports.scan=ct.scan;et.exports.compileRe=ct.compileRe;et.exports.toRegex=ct.toRegex;et.exports.makeRe=ct.makeRe});var Yf=L((Kw,Vf)=>{"use strict";var Wt=class t extends Error{constructor(e,r,n){super("[ParserError] "+e,r,n),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,t)}},Cs=class{constructor(e){this.parser=e,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}},un=class{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new Cs(this.parseStart)}parse(e){if(e.length===0||e.length==null)return;this._buf=String(e),this.ii=-1,this.char=-1;let r;for(;r===!1||this.nextChar();)r=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=1114112;let e;do e=this.state.parser,this.runOne();while(this.state.parser!==e);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(e){if(typeof e!="function")throw new Wt("Tried to set state to non-existent state: "+JSON.stringify(e));this.state.parser=e}goto(e){return this.next(e),this.runOne()}call(e,r){r&&this.next(r),this.stack.push(this.state),this.state=new Cs(e)}callNow(e,r){return this.call(e,r),this.runOne()}return(e){if(this.stack.length===0)throw this.error(new Wt("Stack underflow"));e===void 0&&(e=this.state.buf),this.state=this.stack.pop(),this.state.returned=e}returnNow(e){return this.return(e),this.runOne()}consume(){if(this.char===1114112)throw this.error(new Wt("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(e){return e.line=this.line,e.col=this.col,e.pos=this.pos,e}parseStart(){throw new Wt("Must declare a parseStart method")}};un.END=1114112;un.Error=Wt;Vf.exports=un});var Kf=L((Xw,Qf)=>{"use strict";Qf.exports=t=>{let e=new Date(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var xs=L((Zw,Xf)=>{"use strict";Xf.exports=(t,e)=>{for(e=String(e);e.length<t;)e="0"+e;return e}});var Jf=L((Jw,Zf)=>{"use strict";var _r=xs(),go=class extends Date{constructor(e){super(e+"Z"),this.isFloating=!0}toISOString(){let e=`${this.getUTCFullYear()}-${_r(2,this.getUTCMonth()+1)}-${_r(2,this.getUTCDate())}`,r=`${_r(2,this.getUTCHours())}:${_r(2,this.getUTCMinutes())}:${_r(2,this.getUTCSeconds())}.${_r(3,this.getUTCMilliseconds())}`;return`${e}T${r}`}};Zf.exports=t=>{let e=new go(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var rh=L((eE,th)=>{"use strict";var eh=xs(),s_=global.Date,bo=class extends s_{constructor(e){super(e),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${eh(2,this.getUTCMonth()+1)}-${eh(2,this.getUTCDate())}`}};th.exports=t=>{let e=new bo(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var sh=L((tE,nh)=>{"use strict";var vs=xs(),yo=class extends Date{constructor(e){super(`0000-01-01T${e}Z`),this.isTime=!0}toISOString(){return`${vs(2,this.getUTCHours())}:${vs(2,this.getUTCMinutes())}:${vs(2,this.getUTCSeconds())}.${vs(3,this.getUTCMilliseconds())}`}};nh.exports=t=>{let e=new yo(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var ih=L((exports,module)=>{"use strict";module.exports=makeParserClass(Yf());module.exports.makeParserClass=makeParserClass;var TomlError=class t extends Error{constructor(e){super(e),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,t),this.fromTOML=!0,this.wrapped=null}};TomlError.wrap=t=>{let e=new TomlError(t.message);return e.code=t.code,e.wrapped=t,e};module.exports.TomlError=TomlError;var createDateTime=Kf(),createDateTimeFloat=Jf(),createDate=rh(),createTime=sh(),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(t){return t>=CHAR_0&&t<=CHAR_9}function isHexit(t){return t>=CHAR_A&&t<=CHAR_F||t>=CHAR_a&&t<=CHAR_f||t>=CHAR_0&&t<=CHAR_9}function isBit(t){return t===CHAR_1||t===CHAR_0}function isOctit(t){return t>=CHAR_0&&t<=CHAR_7}function isAlphaNumQuoteHyphen(t){return t>=CHAR_A&&t<=CHAR_Z||t>=CHAR_a&&t<=CHAR_z||t>=CHAR_0&&t<=CHAR_9||t===CHAR_APOS||t===CHAR_QUOT||t===CHAR_LOWBAR||t===CHAR_HYPHEN}function isAlphaNumHyphen(t){return t>=CHAR_A&&t<=CHAR_Z||t>=CHAR_a&&t<=CHAR_z||t>=CHAR_0&&t<=CHAR_9||t===CHAR_LOWBAR||t===CHAR_HYPHEN}var _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(t,e){return hasOwnProperty.call(t,e)?!0:(e==="__proto__"&&defineProperty(t,"__proto__",descriptor),!1)}var INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(t){return t===null||typeof t!="object"?!1:t[_type]===INLINE_TABLE}var TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(t){return t===null||typeof t!="object"?!1:t[_type]===TABLE}var _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(t){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:t}})}function isInlineList(t){return t===null||typeof t!="object"?!1:t[_type]===INLINE_LIST}var LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(t){return t===null||typeof t!="object"?!1:t[_type]===LIST}var _custom;try{let utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(t){}var _inspect=_custom||"inspect",BoxedBigInt=class{constructor(e){try{this.value=global.BigInt.asIntN(64,e)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}},INTEGER=Symbol("integer");function Integer(t){let e=Number(t);return Object.is(e,-0)&&(e=0),global.BigInt&&!Number.isSafeInteger(e)?new BoxedBigInt(t):Object.defineProperties(new Number(e),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${t}]`}})}function isInteger(t){return t===null||typeof t!="object"?!1:t[_type]===INTEGER}var FLOAT=Symbol("float");function Float(t){return Object.defineProperties(new Number(t),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${t}]`}})}function isFloat(t){return t===null||typeof t!="object"?!1:t[_type]===FLOAT}function tomlType(t){let e=typeof t;if(e==="object"){if(t===null)return"null";if(t instanceof Date)return"datetime";if(_type in t)switch(t[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return e}function makeParserClass(t){class e extends t{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===t.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===t.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===t.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(n){let i=this.ctx,a=n.key.pop();for(let l of n.key){if(hasKey(i,l)&&(!isTable(i[l])||i[l][_declared]))throw this.error(new TomlError("Can't redefine existing key"));i=i[l]=i[l]||Table()}if(hasKey(i,a))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(n.value)||isFloat(n.value)?i[a]=n.value.valueOf():i[a]=n.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(n){return this.state.resultTable?this.state.resultTable.push(n):this.state.resultTable=[n],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(n){return this.returnNow({key:this.state.resultTable,value:n})}parseComment(){do if(this.char===t.END||this.char===CTRL_J)return this.return();while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(n){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,n)&&(!isTable(this.ctx[n])||this.ctx[n][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[n]=this.ctx[n]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,n))this.ctx=this.ctx[n]=Table();else if(isTable(this.ctx[n]))this.ctx=this.ctx[n];else if(isList(this.ctx[n]))this.ctx=this.ctx[n][this.ctx[n].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(n){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,n)||(this.ctx[n]=List()),isInlineList(this.ctx[n]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[n])){let i=Table();this.ctx[n].push(i),this.ctx=i}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,n))this.ctx=this.ctx[n]=Table();else{if(isInlineList(this.ctx[n]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[n]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[n]))this.ctx=this.ctx[n][this.ctx[n].length-1];else if(isTable(this.ctx[n]))this.ctx=this.ctx[n];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(n){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===t.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(n){return this.returnNow(n)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===t.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===t.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(n){return this.state.buf+=n,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===t.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let n="\\u00";return this.char<16&&(n+="0"),n+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${n} instead`))}recordMultiEscapeReplacement(n){return this.state.buf+=n,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(n){try{let i=parseInt(n,16);if(i>=SURROGATE_FIRST&&i<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(i))}catch(i){throw this.error(TomlError.wrap(i))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===t.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(n){if(this.state.resultArr){let i=this.state.resultArr[_contentType],a=tomlType(n);if(i!==a)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${i} and ${a}`))}else this.state.resultArr=InlineList(tomlType(n));return isFloat(n)||isInteger(n)?this.state.resultArr.push(n.valueOf()):this.state.resultArr.push(n),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===t.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(n){let i=this.state.resultTable,a=n.key.pop();for(let l of n.key){if(hasKey(i,l)&&(!isTable(i[l])||i[l][_declared]))throw this.error(new TomlError("Can't redefine existing key"));i=i[l]=i[l]||Table()}if(hasKey(i,a))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(n.value)||isFloat(n.value)?i[a]=n.value.valueOf():i[a]=n.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===t.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}return e}});var ah=L((rE,oh)=>{"use strict";oh.exports=i_;function i_(t,e){if(t.pos==null||t.line==null)return t;let r=t.message;if(r+=` at row ${t.line+1}, col ${t.col+1}, pos ${t.pos}:
`,e&&e.split){let n=e.split(/\n/),i=String(Math.min(n.length,t.line+3)).length,a=" ";for(;a.length<i;)a+=" ";for(let l=Math.max(0,t.line-1);l<Math.min(n.length,t.line+2);++l){let f=String(l+1);if(f.length<i&&(f=" "+f),t.line===l){r+=f+"> "+n[l]+`
`,r+=a+"  ";for(let c=0;c<t.col;++c)r+=" ";r+=`^
`}else r+=f+": "+n[l]+`
`}}return t.message=r+`
`,t}});var uh=L((nE,lh)=>{"use strict";lh.exports=l_;var o_=ih(),a_=ah();function l_(t){global.Buffer&&global.Buffer.isBuffer(t)&&(t=t.toString("utf8"));let e=new o_;try{return e.parse(t),e.finish()}catch(r){throw a_(r,t)}}});function ii({onlyFirst:t=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}var ci=Fe(Da(),1);var Ba=ci.default.HttpProxyAgent,Fa=ci.default.HttpsProxyAgent;var Ur=class extends Map{#e=0;#r=new Map;#t=new Map;#u;#w;#a;constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.#u=e.maxSize,this.#w=e.maxAge||Number.POSITIVE_INFINITY,this.#a=e.onEviction}get __oldCache(){return this.#t}#m(e){if(typeof this.#a=="function")for(let[r,n]of e)this.#a(r,n.value)}#s(e,r){return typeof r.expiry=="number"&&r.expiry<=Date.now()?(typeof this.#a=="function"&&this.#a(e,r.value),this.delete(e)):!1}#i(e,r){if(this.#s(e,r)===!1)return r.value}#n(e,r){return r.expiry?this.#i(e,r):r.value}#c(e,r){let n=r.get(e);return this.#n(e,n)}#d(e,r){this.#r.set(e,r),this.#e++,this.#e>=this.#u&&(this.#e=0,this.#m(this.#t),this.#t=this.#r,this.#r=new Map)}#f(e,r){this.#t.delete(e),this.#d(e,r)}*#l(){for(let e of this.#t){let[r,n]=e;this.#r.has(r)||this.#s(r,n)===!1&&(yield e)}for(let e of this.#r){let[r,n]=e;this.#s(r,n)===!1&&(yield e)}}get(e){if(this.#r.has(e)){let r=this.#r.get(e);return this.#n(e,r)}if(this.#t.has(e)){let r=this.#t.get(e);if(this.#s(e,r)===!1)return this.#f(e,r),r.value}}set(e,r,{maxAge:n=this.#w}={}){let i=typeof n=="number"&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;return this.#r.has(e)?this.#r.set(e,{value:r,expiry:i}):this.#d(e,{value:r,expiry:i}),this}has(e){return this.#r.has(e)?!this.#s(e,this.#r.get(e)):this.#t.has(e)?!this.#s(e,this.#t.get(e)):!1}peek(e){if(this.#r.has(e))return this.#c(e,this.#r);if(this.#t.has(e))return this.#c(e,this.#t)}delete(e){let r=this.#r.delete(e);return r&&this.#e--,this.#t.delete(e)||r}clear(){this.#r.clear(),this.#t.clear(),this.#e=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");let r=[...this.#l()],n=r.length-e;n<0?(this.#r=new Map(r),this.#t=new Map,this.#e=r.length):(n>0&&this.#m(r.slice(0,n)),this.#t=new Map(r.slice(n)),this.#r=new Map,this.#e=0),this.#u=e}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.#r){let[r,n]=e;this.#s(r,n)===!1&&(yield[r,n.value])}for(let e of this.#t){let[r,n]=e;this.#r.has(r)||this.#s(r,n)===!1&&(yield[r,n.value])}}*entriesDescending(){let e=[...this.#r];for(let r=e.length-1;r>=0;--r){let n=e[r],[i,a]=n;this.#s(i,a)===!1&&(yield[i,a.value])}e=[...this.#t];for(let r=e.length-1;r>=0;--r){let n=e[r],[i,a]=n;this.#r.has(i)||this.#s(i,a)===!1&&(yield[i,a.value])}}*entriesAscending(){for(let[e,r]of this.#l())yield[e,r.value]}get size(){if(!this.#e)return this.#t.size;let e=0;for(let r of this.#t.keys())this.#r.has(r)||e++;return Math.min(this.#e+e,this.#u)}get maxSize(){return this.#u}entries(){return this.entriesAscending()}forEach(e,r=this){for(let[n,i]of this.entriesAscending())e.call(r,i,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}};var Wa=Fe(Ua(),1);import{Agent as pp}from"node:http";import{Agent as mp}from"node:https";var gp={agentCacheSize:512},Ma={maxSockets:64,keepAlive:!1},fi=class t extends Error{constructor(e){super(e),this.name="TimeoutError",Error.captureStackTrace(this,t)}};function hi(t,e={}){if(!("undici"in e))throw new Error("The 'undici' option is required");let r={...gp,...e},n=new Ur({maxSize:r.agentCacheSize});async function i(l,f={}){let{origin:c,protocol:h}=new URL(l),b=f?.noProxy?null:(0,Wa.getProxyForUrl)(l),g=JSON.stringify({proxyUrl:b,origin:c,...f});if(n.has(g))return n.get(g);let m;if("noProxy"in f&&delete f.noProxy,e.undici){let{ProxyAgent:d,Agent:R}=await import("undici"),S={...f};"keepAlive"in S&&!("pipelining"in S)&&(S.pipelining=S.keepAlive?1:0),"keepAlive"in S&&delete S.keepAlive,"maxSockets"in S&&(S.connections=S.maxSockets,delete S.maxSockets),b?m=new d({...S,uri:b}):m=new R(S)}else{let d=h==="https:";b?m=new(d?Fa:Ba)({...f,proxy:b}):m=new(d?mp:pp)(f)}return n.set(g,m),m}let a=(l,{timeout:f=0,agentOpts:c={},...h}={})=>new Promise(async(b,g)=>{if(!e.undici&&!("agent"in h)){let R=await i(l,{...Ma,...c});R&&(h.agent=R)}else if(e.undici&&!("dispatcher"in h)){let R=await i(l,{...Ma,...c});R&&(h.dispatcher=R)}let m,d;f&&(!("signal"in h)&&globalThis.AbortController&&(d=new AbortController,h.signal=d.signal),m=setTimeout(()=>{d?.abort?.();let R=new fi(`${h.method||"GET"} ${l} timed out after ${f}ms`);g(R)},f),m?.unref?.()),t(l,h).then(R=>{m&&clearTimeout(m),b(R)}).catch(R=>{if(m&&clearTimeout(m),R.name==="AbortError")return b(null);g(R)})});return a.clearCache=()=>{for(let l of n.values())"destroy"in l&&l.destroy();n.clear()},a}var Th=Fe(di(),1);import zp from"node:http";import jp from"node:https";import ar from"node:zlib";import Tl,{PassThrough as Cl,pipeline as lr}from"node:stream";import{Buffer as Jn}from"node:buffer";function yp(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let r=t.substring(5,e).split(";"),n="",i=!1,a=r[0]||"text/plain",l=a;for(let b=1;b<r.length;b++)r[b]==="base64"?i=!0:r[b]&&(l+=`;${r[b]}`,r[b].indexOf("charset=")===0&&(n=r[b].substring(8)));!r[0]&&!n.length&&(l+=";charset=US-ASCII",n="US-ASCII");let f=i?"base64":"ascii",c=unescape(t.substring(e+1)),h=Buffer.from(c,f);return h.type=a,h.typeFull=l,h.charset=n,h}var Ga=yp;Mr();zn();import St,{PassThrough as fl}from"node:stream";import{types as hl,deprecate as wi,promisify as Hp}from"node:util";import{Buffer as qe}from"node:buffer";var ot=class extends Error{constructor(e,r){super(e),Error.captureStackTrace(this,this.constructor),this.type=r}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var $e=class extends ot{constructor(e,r,n){super(e,r),n&&(this.code=this.errno=n.code,this.erroredSysCall=n.syscall)}};var jn=Symbol.toStringTag,yi=t=>typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&typeof t.sort=="function"&&t[jn]==="URLSearchParams",kr=t=>t&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[jn]),tl=t=>typeof t=="object"&&(t[jn]==="AbortSignal"||t[jn]==="EventTarget"),rl=(t,e)=>{let r=new URL(e).hostname,n=new URL(t).hostname;return r===n||r.endsWith(`.${n}`)},nl=(t,e)=>{let r=new URL(e).protocol,n=new URL(t).protocol;return r===n};var Dp=Hp(St.pipeline),Ie=Symbol("Body internals"),Ze=class{constructor(e,{size:r=0}={}){let n=null;e===null?e=null:yi(e)?e=qe.from(e.toString()):kr(e)||qe.isBuffer(e)||(hl.isAnyArrayBuffer(e)?e=qe.from(e):ArrayBuffer.isView(e)?e=qe.from(e.buffer,e.byteOffset,e.byteLength):e instanceof St||(e instanceof Pt?(e=el(e),n=e.type.split("=")[1]):e=qe.from(String(e))));let i=e;qe.isBuffer(e)?i=St.Readable.from(e):kr(e)&&(i=St.Readable.from(e.stream())),this[Ie]={body:e,stream:i,boundary:n,disturbed:!1,error:null},this.size=r,e instanceof St&&e.on("error",a=>{let l=a instanceof ot?a:new $e(`Invalid response body while trying to fetch ${this.url}: ${a.message}`,"system",a);this[Ie].error=l})}get body(){return this[Ie].stream}get bodyUsed(){return this[Ie].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:r,byteLength:n}=await Si(this);return e.slice(r,r+n)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let n=new Pt,i=new URLSearchParams(await this.text());for(let[a,l]of i)n.append(a,l);return n}let{toFormData:r}=await Promise.resolve().then(()=>(cl(),ul));return r(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[Ie].body&&this[Ie].body.type||"",r=await this.arrayBuffer();return new it([r],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await Si(this);return new TextDecoder().decode(e)}buffer(){return Si(this)}};Ze.prototype.buffer=wi(Ze.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Ze.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:wi(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Si(t){if(t[Ie].disturbed)throw new TypeError(`body used already for: ${t.url}`);if(t[Ie].disturbed=!0,t[Ie].error)throw t[Ie].error;let{body:e}=t;if(e===null)return qe.alloc(0);if(!(e instanceof St))return qe.alloc(0);let r=[],n=0;try{for await(let i of e){if(t.size>0&&n+i.length>t.size){let a=new $e(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw e.destroy(a),a}n+=i.length,r.push(i)}}catch(i){throw i instanceof ot?i:new $e(`Invalid response body while trying to fetch ${t.url}: ${i.message}`,"system",i)}if(e.readableEnded===!0||e._readableState.ended===!0)try{return r.every(i=>typeof i=="string")?qe.from(r.join("")):qe.concat(r,n)}catch(i){throw new $e(`Could not create Buffer from response body for ${t.url}: ${i.message}`,"system",i)}else throw new $e(`Premature close of server response while trying to fetch ${t.url}`)}var ir=(t,e)=>{let r,n,{body:i}=t[Ie];if(t.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof St&&typeof i.getBoundary!="function"&&(r=new fl({highWaterMark:e}),n=new fl({highWaterMark:e}),i.pipe(r),i.pipe(n),t[Ie].stream=r,i=n),i},Bp=wi(t=>t.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Yn=(t,e)=>t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":yi(t)?"application/x-www-form-urlencoded;charset=UTF-8":kr(t)?t.type||null:qe.isBuffer(t)||hl.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof Pt?`multipart/form-data; boundary=${e[Ie].boundary}`:t&&typeof t.getBoundary=="function"?`multipart/form-data;boundary=${Bp(t)}`:t instanceof St?null:"text/plain;charset=UTF-8",dl=t=>{let{body:e}=t[Ie];return e===null?0:kr(e)?e.size:qe.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null},pl=async(t,{body:e})=>{e===null?t.end():await Dp(e,t)};import{types as ml}from"node:util";import Kn from"node:http";var Qn=typeof Kn.validateHeaderName=="function"?Kn.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let e=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},Ei=typeof Kn.validateHeaderValue=="function"?Kn.validateHeaderValue:(t,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){let r=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_CHAR"}),r}},De=class t extends URLSearchParams{constructor(e){let r=[];if(e instanceof t){let n=e.raw();for(let[i,a]of Object.entries(n))r.push(...a.map(l=>[i,l]))}else if(e!=null)if(typeof e=="object"&&!ml.isBoxedPrimitive(e)){let n=e[Symbol.iterator];if(n==null)r.push(...Object.entries(e));else{if(typeof n!="function")throw new TypeError("Header pairs must be iterable");r=[...e].map(i=>{if(typeof i!="object"||ml.isBoxedPrimitive(i))throw new TypeError("Each header pair must be an iterable object");return[...i]}).map(i=>{if(i.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...i]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return r=r.length>0?r.map(([n,i])=>(Qn(n),Ei(n,String(i)),[String(n).toLowerCase(),String(i)])):void 0,super(r),new Proxy(this,{get(n,i,a){switch(i){case"append":case"set":return(l,f)=>(Qn(l),Ei(l,String(f)),URLSearchParams.prototype[i].call(n,String(l).toLowerCase(),String(f)));case"delete":case"has":case"getAll":return l=>(Qn(l),URLSearchParams.prototype[i].call(n,String(l).toLowerCase()));case"keys":return()=>(n.sort(),new Set(URLSearchParams.prototype.keys.call(n)).keys());default:return Reflect.get(n,i,a)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let r=this.getAll(e);if(r.length===0)return null;let n=r.join(", ");return/^content-encoding$/i.test(e)&&(n=n.toLowerCase()),n}forEach(e,r=void 0){for(let n of this.keys())Reflect.apply(e,r,[this.get(n),n,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,r)=>(e[r]=this.getAll(r),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,r)=>{let n=this.getAll(r);return r==="host"?e[r]=n[0]:e[r]=n.length>1?n:n[0],e},{})}};Object.defineProperties(De.prototype,["get","entries","forEach","values"].reduce((t,e)=>(t[e]={enumerable:!0},t),{}));function gl(t=[]){return new De(t.reduce((e,r,n,i)=>(n%2===0&&e.push(i.slice(n,n+2)),e),[]).filter(([e,r])=>{try{return Qn(e),Ei(e,String(r)),!0}catch{return!1}}))}var Fp=new Set([301,302,303,307,308]),Xn=t=>Fp.has(t);var Ve=Symbol("Response internals"),Ue=class t extends Ze{constructor(e=null,r={}){super(e,r);let n=r.status!=null?r.status:200,i=new De(r.headers);if(e!==null&&!i.has("Content-Type")){let a=Yn(e,this);a&&i.append("Content-Type",a)}this[Ve]={type:"default",url:r.url,status:n,statusText:r.statusText||"",headers:i,counter:r.counter,highWaterMark:r.highWaterMark}}get type(){return this[Ve].type}get url(){return this[Ve].url||""}get status(){return this[Ve].status}get ok(){return this[Ve].status>=200&&this[Ve].status<300}get redirected(){return this[Ve].counter>0}get statusText(){return this[Ve].statusText}get headers(){return this[Ve].headers}get highWaterMark(){return this[Ve].highWaterMark}clone(){return new t(ir(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,r=302){if(!Xn(r))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new t(null,{headers:{location:new URL(e).toString()},status:r})}static error(){let e=new t(null,{status:0,statusText:""});return e[Ve].type="error",e}static json(e=void 0,r={}){let n=JSON.stringify(e);if(n===void 0)throw new TypeError("data is not JSON serializable");let i=new De(r&&r.headers);return i.has("content-type")||i.set("content-type","application/json"),new t(n,{...r,headers:i})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(Ue.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});import{format as Mp}from"node:url";import{deprecate as Wp}from"node:util";var bl=t=>{if(t.search)return t.search;let e=t.href.length-1,r=t.hash||(t.href[e]==="#"?"#":"");return t.href[e-r.length]==="?"?"?":""};import{isIP as qp}from"node:net";function yl(t,e=!1){return t==null||(t=new URL(t),/^(about|blob|data):$/.test(t.protocol))?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}var _l=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Rl="strict-origin-when-cross-origin";function Sl(t){if(!_l.has(t))throw new TypeError(`Invalid referrerPolicy: ${t}`);return t}function Up(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;let e=t.host.replace(/(^\[)|(]$)/g,""),r=qp(e);return r===4&&/^127\./.test(e)||r===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e)?!0:t.host==="localhost"||t.host.endsWith(".localhost")?!1:t.protocol==="file:"}function or(t){return/^about:(blank|srcdoc)$/.test(t)||t.protocol==="data:"||/^(blob|filesystem):$/.test(t.protocol)?!0:Up(t)}function wl(t,{referrerURLCallback:e,referrerOriginCallback:r}={}){if(t.referrer==="no-referrer"||t.referrerPolicy==="")return null;let n=t.referrerPolicy;if(t.referrer==="about:client")return"no-referrer";let i=t.referrer,a=yl(i),l=yl(i,!0);a.toString().length>4096&&(a=l),e&&(a=e(a)),r&&(l=r(l));let f=new URL(t.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return l;case"unsafe-url":return a;case"strict-origin":return or(a)&&!or(f)?"no-referrer":l.toString();case"strict-origin-when-cross-origin":return a.origin===f.origin?a:or(a)&&!or(f)?"no-referrer":l;case"same-origin":return a.origin===f.origin?a:"no-referrer";case"origin-when-cross-origin":return a.origin===f.origin?a:l;case"no-referrer-when-downgrade":return or(a)&&!or(f)?"no-referrer":a;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}function El(t){let e=(t.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let n of e)n&&_l.has(n)&&(r=n);return r}var _e=Symbol("Request internals"),jr=t=>typeof t=="object"&&typeof t[_e]=="object",kp=Wp(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),Ht=class t extends Ze{constructor(e,r={}){let n;if(jr(e)?n=new URL(e.url):(n=new URL(e),e={}),n.username!==""||n.password!=="")throw new TypeError(`${n} is an url with embedded credentials.`);let i=r.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(i)&&(i=i.toUpperCase()),!jr(r)&&"data"in r&&kp(),(r.body!=null||jr(e)&&e.body!==null)&&(i==="GET"||i==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body?r.body:jr(e)&&e.body!==null?ir(e):null;super(a,{size:r.size||e.size||0});let l=new De(r.headers||e.headers||{});if(a!==null&&!l.has("Content-Type")){let h=Yn(a,this);h&&l.set("Content-Type",h)}let f=jr(e)?e.signal:null;if("signal"in r&&(f=r.signal),f!=null&&!tl(f))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let c=r.referrer==null?e.referrer:r.referrer;if(c==="")c="no-referrer";else if(c){let h=new URL(c);c=/^about:(\/\/)?client$/.test(h)?"client":h}else c=void 0;this[_e]={method:i,redirect:r.redirect||e.redirect||"follow",headers:l,parsedURL:n,signal:f,referrer:c},this.follow=r.follow===void 0?e.follow===void 0?20:e.follow:r.follow,this.compress=r.compress===void 0?e.compress===void 0?!0:e.compress:r.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent,this.highWaterMark=r.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=r.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=r.referrerPolicy||e.referrerPolicy||""}get method(){return this[_e].method}get url(){return Mp(this[_e].parsedURL)}get headers(){return this[_e].headers}get redirect(){return this[_e].redirect}get signal(){return this[_e].signal}get referrer(){if(this[_e].referrer==="no-referrer")return"";if(this[_e].referrer==="client")return"about:client";if(this[_e].referrer)return this[_e].referrer.toString()}get referrerPolicy(){return this[_e].referrerPolicy}set referrerPolicy(e){this[_e].referrerPolicy=Sl(e)}clone(){return new t(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(Ht.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var Al=t=>{let{parsedURL:e}=t[_e],r=new De(t[_e].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(t.body===null&&/^(post|put)$/i.test(t.method)&&(n="0"),t.body!==null){let f=dl(t);typeof f=="number"&&!Number.isNaN(f)&&(n=String(f))}n&&r.set("Content-Length",n),t.referrerPolicy===""&&(t.referrerPolicy=Rl),t.referrer&&t.referrer!=="no-referrer"?t[_e].referrer=wl(t):t[_e].referrer="no-referrer",t[_e].referrer instanceof URL&&r.set("Referer",t.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),t.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:i}=t;typeof i=="function"&&(i=i(e));let a=bl(e),l={path:e.pathname+a,method:t.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:i};return{parsedURL:e,options:l}};var Zn=class extends ot{constructor(e,r="aborted"){super(e,r)}};zn();_i();var Gp=new Set(["data:","http:","https:"]);async function es(t,e){return new Promise((r,n)=>{let i=new Ht(t,e),{parsedURL:a,options:l}=Al(i);if(!Gp.has(a.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${a.protocol.replace(/:$/,"")}" is not supported.`);if(a.protocol==="data:"){let R=Ga(i.url),S=new Ue(R,{headers:{"Content-Type":R.typeFull}});r(S);return}let f=(a.protocol==="https:"?jp:zp).request,{signal:c}=i,h=null,b=()=>{let R=new Zn("The operation was aborted.");n(R),i.body&&i.body instanceof Tl.Readable&&i.body.destroy(R),!(!h||!h.body)&&h.body.emit("error",R)};if(c&&c.aborted){b();return}let g=()=>{b(),d()},m=f(a.toString(),l);c&&c.addEventListener("abort",g);let d=()=>{m.abort(),c&&c.removeEventListener("abort",g)};m.on("error",R=>{n(new $e(`request to ${i.url} failed, reason: ${R.message}`,"system",R)),d()}),Vp(m,R=>{h&&h.body&&h.body.destroy(R)}),process.version<"v14"&&m.on("socket",R=>{let S;R.prependListener("end",()=>{S=R._eventsCount}),R.prependListener("close",$=>{if(h&&S<R._eventsCount&&!$){let x=new Error("Premature close");x.code="ERR_STREAM_PREMATURE_CLOSE",h.body.emit("error",x)}})}),m.on("response",R=>{m.setTimeout(0);let S=gl(R.rawHeaders);if(Xn(R.statusCode)){let T=S.get("Location"),O=null;try{O=T===null?null:new URL(T,i.url)}catch{if(i.redirect!=="manual"){n(new $e(`uri requested responds with an invalid redirect URL: ${T}`,"invalid-redirect")),d();return}}switch(i.redirect){case"error":n(new $e(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),d();return;case"manual":break;case"follow":{if(O===null)break;if(i.counter>=i.follow){n(new $e(`maximum redirect reached at: ${i.url}`,"max-redirect")),d();return}let P={headers:new De(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:ir(i),signal:i.signal,size:i.size,referrer:i.referrer,referrerPolicy:i.referrerPolicy};if(!rl(i.url,O)||!nl(i.url,O))for(let D of["authorization","www-authenticate","cookie","cookie2"])P.headers.delete(D);if(R.statusCode!==303&&i.body&&e.body instanceof Tl.Readable){n(new $e("Cannot follow redirect with body being a readable stream","unsupported-redirect")),d();return}(R.statusCode===303||(R.statusCode===301||R.statusCode===302)&&i.method==="POST")&&(P.method="GET",P.body=void 0,P.headers.delete("content-length"));let H=El(S);H&&(P.referrerPolicy=H),r(es(new Ht(O,P))),d();return}default:return n(new TypeError(`Redirect option '${i.redirect}' is not a valid value of RequestRedirect`))}}c&&R.once("end",()=>{c.removeEventListener("abort",g)});let $=lr(R,new Cl,T=>{T&&n(T)});process.version<"v12.10"&&R.on("aborted",g);let x={url:i.url,status:R.statusCode,statusText:R.statusMessage,headers:S,size:i.size,counter:i.counter,highWaterMark:i.highWaterMark},I=S.get("Content-Encoding");if(!i.compress||i.method==="HEAD"||I===null||R.statusCode===204||R.statusCode===304){h=new Ue($,x),r(h);return}let U={flush:ar.Z_SYNC_FLUSH,finishFlush:ar.Z_SYNC_FLUSH};if(I==="gzip"||I==="x-gzip"){$=lr($,ar.createGunzip(U),T=>{T&&n(T)}),h=new Ue($,x),r(h);return}if(I==="deflate"||I==="x-deflate"){let T=lr(R,new Cl,O=>{O&&n(O)});T.once("data",O=>{(O[0]&15)===8?$=lr($,ar.createInflate(),P=>{P&&n(P)}):$=lr($,ar.createInflateRaw(),P=>{P&&n(P)}),h=new Ue($,x),r(h)}),T.once("end",()=>{h||(h=new Ue($,x),r(h))});return}if(I==="br"){$=lr($,ar.createBrotliDecompress(),T=>{T&&n(T)}),h=new Ue($,x),r(h);return}h=new Ue($,x),r(h)}),pl(m,i).catch(n)})}function Vp(t,e){let r=Jn.from(`0\r
\r
`),n=!1,i=!1,a;t.on("response",l=>{let{headers:f}=l;n=f["transfer-encoding"]==="chunked"&&!f["content-length"]}),t.on("socket",l=>{let f=()=>{if(n&&!i){let h=new Error("Premature close");h.code="ERR_STREAM_PREMATURE_CLOSE",e(h)}},c=h=>{i=Jn.compare(h.slice(-5),r)===0,!i&&a&&(i=Jn.compare(a.slice(-3),r.slice(0,3))===0&&Jn.compare(h.slice(-2),r.slice(3))===0),a=h};l.prependListener("close",f),l.on("data",c),t.on("close",()=>{l.removeListener("close",f),l.removeListener("data",c)})})}var Ch=Fe(eu(),1),xh=Fe(xi(),1),ie=Fe(Xc(),1),vh=Fe(rf(),1),Oh=Fe(bf(),1);import{cwd as u_,stdout as c_,argv as f_,env as Os,exit as ch,versions as h_}from"node:process";import{join as Is,dirname as $h,basename as _o,resolve as $s}from"node:path";import{lstatSync as fh,readFileSync as hh,truncateSync as d_,writeFileSync as p_,accessSync as m_}from"node:fs";var py=[[1e3,6e4,"sec"],[6e4,36e5,"min"],[36e5,864e5,"hour"],[864e5,6048e5,"day"],[6048e5,2628e6,"week"],[2628e6,31536e6,"month"],[31536e6,1/0,"year"]],my={"1 day ago":"yesterday","1 week ago":"last week","1 month ago":"last month","1 year ago":"last year","in 1 day":"tomorrow","in 1 week":"next week","in 1 month":"next month","in 1 year":"next year"};function _s(t,{now:e,noAffix:r=!1,times:n=py,nowThreshold:i=2e3,nowString:a="now",aliases:l=!1,aliasesMap:f=my}={}){if(t=typeof t=="number"?t:Date.parse(t),e=e?typeof e=="number"?e:Date.parse(e):new Date,Number.isNaN(t))return"unknown";let c=!1,h=e-t;if(h<0&&(c=!0,h=Math.abs(h)),h<i)return a;let b,g;for(let d=0,R=n.length;d<R;d++){let S=n[d];if(!(h>=S[1])){b=Math.floor(h/S[0]),g=S[2]+(b>1?"s":"");break}}let m=`${c&&!r?"in ":""}${b} ${g}${!c&&!r?" ago":""}`;return l?f[m]??m:m}import Ji from"node:process";import gy from"node:os";import yf from"node:tty";function ke(t,e=globalThis.Deno?globalThis.Deno.args:Ji.argv){let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}var{env:he}=Ji,Rs;ke("no-color")||ke("no-colors")||ke("color=false")||ke("color=never")?Rs=0:(ke("color")||ke("colors")||ke("color=true")||ke("color=always"))&&(Rs=1);function by(){if("FORCE_COLOR"in he)return he.FORCE_COLOR==="true"?1:he.FORCE_COLOR==="false"?0:he.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(he.FORCE_COLOR,10),3)}function yy(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function _y(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let n=by();n!==void 0&&(Rs=n);let i=r?Rs:n;if(i===0)return 0;if(r){if(ke("color=16m")||ke("color=full")||ke("color=truecolor"))return 3;if(ke("color=256"))return 2}if("TF_BUILD"in he&&"AGENT_NAME"in he)return 1;if(t&&!e&&i===void 0)return 0;let a=i||0;if(he.TERM==="dumb")return a;if(Ji.platform==="win32"){let l=gy.release().split(".");return Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in he)return"GITHUB_ACTIONS"in he||"GITEA_ACTIONS"in he?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(l=>l in he)||he.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in he)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(he.TEAMCITY_VERSION)?1:0;if(he.COLORTERM==="truecolor"||he.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in he){let l=Number.parseInt((he.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(he.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(he.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(he.TERM)||"COLORTERM"in he?1:a}function _f(t,e={}){let r=_y(t,{streamIsTTY:t&&t.isTTY,...e});return yy(r)}var Ry={stdout:_f({isTTY:yf.isatty(1)}),stderr:_f({isTTY:yf.isatty(2)})},Rf=Ry;var Sf=!0;function wf(){Sf=!1}function eo(t,e,r){return Sf?`\x1B[${e}m${t.join(" ")}\x1B[${r}m`:t.join(" ")}var to=(...t)=>eo(t,31,39),gr=(...t)=>eo(t,32,39);var Ss=(...t)=>eo(t,35,39);var Sy=t=>{let e=typeof t;return t!==null&&(e==="object"||e==="function")};var ro=new Set(["__proto__","prototype","constructor"]),wy=new Set("0123456789");function Ey(t){let e=[],r="",n="start",i=!1;for(let a of t)switch(a){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");i&&(r+=a),n="property",i=!i;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(i){i=!1,r+=a;break}if(ro.has(r))return[];e.push(r),r="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(i){i=!1,r+=a;break}if(n==="property"){if(ro.has(r))return[];e.push(r),r=""}n="index";break}case"]":{if(n==="index"){e.push(Number.parseInt(r,10)),r="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!wy.has(a))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),i&&(i=!1,r+="\\"),r+=a}}switch(i&&(r+="\\"),n){case"property":{if(ro.has(r))return[];e.push(r);break}case"index":throw new Error("Index was not closed");case"start":{e.push("");break}}return e}function Ay(t,e){if(typeof e!="number"&&Array.isArray(t)){let r=Number.parseInt(e,10);return Number.isInteger(r)&&t[r]===t[e]}return!1}function Ef(t,e,r){if(!Sy(t)||typeof e!="string")return r===void 0?t:r;let n=Ey(e);if(n.length===0)return r;for(let i=0;i<n.length;i++){let a=n[i];if(Ay(t,a)?t=i===n.length-1?void 0:null:t=t[a],t==null){if(i!==n.length-1)return r;break}}return t===void 0?r:t}var no=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}},Af=t=>globalThis.DOMException===void 0?new no(t):new DOMException(t),Tf=t=>{let e=t.reason===void 0?Af("This operation was aborted."):t.reason;return e instanceof Error?e:Af(e)};async function so(t,e,{concurrency:r=Number.POSITIVE_INFINITY,stopOnError:n=!0,signal:i}={}){return new Promise((a,l)=>{if(t[Symbol.iterator]===void 0&&t[Symbol.asyncIterator]===void 0)throw new TypeError(`Expected \`input\` to be either an \`Iterable\` or \`AsyncIterable\`, got (${typeof t})`);if(typeof e!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(r)||r===Number.POSITIVE_INFINITY)&&r>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${r}\` (${typeof r})`);let f=[],c=[],h=new Map,b=!1,g=!1,m=!1,d=0,R=0,S=t[Symbol.iterator]===void 0?t[Symbol.asyncIterator]():t[Symbol.iterator](),$=I=>{b=!0,g=!0,l(I)};i&&(i.aborted&&$(Tf(i)),i.addEventListener("abort",()=>{$(Tf(i))}));let x=async()=>{if(g)return;let I=await S.next(),U=R;if(R++,I.done){if(m=!0,d===0&&!g){if(!n&&c.length>0){$(new AggregateError(c));return}if(g=!0,h.size===0){a(f);return}let T=[];for(let[O,P]of f.entries())h.get(O)!==Cf&&T.push(P);a(T)}return}d++,(async()=>{try{let T=await I.value;if(g)return;let O=await e(T,U);O===Cf&&h.set(U,O),f[U]=O,d--,await x()}catch(T){if(n)$(T);else{c.push(T),d--;try{await x()}catch(O){$(O)}}}})()};(async()=>{for(let I=0;I<r;I++){try{await x()}catch(U){$(U);break}if(m||b)break}})()})}var Cf=Symbol("skip");async function io(t,e){return so(t,r=>r(),e)}function br(t,e){var r=0,n,i;e=e||{};function a(){var l=n,f=arguments.length,c,h;e:for(;l;){if(l.args.length!==arguments.length){l=l.next;continue}for(h=0;h<f;h++)if(l.args[h]!==arguments[h]){l=l.next;continue e}return l!==n&&(l===i&&(i=l.prev),l.prev.next=l.next,l.next&&(l.next.prev=l.prev),l.next=n,l.prev=null,n.prev=l,n=l),l.val}for(c=new Array(f),h=0;h<f;h++)c[h]=arguments[h];return l={args:c,val:t.apply(null,c)},n?(n.prev=l,l.next=n):i=l,r===e.maxSize?(i=i.prev,i.next=null):r++,n=l,l.val}return a.clear=function(){n=null,i=null,r=0},a}var To=Fe(Gf(),1),wr;globalThis.fetch&&!h_?.node?wr=globalThis.fetch:wr=hi(es,{undici:!1});var Ih=96,ft="\0",g_=/^.*?:\/\/(.*?@)?(github\.com[:/])/i,b_=/^([^/]+)\/([^/#]+)?.*?\/([0-9a-f]+|v?[0-9]+\.[0-9]+\.[0-9]+)$/i,Co=/^[0-9a-f]{7,}$/i,dh=/[0-9]+(\.[0-9]+)?(\.[0-9]+)?/g,Ls=t=>t.replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&"),y_=br(Oh.default.fromUrl),Ro=br(Ch.default),Ps=br(t=>t.endsWith("/")?t.substring(0,t.length-1):t),__=new Set(["patch"]),R_=new Set(["patch","minor"]),S_=new Set(["patch","minor","major"]),Lh="15.0.4",J=(0,Th.default)(f_.slice(2),{boolean:["E","error-on-outdated","U","error-on-unchanged","h","help","j","json","n","no-color","u","update","v","version","V","verbose"],string:["d","allow-downgrade","f","file","g","greatest","m","minor","P","patch","p","prerelease","R","release","r","registry","t","types","githubapi","pypiapi"],alias:{d:"allow-downgrade",E:"error-on-outdated",U:"error-on-unchanged",e:"exclude",f:"file",g:"greatest",h:"help",i:"include",j:"json",m:"minor",n:"no-color",P:"patch",p:"prerelease",r:"registry",R:"release",s:"semver",S:"sockets",t:"types",u:"update",v:"version",V:"verbose"}});(J["no-color"]||!Rf.stdout)&&wf();var Rr=cn(zt(J.greatest)),So=cn(zt(J.prerelease)),wo=cn(zt(J.release)),ph=cn(zt(J.patch)),mh=cn(zt(J.minor)),gh=zt(J["allow-downgrade"]),tt=(0,xh.default)("npm",{registry:"https://registry.npmjs.org"}),Eo={npmrc:tt,recursive:!0},bh=J.githubapi?Ps(J.githubapi):"https://api.github.com",w_=J.pypiapi?Ps(J.pypiapi):"https://pypi.org",Ph=typeof J.sockets=="number"?parseInt(J.sockets):Ih;function kt(t,e){for(let r of e instanceof Set?e:[])if(r.test(t))return!0;return!1}var E_=br((t,e)=>{let r=e[`${t}:registry`]||e.registry;return r.endsWith("/")?r:`${r}/`});function Nh(t,e,r){let n=Is(e,t);try{return m_(n),n}catch{}let i=$h(e);return r&&n===r||i===e?null:Nh(t,i,r)}function A_(t,e){if(t.startsWith("@")){let r=(/@[a-z0-9][\w-.]+/.exec(t)||[])[0],n=Ps(E_(r,tt));if(n!==e)try{let i=Ro(n,Eo);if(i?.token)return[i,n]}catch{}return[Ro(e,Eo),e]}else return[Ro(e,Eo),e]}var Hh=br((t,e,r)=>({...Object.keys(t).length&&{agentOpts:t},headers:{"user-agent":`updates/${Lh}`,...r&&{Authorization:`${e} ${r}`}}}));async function T_(t,e,r,n){let[i,a]=A_(t,r),f=(e==="resolutions"?B_(t):t).replace(/\//g,"%2f"),c=`${a}/${f}`;J.verbose&&console.error(`${Ss("fetch")} ${c}`);let h=await wr(c,Hh(n,i?.type,i?.token));if(h?.ok)return J.verbose&&console.error(`${gr("done")} ${c}`),[await h.json(),e,a,t];throw h?.status&&h?.statusText?new Error(`Received ${h.status} ${h.statusText} for ${t} from ${a}`):new Error(`Unable to fetch ${t} from ${a}`)}async function C_(t,e,r){let n=`${w_}/pypi/${t}/json`;J.verbose&&console.error(`${Ss("fetch")} ${n}`);let i=await wr(n,Hh(r));if(i?.ok)return J.verbose&&console.error(`${gr("done")} ${n}`),[await i.json(),e,null,t];throw i?.status&&i?.statusText?new Error(`Received ${i.status} ${i.statusText} for ${t} from PyPi`):new Error(`Unable to fetch ${t} from PyPi`)}function yh({repository:t,homepage:e,info:r},n,i){r&&(t=r.project_urls.repository||r.project_urls.Repository||r.project_urls.repo||r.project_urls.Repo||r.project_urls.source||r.project_urls.Source||r.project_urls["source code"]||r.project_urls["Source Code"]||r.project_urls.homepage||r.project_urls.Homepage||`https://pypi.org/project/${i}/`);let a;if(n==="https://npm.pkg.github.com")return`https://github.com/${i.replace(/^@/,"")}`;if(t){let l=typeof t=="string"?t:t.url,f=y_(l),c=f?.browse?.();c&&(a=c),a&&t.directory&&f.treepath&&(a=`${a}/${f.treepath}/HEAD/${t.directory}`),!a&&t?.url&&/^https?:/.test(t.url)&&(a=t.url),!a&&l&&(a=l)}return a||e||""}function _h(t){J.json?console.info(JSON.stringify({message:t})):console.info(t),Sr()}function Sr(t){if(t){let e=t.stack||t.message;J.json?console.info(JSON.stringify({error:e})):console.info(to(e))}process.exit(t?1:0)}function x_(t={}){for(let r of Object.keys(t))for(let n of Object.values(t[r]))"oldPrint"in n&&(n.old=n.oldPrint,delete n.oldPrint),"newPrint"in n&&(n.new=n.newPrint,delete n.newPrint),"oldOriginal"in n&&(n.old=n.oldOriginal,delete n.oldOriginal);let e=0;for(let r of Object.keys(t))e+=Object.keys(t[r]).length;if(J.json){let r={results:{}};for(let n of Object.keys(t))for(let[i,a]of Object.entries(t[n])){let[l,f]=i.split(ft);r.results[n]||(r.results[n]={}),r.results[n][l]||(r.results[n][l]={}),r.results[n][l][f]=a}console.info(JSON.stringify(r))}else e&&console.info(O_(t));return J["error-on-outdated"]?e?2:0:J["error-on-unchanged"]?e?0:2:0}async function v_(t,e){let{platform:r}=await import("node:os"),n=r()==="win32";n&&d_(t,0),p_(t,e,n?{flag:"r+"}:void 0)}function Rh(t,e,r){if(t===e)return t;let n=t.split(/\./),i=e.split(/\./),a=/^[0-9a-zA-Z-.]+$/,l="";for(let f=0;f<n.length;f++)if(n[f]!==i[f]){a.test(n[f])?l+=r(n.slice(f).join(".")):l+=n[f].split("").map(c=>a.test(c)?r(c):c).join("")+r(`.${n.slice(f+1).join(".")}`);break}else l+=`${n[f]}.`;return l}function O_(t){let e=[["NAME","OLD","NEW","AGE","INFO"]],r=new Set;for(let n of Object.keys(t))for(let[i,a]of Object.entries(t[n])){let l=i.split(ft)[1],f=`${n}|${l}`;r.has(f)||(r.add(f),e.push([l,Rh(a.old,a.new,to),Rh(a.new,a.old,gr),a.age||"",a.info]))}return(0,vh.default)(e,{hsep:" ",stringLength:n=>n.replace(ii(),"").length})}function $_(t,e){let r=t;for(let n of Object.keys(e)){let i=n.split(ft)[1],a=e[n].oldOriginal||e[n].old,l=new RegExp(`"${Ls(i)}": *"${Ls(a)}"`,"g");r=r.replace(l,`"${i}": "${e[n].new}"`)}return r}function I_(t,e){let r=t;for(let n of Object.keys(e)){let i=n.split(ft)[1],a=e[n].oldOriginal||e[n].old,l=new RegExp(`${Ls(i)} *= *"${Ls(a)}"`,"g");r=r.replace(l,`${i} = "${e[n].new}"`)}return r}function L_(t,e){return t.replace(/[0-9]+\.[0-9]+\.[0-9]+(-.+)?/g,e)}function Ao(t){let e=(0,ie.parse)(t);return e?!!e.prerelease.length:!1}function Dh(t){return/[0-9]+\.[0-9]+\.[0-9]+-.+/.test(t)}function P_(t){try{return(0,ie.coerce)(t).version}catch{return null}}function N_(t,e,{range:r,semvers:n,usePre:i,useRel:a,useGreatest:l}={}){let f=P_(r),c=0;n=new Set(n),i=Dh(r)||i,i&&(n.add("prerelease"),n.has("patch")&&n.add("prepatch"),n.has("minor")&&n.add("preminor"),n.has("major")&&n.add("premajor"));for(let h of e){let b=(0,ie.parse)(h);if(b.prerelease.length&&(!i||a))continue;let g=(0,ie.diff)(f,b.version);if(!(!g||!n.has(g)))if(l||!("time"in t))(0,ie.gte)((0,ie.coerce)(b.version).version,f)&&(f=b.version);else{let m=new Date(t.time[h]).getTime();m>=0&&m>c&&(f=b.version,c=m)}}return f||null}function H_(t,{mode:e,range:r,useGreatest:n,useRel:i,usePre:a,semvers:l}={}){if(r==="*"||r.includes("||"))return null;let f=Object.keys(e==="pypi"?t.releases:t.versions).filter(h=>(0,ie.valid)(h)),c=N_(t,f,{range:r,semvers:l,usePre:a,useRel:i,useGreatest:n});if(n)return c;{let h,b;e==="pypi"?(b=t.info.version,h=(0,ie.coerce)(t.info.version).version):h=t["dist-tags"].latest;let g=(0,ie.coerce)(r).version,m=Dh(r),d=Ao(c),R=Ao(h),S=(0,ie.gt)(c,g);if(!i&&a||m&&d||i&&!S&&m&&!d||m&&!d&&S)return c;if(m&&!d&&!S)return null;let $=(0,ie.diff)(g,h);return $&&$!=="prerelease"&&!l.has($.replace(/^pre/,""))||i&&Ao(h)?c:(0,ie.lt)(h,g)&&!R?gh===!0||kt(t.name,gh)?h:null:b??h}}async function D_([t,e],{useGreatest:r}={}){let n=e.old.replace(g_,""),[i,a,l,f]=b_.exec(n)||[];if(!(!a||!l||!f))if(Co.test(f)){let c={maxSockets:Ph},h=Os.UPDATES_GITHUB_API_TOKEN||Os.GITHUB_API_TOKEN||Os.GH_TOKEN||Os.HOMEBREW_GITHUB_API_TOKEN;h&&(c.headers={Authorization:`Bearer ${h}`});let b=`${bh}/repos/${a}/${l}/commits`;J.verbose&&console.error(`${Ss("fetch")} ${b}`);let g=await wr(b,c);if(J.verbose&&g?.ok&&console.error(`${gr("done")} ${b}`),!g||!g.ok)return;let m=await g.json(),{sha:d,commit:R}=m[0];if(!d||!d.length)return;let S=R?.committer?.date??R?.author?.date;if(d=d.substring(0,f.length),f!==d){let $=e.old.replace(f,d);return{key:t,newRange:$,user:a,repo:l,oldRef:f,newRef:d,newDate:S}}}else{let c=await wr(`${bh}/repos/${a}/${l}/git/refs/tags`);if(!c||!c.ok)return;let b=(await c.json()).map(m=>m.ref.replace(/^refs\/tags\//,"")),g=f.replace(/^v/,"");if(!(0,ie.valid)(g))return;if(r){let m=f,d=f.replace(/^v/,"");for(let R of b){let S=R.replace(/^v/,"");(0,ie.valid)(S)&&(!m||(0,ie.gt)(S,d))&&(m=R,d=S)}if((0,ie.neq)(g,d))return{key:t,newRange:m,user:a,repo:l,oldRef:f,newRef:m}}else{let m=b[b.length-1],d=m.replace(/^v/,"");if(!(0,ie.valid)(d))return;if((0,ie.neq)(g,d))return{key:t,newRange:m,user:a,repo:l,oldRef:f,newRef:m}}}}function B_(t){let e=t.match(/(@[^/]+\/)?([^/]+)/g)||[];return e[e.length-1]}function F_(t){let e=t.match(dh);return e?.length!==1?t:t.replace(dh,(0,ie.coerce)(e[0]))}function zt(t){return t===void 0?!1:t===""?!0:typeof t=="string"?t.includes(",")?new Set(t.split(",")):new Set([t]):Array.isArray(t)?new Set(t):!1}function Sh(t){return Array.from(t.matchAll(/(----BEGIN CERT[^]+?IFICATE----)/g),e=>e[0])}async function wh(t=[]){return[...(await import("node:tls")).rootCertificates,...t]}function xo(t,e){return e?/\/.+\//.test(t)?new RegExp(t.slice(1,-1)):To.default.makeRe(t):t instanceof RegExp?t:To.default.makeRe(t)}function cn(t){if(t instanceof Set){let e=new Set;for(let r of t)e.add(xo(r,!0));return e}return t}function Eh(t,e){let r=new Set;for(let n of t||[])r.add(xo(n,!0));for(let n of e||[])r.add(xo(n,!1));return r}function Ah(t,e,{include:r,exclude:n}){if(e==="pypi"&&t==="python")return!1;if(!r.size&&!n.size)return!0;for(let i of n)if(i.test(t))return!1;for(let i of r)if(i.test(t))return!0;return!r.size}function q_(t){let e=new Set;if(t)for(let r of t){let n;try{n=fh(r)}catch(i){throw new Error(`Unable to open ${r}: ${i.message}`)}if(n?.isFile())e.add($s(r));else if(n?.isDirectory())for(let i of["package.json","pyproject.toml"]){let a=Is(r,i),l;try{l=fh(a)}catch{}l?.isFile()&&e.add($s(a))}else throw new Error(`${r} is neither a file nor directory`)}else for(let r of["package.json","pyproject.toml"]){let n=u_(),i=Nh(r,n);i&&e.add($s(i))}return e}async function U_(){for(let m of[process.stdout,process.stderr])m?._handle?.setBlocking?.(!0);let{help:t,version:e,file:r,types:n,update:i}=J;t&&(c_.write(`usage: updates [options]

  Options:
    -u, --update                       Update versions and write package file
    -f, --file <path,...>              File or directory to use, defaults to current directory
    -i, --include <pkg,...>            Include only given packages
    -e, --exclude <pkg,...>            Exclude given packages
    -p, --prerelease [<pkg,...>]       Consider prerelease versions
    -R, --release [<pkg,...>]          Only use release versions, may downgrade
    -g, --greatest [<pkg,...>]         Prefer greatest over latest version
    -t, --types <type,...>             Check only given dependency types
    -P, --patch [<pkg,...>]            Consider only up to semver-patch
    -m, --minor [<pkg,...>]            Consider only up to semver-minor
    -d, --allow-downgrade [<pkg,...>]  Allow version downgrades when using latest version
    -E, --error-on-outdated            Exit with code 2 when updates are available and 0 when not
    -U, --error-on-unchanged           Exit with code 0 when updates are available and 2 when not
    -r, --registry <url>               Override npm registry URL
    -S, --sockets <num>                Maximum number of parallel HTTP sockets opened. Default: ${Ih}
    -j, --json                         Output a JSON object
    -n, --no-color                     Disable color output
    -v, --version                      Print the version
    -V, --verbose                      Print verbose output to stderr
    -h, --help                         Print this help

  Examples:
    $ updates
    $ updates -u
    $ updates -e '@vitejs/*'
    $ updates -e '/^react-(dom)?/'
    $ updates -f package.json
    $ updates -f pyproject.toml
`),ch(0)),e&&(console.info(Lh),ch(0));let a={},l={},f={},c={},h=0;for(let m of q_(zt(r))){let d=$h($s(m)),R=_o(m),S;R==="pyproject.toml"?S="pypi":S="npm",c[S]=m,a[S]||(a[S]={});let $={};try{$=(await import(Is(d,"updates.config.js"))).default}catch{try{$=(await import(Is(d,"updates.config.mjs"))).default}catch{}}let x,I;J.include&&J.include!==!0&&(x=(Array.isArray(J.include)?J.include:[J.include]).flatMap(_=>_.split(","))),J.exclude&&J.exclude!==!0&&(I=(Array.isArray(J.exclude)?J.exclude:[J.exclude]).flatMap(_=>_.split(",")));let U=Eh(x,$?.include),T=Eh(I,$?.exclude),O={};if(S==="npm"&&(tt["strict-ssl"]===!1&&(O.rejectUnauthorized=!1),"cafile"in tt&&(O.ca=wh(Sh(hh(tt.cafile,"utf8")))),"ca"in tt)){let _=Array.isArray(tt.ca)?tt.ca:[tt.ca];O.ca=wh(_.map(j=>Sh(j)))}let P;n?P=Array.isArray(n)?n:n.split(","):"types"in $&&Array.isArray($.types)?P=$.types:S==="npm"?P=["dependencies","devDependencies","optionalDependencies","peerDependencies","resolutions"]:P=["tool.poetry.dependencies","tool.poetry.dev-dependencies","tool.poetry.test-dependencies","tool.poetry.group.dev.dependencies","tool.poetry.group.test.dependencies"];let H;try{f[S]=hh(m,"utf8")}catch(_){throw new Error(`Unable to open ${m}: ${_.message}`)}try{S==="npm"?H=JSON.parse(f[S]):H=(await Promise.resolve().then(()=>Fe(uh(),1))).default(f[S])}catch(_){throw new Error(`Error parsing ${m}: ${_.message}`)}for(let _ of P){let j;S==="npm"?j=H[_]||{}:j=Ef(H,_)||{};for(let[k,X]of Object.entries(j))(0,ie.validRange)(X)&&Ah(k,S,{include:U,exclude:T})?a[S][`${_}${ft}${k}`]={old:F_(X),oldOriginal:X}:S==="npm"&&Ah(k,S,{include:U,exclude:T})&&(l[`${_}${ft}${k}`]={old:X})}if(h+=Object.keys(a[S]).length+Object.keys(l).length,!h)continue;let D;S==="npm"&&(D=Ps(J.registry||$.registry||tt.registry));let M=await io(Object.keys(a[S]).map(_=>()=>{let[j,k]=_.split(ft);return S==="npm"?T_(k,j,D,O):C_(k,j,O)}),{concurrency:Ph});for(let[_,j,k,X]of M){if(_?.error)throw new Error(_.error);let w=typeof Rr=="boolean"?Rr:kt(_.name,Rr),E=typeof So=="boolean"?So:kt(_.name,So),de=typeof wo=="boolean"?wo:kt(_.name,wo),Y;ph===!0||kt(_.name,ph)?Y=__:mh===!0||kt(_.name,mh)?Y=R_:Y=S_;let K=`${j}${ft}${X}`,Se=a[S][K].old,ce=H_(_,{usePre:E,useRel:de,useGreatest:w,semvers:Y,range:Se,mode:S}),Ee=L_(Se,ce);!ce||Se===Ee?delete a[S][K]:(a[S][K].new=Ee,S==="npm"?a[S][K].info=yh(_?.versions?.[ce],k,_.name):a[S][K].info=yh(_,k,_.info.name),_.time?.[ce]?a[S][K].age=_s(_.time[ce],{noAffix:!0}):_.releases?.[ce]?.[0]?.upload_time_iso_8601&&(a[S][K].age=_s(_.releases[ce][0].upload_time_iso_8601,{noAffix:!0})))}if(Object.keys(l).length){let _=await Promise.all(Object.entries(l).map(([j,k])=>{let X=j.split(ft)[1],w=typeof Rr=="boolean"?Rr:kt(X,Rr);return D_([j,k],{useGreatest:w})}));for(let j of(_||[]).filter(Boolean)){let{key:k,newRange:X,user:w,repo:E,oldRef:de,newRef:Y,newDate:K}=j;a[S][k]={old:l[k].old,new:X,oldPrint:Co.test(de)?de.substring(0,7):de,newPrint:Co.test(Y)?Y.substring(0,7):Y,info:`https://github.com/${w}/${E}`,...K?{age:_s(K,{noAffix:!0})}:{}}}}}h===0&&(_h("No dependencies found, nothing to do."),Sr());let b=0;for(let m of Object.keys(a))b+=Object.keys(a[m]).length;b||(_h("All dependencies are up to date."),Sr());let g=x_(a);if(i){for(let m of Object.keys(a))if(Object.keys(a[m]).length){try{let d;m==="npm"?d=$_:d=I_,await v_(c[m],d(f[m],a[m]))}catch(d){throw new Error(`Error writing ${_o(c[m])}: ${d.message}`)}console.info(gr(`\u2728 ${_o(c[m])} updated`))}}Sr(g)}U_().catch(Sr).then(Sr);
